<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MarineStream Digital Twin</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#050a14;overflow-x:hidden}
#root{min-height:100vh}
input[type="range"]{-webkit-appearance:auto}
select option{background:#0b1222;color:#e4e9f2}
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:#0b1222}
::-webkit-scrollbar-thumb{background:#1a2744;border-radius:3px}
table{border-spacing:0}
</style>
</head>
<body>
<div id="root"></div>
<script>
(()=>{var CW=Object.create;var _v=Object.defineProperty;var EW=Object.getOwnPropertyDescriptor;var TW=Object.getOwnPropertyNames;var IW=Object.getPrototypeOf,LW=Object.prototype.hasOwnProperty;var PW=(t,e,n)=>e in t?_v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ae=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),RW=(t,e)=>{for(var n in e)_v(t,n,{get:e[n],enumerable:!0})},OW=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of TW(e))!LW.call(t,a)&&a!==n&&_v(t,a,{get:()=>e[a],enumerable:!(r=EW(e,a))||r.enumerable});return t};var ae=(t,e,n)=>(n=t!=null?CW(IW(t)):{},OW(e||!t||!t.__esModule?_v(n,"default",{value:t,enumerable:!0}):n,t));var zc=(t,e,n)=>PW(t,typeof e!="symbol"?e+"":e,n);var cO=Ae(at=>{"use strict";var l1=Symbol.for("react.transitional.element"),DW=Symbol.for("react.portal"),NW=Symbol.for("react.fragment"),kW=Symbol.for("react.strict_mode"),BW=Symbol.for("react.profiler"),UW=Symbol.for("react.consumer"),FW=Symbol.for("react.context"),zW=Symbol.for("react.forward_ref"),HW=Symbol.for("react.suspense"),VW=Symbol.for("react.memo"),aO=Symbol.for("react.lazy"),GW=Symbol.for("react.activity"),eO=Symbol.iterator;function qW(t){return t===null||typeof t!="object"?null:(t=eO&&t[eO]||t["@@iterator"],typeof t=="function"?t:null)}var iO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oO=Object.assign,sO={};function Vc(t,e,n){this.props=t,this.context=e,this.refs=sO,this.updater=n||iO}Vc.prototype.isReactComponent={};Vc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lO(){}lO.prototype=Vc.prototype;function u1(t,e,n){this.props=t,this.context=e,this.refs=sO,this.updater=n||iO}var c1=u1.prototype=new lO;c1.constructor=u1;oO(c1,Vc.prototype);c1.isPureReactComponent=!0;var tO=Array.isArray;function s1(){}var un={H:null,A:null,T:null,S:null},uO=Object.prototype.hasOwnProperty;function f1(t,e,n){var r=n.ref;return{$$typeof:l1,type:t,key:e,ref:r!==void 0?r:null,props:n}}function WW(t,e){return f1(t.type,e,t.props)}function d1(t){return typeof t=="object"&&t!==null&&t.$$typeof===l1}function jW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nO=/\/+/g;function o1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jW(""+t.key):e.toString(36)}function XW(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(s1,s1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Hc(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case l1:case DW:o=!0;break;case aO:return o=t._init,Hc(o(t._payload),e,n,r,a)}}if(o)return a=a(t),o=r===""?"."+o1(t,0):r,tO(a)?(n="",o!=null&&(n=o.replace(nO,"$&/")+"/"),Hc(a,e,n,"",function(u){return u})):a!=null&&(d1(a)&&(a=WW(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(nO,"$&/")+"/")+o)),e.push(a)),1;o=0;var s=r===""?".":r+":";if(tO(t))for(var l=0;l<t.length;l++)r=t[l],i=s+o1(r,l),o+=Hc(r,e,n,i,a);else if(l=qW(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,i=s+o1(r,l++),o+=Hc(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return Hc(XW(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return o}function Mv(t,e,n){if(t==null)return t;var r=[],a=0;return Hc(t,r,"","",function(i){return e.call(n,i,a++)}),r}function YW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rO=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},KW={map:Mv,forEach:function(t,e,n){Mv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mv(t,function(){e++}),e},toArray:function(t){return Mv(t,function(e){return e})||[]},only:function(t){if(!d1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Activity=GW;at.Children=KW;at.Component=Vc;at.Fragment=NW;at.Profiler=BW;at.PureComponent=u1;at.StrictMode=kW;at.Suspense=HW;at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=un;at.__COMPILER_RUNTIME={__proto__:null,c:function(t){return un.H.useMemoCache(t)}};at.cache=function(t){return function(){return t.apply(null,arguments)}};at.cacheSignal=function(){return null};at.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=oO({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!uO.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];r.children=o}return f1(t.type,a,r)};at.createContext=function(t){return t={$$typeof:FW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:UW,_context:t},t};at.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)uO.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return f1(t,i,a)};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:zW,render:t}};at.isValidElement=d1;at.lazy=function(t){return{$$typeof:aO,_payload:{_status:-1,_result:t},_init:YW}};at.memo=function(t,e){return{$$typeof:VW,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=un.T,n={};un.T=n;try{var r=t(),a=un.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(s1,rO)}catch(i){rO(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),un.T=e}};at.unstable_useCacheRefresh=function(){return un.H.useCacheRefresh()};at.use=function(t){return un.H.use(t)};at.useActionState=function(t,e,n){return un.H.useActionState(t,e,n)};at.useCallback=function(t,e){return un.H.useCallback(t,e)};at.useContext=function(t){return un.H.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t,e){return un.H.useDeferredValue(t,e)};at.useEffect=function(t,e){return un.H.useEffect(t,e)};at.useEffectEvent=function(t){return un.H.useEffectEvent(t)};at.useId=function(){return un.H.useId()};at.useImperativeHandle=function(t,e,n){return un.H.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return un.H.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return un.H.useLayoutEffect(t,e)};at.useMemo=function(t,e){return un.H.useMemo(t,e)};at.useOptimistic=function(t,e){return un.H.useOptimistic(t,e)};at.useReducer=function(t,e,n){return un.H.useReducer(t,e,n)};at.useRef=function(t){return un.H.useRef(t)};at.useState=function(t){return un.H.useState(t)};at.useSyncExternalStore=function(t,e,n){return un.H.useSyncExternalStore(t,e,n)};at.useTransition=function(){return un.H.useTransition()};at.version="19.2.4"});var ce=Ae((ave,fO)=>{"use strict";fO.exports=cO()});var SO=Ae(vn=>{"use strict";function g1(t,e){var n=t.length;t.push(e);e:for(;0<n;){var r=n-1>>>1,a=t[r];if(0<Av(a,e))t[r]=e,t[n]=a,n=r;else break e}}function Ji(t){return t.length===0?null:t[0]}function Cv(t){if(t.length===0)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;e:for(var r=0,a=t.length,i=a>>>1;r<i;){var o=2*(r+1)-1,s=t[o],l=o+1,u=t[l];if(0>Av(s,n))l<a&&0>Av(u,s)?(t[r]=u,t[l]=n,r=l):(t[r]=s,t[o]=n,r=o);else if(l<a&&0>Av(u,n))t[r]=u,t[l]=n,r=l;else break e}}return e}function Av(t,e){var n=t.sortIndex-e.sortIndex;return n!==0?n:t.id-e.id}vn.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(dO=performance,vn.unstable_now=function(){return dO.now()}):(p1=Date,pO=p1.now(),vn.unstable_now=function(){return p1.now()-pO});var dO,p1,pO,Po=[],Fs=[],ZW=1,qa=null,Ar=3,v1=!1,kp=!1,Bp=!1,y1=!1,gO=typeof setTimeout=="function"?setTimeout:null,vO=typeof clearTimeout=="function"?clearTimeout:null,hO=typeof setImmediate<"u"?setImmediate:null;function wv(t){for(var e=Ji(Fs);e!==null;){if(e.callback===null)Cv(Fs);else if(e.startTime<=t)Cv(Fs),e.sortIndex=e.expirationTime,g1(Po,e);else break;e=Ji(Fs)}}function x1(t){if(Bp=!1,wv(t),!kp)if(Ji(Po)!==null)kp=!0,qc||(qc=!0,Gc());else{var e=Ji(Fs);e!==null&&b1(x1,e.startTime-t)}}var qc=!1,Up=-1,yO=5,xO=-1;function bO(){return y1?!0:!(vn.unstable_now()-xO<yO)}function h1(){if(y1=!1,qc){var t=vn.unstable_now();xO=t;var e=!0;try{e:{kp=!1,Bp&&(Bp=!1,vO(Up),Up=-1),v1=!0;var n=Ar;try{t:{for(wv(t),qa=Ji(Po);qa!==null&&!(qa.expirationTime>t&&bO());){var r=qa.callback;if(typeof r=="function"){qa.callback=null,Ar=qa.priorityLevel;var a=r(qa.expirationTime<=t);if(t=vn.unstable_now(),typeof a=="function"){qa.callback=a,wv(t),e=!0;break t}qa===Ji(Po)&&Cv(Po),wv(t)}else Cv(Po);qa=Ji(Po)}if(qa!==null)e=!0;else{var i=Ji(Fs);i!==null&&b1(x1,i.startTime-t),e=!1}}break e}finally{qa=null,Ar=n,v1=!1}e=void 0}}finally{e?Gc():qc=!1}}}var Gc;typeof hO=="function"?Gc=function(){hO(h1)}:typeof MessageChannel<"u"?(m1=new MessageChannel,mO=m1.port2,m1.port1.onmessage=h1,Gc=function(){mO.postMessage(null)}):Gc=function(){gO(h1,0)};var m1,mO;function b1(t,e){Up=gO(function(){t(vn.unstable_now())},e)}vn.unstable_IdlePriority=5;vn.unstable_ImmediatePriority=1;vn.unstable_LowPriority=4;vn.unstable_NormalPriority=3;vn.unstable_Profiling=null;vn.unstable_UserBlockingPriority=2;vn.unstable_cancelCallback=function(t){t.callback=null};vn.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yO=0<t?Math.floor(1e3/t):5};vn.unstable_getCurrentPriorityLevel=function(){return Ar};vn.unstable_next=function(t){switch(Ar){case 1:case 2:case 3:var e=3;break;default:e=Ar}var n=Ar;Ar=e;try{return t()}finally{Ar=n}};vn.unstable_requestPaint=function(){y1=!0};vn.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=Ar;Ar=t;try{return e()}finally{Ar=n}};vn.unstable_scheduleCallback=function(t,e,n){var r=vn.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?r+n:r):n=r,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=n+a,t={id:ZW++,callback:e,priorityLevel:t,startTime:n,expirationTime:a,sortIndex:-1},n>r?(t.sortIndex=n,g1(Fs,t),Ji(Po)===null&&t===Ji(Fs)&&(Bp?(vO(Up),Up=-1):Bp=!0,b1(x1,n-r))):(t.sortIndex=a,g1(Po,t),kp||v1||(kp=!0,qc||(qc=!0,Gc()))),t};vn.unstable_shouldYield=bO;vn.unstable_wrapCallback=function(t){var e=Ar;return function(){var n=Ar;Ar=e;try{return t.apply(this,arguments)}finally{Ar=n}}}});var MO=Ae((ove,_O)=>{"use strict";_O.exports=SO()});var wO=Ae(Ur=>{"use strict";var $W=ce();function AO(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zs(){}var Br={d:{f:zs,r:function(){throw Error(AO(522))},D:zs,C:zs,L:zs,m:zs,X:zs,S:zs,M:zs},p:0,findDOMNode:null},JW=Symbol.for("react.portal");function QW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:JW,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Fp=$W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ev(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Br;Ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(AO(299));return QW(t,e,null,n)};Ur.flushSync=function(t){var e=Fp.T,n=Br.p;try{if(Fp.T=null,Br.p=2,t)return t()}finally{Fp.T=e,Br.p=n,Br.d.f()}};Ur.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Br.d.C(t,e))};Ur.prefetchDNS=function(t){typeof t=="string"&&Br.d.D(t)};Ur.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Ev(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Br.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&Br.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ur.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Ev(e.as,e.crossOrigin);Br.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Br.d.M(t)};Ur.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Ev(n,e.crossOrigin);Br.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ur.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Ev(e.as,e.crossOrigin);Br.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Br.d.m(t)};Ur.requestFormReset=function(t){Br.d.r(t)};Ur.unstable_batchedUpdates=function(t,e){return t(e)};Ur.useFormState=function(t,e,n){return Fp.H.useFormState(t,e,n)};Ur.useFormStatus=function(){return Fp.H.useHostTransitionStatus()};Ur.version="19.2.4"});var zp=Ae((lve,EO)=>{"use strict";function CO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CO)}catch(t){console.error(t)}}CO(),EO.exports=wO()});var F3=Ae(Jy=>{"use strict";var Zn=MO(),QD=ce(),ej=zp();function he(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ch(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function n2(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TO(t){if(Ch(t)!==t)throw Error(he(188))}function tj(t){var e=t.alternate;if(!e){if(e=Ch(t),e===null)throw Error(he(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return TO(a),t;if(i===r)return TO(a),e;i=i.sibling}throw Error(he(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?t:e}function r2(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=r2(t),e!==null)return e;t=t.sibling}return null}var dn=Object.assign,nj=Symbol.for("react.element"),Tv=Symbol.for("react.transitional.element"),Yp=Symbol.for("react.portal"),Zc=Symbol.for("react.fragment"),a2=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),i2=Symbol.for("react.consumer"),Fo=Symbol.for("react.context"),KA=Symbol.for("react.forward_ref"),tA=Symbol.for("react.suspense"),nA=Symbol.for("react.suspense_list"),ZA=Symbol.for("react.memo"),Hs=Symbol.for("react.lazy"),rA=Symbol.for("react.activity"),rj=Symbol.for("react.memo_cache_sentinel"),IO=Symbol.iterator;function Hp(t){return t===null||typeof t!="object"?null:(t=IO&&t[IO]||t["@@iterator"],typeof t=="function"?t:null)}var aj=Symbol.for("react.client.reference");function aA(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===aj?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zc:return"Fragment";case eA:return"Profiler";case a2:return"StrictMode";case tA:return"Suspense";case nA:return"SuspenseList";case rA:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Yp:return"Portal";case Fo:return t.displayName||"Context";case i2:return(t._context.displayName||"Context")+".Consumer";case KA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ZA:return e=t.displayName||null,e!==null?e:aA(t.type)||"Memo";case Hs:e=t._payload,t=t._init;try{return aA(t(e))}catch{}}return null}var Kp=Array.isArray,Ye=QD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kt=ej.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,uu={pending:!1,data:null,method:null,action:null},iA=[],$c=-1;function ro(t){return{current:t}}function ir(t){0>$c||(t.current=iA[$c],iA[$c]=null,$c--)}function sn(t,e){$c++,iA[$c]=t.current,t.current=e}var no=ro(null),dh=ro(null),Js=ro(null),sy=ro(null);function ly(t,e){switch(sn(Js,e),sn(dh,t),sn(no,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?kD(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=kD(e),t=w3(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ir(no),sn(no,t)}function gf(){ir(no),ir(dh),ir(Js)}function oA(t){t.memoizedState!==null&&sn(sy,t);var e=no.current,n=w3(e,t.type);e!==n&&(sn(dh,t),sn(no,n))}function uy(t){dh.current===t&&(ir(no),ir(dh)),sy.current===t&&(ir(sy),Mh._currentValue=uu)}var S1,LO;function iu(t){if(S1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);S1=e&&e[1]||"",LO=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+S1+t+LO}var _1=!1;function M1(t,e){if(!t||_1)return"";_1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split(`
`),u=s.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=a);break}}}finally{_1=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?iu(n):""}function ij(t,e){switch(t.tag){case 26:case 27:case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return t.child!==e&&e!==null?iu("Suspense Fallback"):iu("Suspense");case 19:return iu("SuspenseList");case 0:case 15:return M1(t.type,!1);case 11:return M1(t.type.render,!1);case 1:return M1(t.type,!0);case 31:return iu("Activity");default:return""}}function PO(t){try{var e="",n=null;do e+=ij(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var sA=Object.prototype.hasOwnProperty,$A=Zn.unstable_scheduleCallback,A1=Zn.unstable_cancelCallback,oj=Zn.unstable_shouldYield,sj=Zn.unstable_requestPaint,va=Zn.unstable_now,lj=Zn.unstable_getCurrentPriorityLevel,o2=Zn.unstable_ImmediatePriority,s2=Zn.unstable_UserBlockingPriority,cy=Zn.unstable_NormalPriority,uj=Zn.unstable_LowPriority,l2=Zn.unstable_IdlePriority,cj=Zn.log,fj=Zn.unstable_setDisableYieldValue,Eh=null,ya=null;function Xs(t){if(typeof cj=="function"&&fj(t),ya&&typeof ya.setStrictMode=="function")try{ya.setStrictMode(Eh,t)}catch{}}var xa=Math.clz32?Math.clz32:hj,dj=Math.log,pj=Math.LN2;function hj(t){return t>>>=0,t===0?32:31-(dj(t)/pj|0)|0}var Iv=256,Lv=262144,Pv=4194304;function ou(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ky(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,o=t.pingedLanes;t=t.warmLanes;var s=r&134217727;return s!==0?(r=s&~i,r!==0?a=ou(r):(o&=s,o!==0?a=ou(o):n||(n=s&~t,n!==0&&(a=ou(n))))):(s=r&~i,s!==0?a=ou(s):o!==0?a=ou(o):n||(n=r&~t,n!==0&&(a=ou(n)))),a===0?0:e!==0&&e!==a&&(e&i)===0&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function Th(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function mj(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(){var t=Pv;return Pv<<=1,(Pv&62914560)===0&&(Pv=4194304),t}function w1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ih(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gj(t,e,n,r,a,i){var o=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var s=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=o&~n;0<n;){var c=31-xa(n),f=1<<c;s[c]=0,l[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var p=d[c];p!==null&&(p.lane&=-536870913)}n&=~f}r!==0&&c2(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(o&~e))}function c2(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-xa(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function f2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xa(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function d2(t,e){var n=e&-e;return n=(n&42)!==0?1:JA(n),(n&(t.suspendedLanes|e))!==0?0:n}function JA(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function QA(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function p2(){var t=kt.p;return t!==0?t:(t=window.event,t===void 0?32:k3(t.type))}function RO(t,e){var n=kt.p;try{return kt.p=t,e()}finally{kt.p=n}}var fl=Math.random().toString(36).slice(2),gr="__reactFiber$"+fl,na="__reactProps$"+fl,Ef="__reactContainer$"+fl,lA="__reactEvents$"+fl,vj="__reactListeners$"+fl,yj="__reactHandles$"+fl,OO="__reactResources$"+fl,Lh="__reactMarker$"+fl;function ew(t){delete t[gr],delete t[na],delete t[lA],delete t[vj],delete t[yj]}function Jc(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ef]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HD(t);t!==null;){if(n=t[gr])return n;t=HD(t)}return e}t=n,n=t.parentNode}return null}function Tf(t){if(t=t[gr]||t[Ef]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Zp(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(he(33))}function uf(t){var e=t[OO];return e||(e=t[OO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ar(t){t[Lh]=!0}var h2=new Set,m2={};function xu(t,e){vf(t,e),vf(t+"Capture",e)}function vf(t,e){for(m2[t]=e,t=0;t<e.length;t++)h2.add(e[t])}var xj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),DO={},NO={};function bj(t){return sA.call(NO,t)?!0:sA.call(DO,t)?!1:xj.test(t)?NO[t]=!0:(DO[t]=!0,!1)}function jv(t,e,n){if(bj(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Rv(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ro(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function ja(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sj(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uA(t){if(!t._valueTracker){var e=g2(t)?"checked":"value";t._valueTracker=Sj(t,e,""+t[e])}}function v2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _j=/[\n"\\]/g;function Ka(t){return t.replace(_j,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cA(t,e,n,r,a,i,o,s){t.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.type=o:t.removeAttribute("type"),e!=null?o==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ja(e)):t.value!==""+ja(e)&&(t.value=""+ja(e)):o!=="submit"&&o!=="reset"||t.removeAttribute("value"),e!=null?fA(t,o,ja(e)):n!=null?fA(t,o,ja(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.name=""+ja(s):t.removeAttribute("name")}function y2(t,e,n,r,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){uA(t);return}n=n!=null?""+ja(n):"",e=e!=null?""+ja(e):n,s||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=s?t.checked:!!r,t.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.name=o),uA(t)}function fA(t,e,n){e==="number"&&fy(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function cf(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ja(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function x2(t,e,n){if(e!=null&&(e=""+ja(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ja(n):""}function b2(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(he(92));if(Kp(r)){if(1<r.length)throw Error(he(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=ja(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),uA(t)}function yf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kO(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Mj.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function S2(t,e,n){if(e!=null&&typeof e!="object")throw Error(he(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&kO(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&kO(t,i,e[i])}function tw(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xv(t){return wj.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zo(){}var dA=null;function nw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,ff=null;function BO(t){var e=Tf(t);if(e&&(t=e.stateNode)){var n=t[na]||null;e:switch(t=e.stateNode,e.type){case"input":if(cA(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ka(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[na]||null;if(!a)throw Error(he(90));cA(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&v2(r)}break e;case"textarea":x2(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&cf(t,!!n.multiple,e,!1)}}}var C1=!1;function _2(t,e,n){if(C1)return t(e,n);C1=!0;try{var r=t(e);return r}finally{if(C1=!1,(Qc!==null||ff!==null)&&(Yy(),Qc&&(e=Qc,t=ff,ff=Qc=null,BO(e),t)))for(e=0;e<t.length;e++)BO(t[e])}}function ph(t,e){var n=t.stateNode;if(n===null)return null;var r=n[na]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(he(231,e,typeof n));return n}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pA=!1;if(Wo)try{Wc={},Object.defineProperty(Wc,"passive",{get:function(){pA=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{pA=!1}var Wc,Ys=null,rw=null,Yv=null;function M2(){if(Yv)return Yv;var t,e=rw,n=e.length,r,a="value"in Ys?Ys.value:Ys.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===a[i-r];r++);return Yv=a.slice(t,1<r?1-r:void 0)}function Kv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ov(){return!0}function UO(){return!1}function ra(t){function e(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ov:UO,this.isPropagationStopped=UO,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ov)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ov)},persist:function(){},isPersistent:Ov}),e}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},By=ra(bu),Ph=dn({},bu,{view:0,detail:0}),Cj=ra(Ph),E1,T1,Vp,Uy=dn({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vp&&(Vp&&t.type==="mousemove"?(E1=t.screenX-Vp.screenX,T1=t.screenY-Vp.screenY):T1=E1=0,Vp=t),E1)},movementY:function(t){return"movementY"in t?t.movementY:T1}}),FO=ra(Uy),Ej=dn({},Uy,{dataTransfer:0}),Tj=ra(Ej),Ij=dn({},Ph,{relatedTarget:0}),I1=ra(Ij),Lj=dn({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Pj=ra(Lj),Rj=dn({},bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oj=ra(Rj),Dj=dn({},bu,{data:0}),zO=ra(Dj),Nj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bj[t])?!!e[t]:!1}function aw(){return Uj}var Fj=dn({},Ph,{key:function(t){if(t.key){var e=Nj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(t){return t.type==="keypress"?Kv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zj=ra(Fj),Hj=dn({},Uy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HO=ra(Hj),Vj=dn({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),Gj=ra(Vj),qj=dn({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wj=ra(qj),jj=dn({},Uy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xj=ra(jj),Yj=dn({},bu,{newState:0,oldState:0}),Kj=ra(Yj),Zj=[9,13,27,32],iw=Wo&&"CompositionEvent"in window,Qp=null;Wo&&"documentMode"in document&&(Qp=document.documentMode);var $j=Wo&&"TextEvent"in window&&!Qp,A2=Wo&&(!iw||Qp&&8<Qp&&11>=Qp),VO=" ",GO=!1;function w2(t,e){switch(t){case"keyup":return Zj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ef=!1;function Jj(t,e){switch(t){case"compositionend":return C2(e);case"keypress":return e.which!==32?null:(GO=!0,VO);case"textInput":return t=e.data,t===VO&&GO?null:t;default:return null}}function Qj(t,e){if(ef)return t==="compositionend"||!iw&&w2(t,e)?(t=M2(),Yv=rw=Ys=null,ef=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A2&&e.locale!=="ko"?null:e.data;default:return null}}var e9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e9[t.type]:e==="textarea"}function E2(t,e,n,r){Qc?ff?ff.push(r):ff=[r]:Qc=r,e=Iy(e,"onChange"),0<e.length&&(n=new By("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var eh=null,hh=null;function t9(t){_3(t,0)}function Fy(t){var e=Zp(t);if(v2(e))return t}function WO(t,e){if(t==="change")return e}var T2=!1;Wo&&(Wo?(Nv="oninput"in document,Nv||(L1=document.createElement("div"),L1.setAttribute("oninput","return;"),Nv=typeof L1.oninput=="function"),Dv=Nv):Dv=!1,T2=Dv&&(!document.documentMode||9<document.documentMode));var Dv,Nv,L1;function jO(){eh&&(eh.detachEvent("onpropertychange",I2),hh=eh=null)}function I2(t){if(t.propertyName==="value"&&Fy(hh)){var e=[];E2(e,hh,t,nw(t)),_2(t9,e)}}function n9(t,e,n){t==="focusin"?(jO(),eh=e,hh=n,eh.attachEvent("onpropertychange",I2)):t==="focusout"&&jO()}function r9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fy(hh)}function a9(t,e){if(t==="click")return Fy(e)}function i9(t,e){if(t==="input"||t==="change")return Fy(e)}function o9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sa=typeof Object.is=="function"?Object.is:o9;function mh(t,e){if(Sa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!sA.call(e,a)||!Sa(t[a],e[a]))return!1}return!0}function XO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YO(t,e){var n=XO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XO(n)}}function L2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P2(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=fy(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fy(t.document)}return e}function ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var s9=Wo&&"documentMode"in document&&11>=document.documentMode,tf=null,hA=null,th=null,mA=!1;function KO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mA||tf==null||tf!==fy(r)||(r=tf,"selectionStart"in r&&ow(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),th&&mh(th,r)||(th=r,r=Iy(hA,"onSelect"),0<r.length&&(e=new By("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=tf)))}function au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nf={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionrun:au("Transition","TransitionRun"),transitionstart:au("Transition","TransitionStart"),transitioncancel:au("Transition","TransitionCancel"),transitionend:au("Transition","TransitionEnd")},P1={},R2={};Wo&&(R2=document.createElement("div").style,"AnimationEvent"in window||(delete nf.animationend.animation,delete nf.animationiteration.animation,delete nf.animationstart.animation),"TransitionEvent"in window||delete nf.transitionend.transition);function Su(t){if(P1[t])return P1[t];if(!nf[t])return t;var e=nf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R2)return P1[t]=e[n];return t}var O2=Su("animationend"),D2=Su("animationiteration"),N2=Su("animationstart"),l9=Su("transitionrun"),u9=Su("transitionstart"),c9=Su("transitioncancel"),k2=Su("transitionend"),B2=new Map,gA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gA.push("scrollEnd");function Pi(t,e){B2.set(t,e),xu(e,[t])}var dy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wa=[],rf=0,sw=0;function zy(){for(var t=rf,e=sw=rf=0;e<t;){var n=Wa[e];Wa[e++]=null;var r=Wa[e];Wa[e++]=null;var a=Wa[e];Wa[e++]=null;var i=Wa[e];if(Wa[e++]=null,r!==null&&a!==null){var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}i!==0&&U2(n,a,i)}}function Hy(t,e,n,r){Wa[rf++]=t,Wa[rf++]=e,Wa[rf++]=n,Wa[rf++]=r,sw|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function lw(t,e,n,r){return Hy(t,e,n,r),py(t)}function _u(t,e){return Hy(t,null,null,e),py(t)}function U2(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-xa(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function py(t){if(50<ch)throw ch=0,BA=null,Error(he(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var af={};function f9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(t,e,n,r){return new f9(t,e,n,r)}function uw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vo(t,e){var n=t.alternate;return n===null?(n=ma(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function F2(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Zv(t,e,n,r,a,i){var o=0;if(r=t,typeof t=="function")uw(t)&&(o=1);else if(typeof t=="string")o=hX(t,n,no.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case rA:return t=ma(31,n,e,a),t.elementType=rA,t.lanes=i,t;case Zc:return cu(n.children,a,i,e);case a2:o=8,a|=24;break;case eA:return t=ma(12,n,e,a|2),t.elementType=eA,t.lanes=i,t;case tA:return t=ma(13,n,e,a),t.elementType=tA,t.lanes=i,t;case nA:return t=ma(19,n,e,a),t.elementType=nA,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fo:o=10;break e;case i2:o=9;break e;case KA:o=11;break e;case ZA:o=14;break e;case Hs:o=16,r=null;break e}o=29,n=Error(he(130,t===null?"null":typeof t,"")),r=null}return e=ma(o,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function cu(t,e,n,r){return t=ma(7,t,r,e),t.lanes=n,t}function R1(t,e,n){return t=ma(6,t,null,e),t.lanes=n,t}function z2(t){var e=ma(18,null,null,0);return e.stateNode=t,e}function O1(t,e,n){return e=ma(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ZO=new WeakMap;function Za(t,e){if(typeof t=="object"&&t!==null){var n=ZO.get(t);return n!==void 0?n:(e={value:t,source:e,stack:PO(e)},ZO.set(t,e),e)}return{value:t,source:e,stack:PO(e)}}var of=[],sf=0,hy=null,gh=0,Xa=[],Ya=0,sl=null,Qi=1,eo="";function Bo(t,e){of[sf++]=gh,of[sf++]=hy,hy=t,gh=e}function H2(t,e,n){Xa[Ya++]=Qi,Xa[Ya++]=eo,Xa[Ya++]=sl,sl=t;var r=Qi;t=eo;var a=32-xa(r)-1;r&=~(1<<a),n+=1;var i=32-xa(e)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Qi=1<<32-xa(e)+a|n<<a|r,eo=i+t}else Qi=1<<i|n<<a|r,eo=t}function cw(t){t.return!==null&&(Bo(t,1),H2(t,1,0))}function fw(t){for(;t===hy;)hy=of[--sf],of[sf]=null,gh=of[--sf],of[sf]=null;for(;t===sl;)sl=Xa[--Ya],Xa[Ya]=null,eo=Xa[--Ya],Xa[Ya]=null,Qi=Xa[--Ya],Xa[Ya]=null}function V2(t,e){Xa[Ya++]=Qi,Xa[Ya++]=eo,Xa[Ya++]=sl,Qi=e.id,eo=e.overflow,sl=t}var vr=null,fn=null,Mt=!1,Qs=null,$a=!1,vA=Error(he(519));function ll(t){var e=Error(he(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vh(Za(e,t)),vA}function $O(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[gr]=t,e[na]=r,n){case"dialog":gt("cancel",e),gt("close",e);break;case"iframe":case"object":case"embed":gt("load",e);break;case"video":case"audio":for(n=0;n<Sh.length;n++)gt(Sh[n],e);break;case"source":gt("error",e);break;case"img":case"image":case"link":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"input":gt("invalid",e),y2(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":gt("invalid",e);break;case"textarea":gt("invalid",e),b2(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||A3(e.textContent,n)?(r.popover!=null&&(gt("beforetoggle",e),gt("toggle",e)),r.onScroll!=null&&gt("scroll",e),r.onScrollEnd!=null&&gt("scrollend",e),r.onClick!=null&&(e.onclick=zo),e=!0):e=!1,e||ll(t,!0)}function JO(t){for(vr=t.return;vr;)switch(vr.tag){case 5:case 31:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:vr=vr.return}}function jc(t){if(t!==vr)return!1;if(!Mt)return JO(t),Mt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||VA(t.type,t.memoizedProps)),n=!n),n&&fn&&ll(t),JO(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));fn=zD(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(317));fn=zD(t)}else e===27?(e=fn,dl(t.type)?(t=jA,jA=null,fn=t):fn=e):fn=vr?Qa(t.stateNode.nextSibling):null;return!0}function hu(){fn=vr=null,Mt=!1}function D1(){var t=Qs;return t!==null&&(ea===null?ea=t:ea.push.apply(ea,t),Qs=null),t}function vh(t){Qs===null?Qs=[t]:Qs.push(t)}var yA=ro(null),Mu=null,Ho=null;function Gs(t,e,n){sn(yA,e._currentValue),e._currentValue=n}function Go(t){t._currentValue=yA.current,ir(yA)}function xA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bA(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var l=0;l<e.length;l++)if(s.context===e[l]){i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),xA(i.return,n,t),r||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(he(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),xA(o,n,t),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function If(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if((a.flags&524288)!==0)i=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(he(387));if(o=o.memoizedProps,o!==null){var s=a.type;Sa(a.pendingProps.value,o.value)||(t!==null?t.push(s):t=[s])}}else if(a===sy.current){if(o=a.alternate,o===null)throw Error(he(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Mh):t=[Mh])}a=a.return}t!==null&&bA(e,t,n,r),e.flags|=262144}function my(t){for(t=t.firstContext;t!==null;){if(!Sa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mu(t){Mu=t,Ho=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yr(t){return G2(Mu,t)}function kv(t,e){return Mu===null&&mu(t),G2(t,e)}function G2(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ho===null){if(t===null)throw Error(he(308));Ho=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ho=Ho.next=e;return n}var d9=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},p9=Zn.unstable_scheduleCallback,h9=Zn.unstable_NormalPriority,Gn={$$typeof:Fo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dw(){return{controller:new d9,data:new Map,refCount:0}}function Rh(t){t.refCount--,t.refCount===0&&p9(h9,function(){t.controller.abort()})}var nh=null,SA=0,xf=0,df=null;function m9(t,e){if(nh===null){var n=nh=[];SA=0,xf=Bw(),df={status:"pending",value:void 0,then:function(r){n.push(r)}}}return SA++,e.then(QO,QO),e}function QO(){if(--SA===0&&nh!==null){df!==null&&(df.status="fulfilled");var t=nh;nh=null,xf=0,df=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function g9(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var eD=Ye.S;Ye.S=function(t,e){r3=va(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&m9(t,e),eD!==null&&eD(t,e)};var fu=ro(null);function pw(){var t=fu.current;return t!==null?t:tn.pooledCache}function $v(t,e){e===null?sn(fu,fu.current):sn(fu,e.pool)}function q2(){var t=pw();return t===null?null:{parent:Gn._currentValue,pool:t}}var Lf=Error(he(460)),hw=Error(he(474)),Vy=Error(he(542)),gy={then:function(){}};function tD(t){return t=t.status,t==="fulfilled"||t==="rejected"}function W2(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(zo,zo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rD(t),t;default:if(typeof e.status=="string")e.then(zo,zo);else{if(t=tn,t!==null&&100<t.shellSuspendCounter)throw Error(he(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rD(t),t}throw du=e,Lf}}function su(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(du=n,Lf):n}}var du=null;function nD(){if(du===null)throw Error(he(459));var t=du;return du=null,t}function rD(t){if(t===Lf||t===Vy)throw Error(he(483))}var pf=null,yh=0;function Bv(t){var e=yh;return yh+=1,pf===null&&(pf=[]),W2(pf,t,e)}function Gp(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Uv(t,e){throw e.$$typeof===nj?Error(he(525)):(t=Object.prototype.toString.call(e),Error(he(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function j2(t){function e(h,g){if(t){var x=h.deletions;x===null?(h.deletions=[g],h.flags|=16):x.push(g)}}function n(h,g){if(!t)return null;for(;g!==null;)e(h,g),g=g.sibling;return null}function r(h){for(var g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(h,g){return h=Vo(h,g),h.index=0,h.sibling=null,h}function i(h,g,x){return h.index=x,t?(x=h.alternate,x!==null?(x=x.index,x<g?(h.flags|=67108866,g):x):(h.flags|=67108866,g)):(h.flags|=1048576,g)}function o(h){return t&&h.alternate===null&&(h.flags|=67108866),h}function s(h,g,x,b){return g===null||g.tag!==6?(g=R1(x,h.mode,b),g.return=h,g):(g=a(g,x),g.return=h,g)}function l(h,g,x,b){var _=x.type;return _===Zc?c(h,g,x.props.children,b,x.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hs&&su(_)===g.type)?(g=a(g,x.props),Gp(g,x),g.return=h,g):(g=Zv(x.type,x.key,x.props,null,h.mode,b),Gp(g,x),g.return=h,g)}function u(h,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=O1(x,h.mode,b),g.return=h,g):(g=a(g,x.children||[]),g.return=h,g)}function c(h,g,x,b,_){return g===null||g.tag!==7?(g=cu(x,h.mode,b,_),g.return=h,g):(g=a(g,x),g.return=h,g)}function f(h,g,x){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=R1(""+g,h.mode,x),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Tv:return x=Zv(g.type,g.key,g.props,null,h.mode,x),Gp(x,g),x.return=h,x;case Yp:return g=O1(g,h.mode,x),g.return=h,g;case Hs:return g=su(g),f(h,g,x)}if(Kp(g)||Hp(g))return g=cu(g,h.mode,x,null),g.return=h,g;if(typeof g.then=="function")return f(h,Bv(g),x);if(g.$$typeof===Fo)return f(h,kv(h,g),x);Uv(h,g)}return null}function d(h,g,x,b){var _=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return _!==null?null:s(h,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tv:return x.key===_?l(h,g,x,b):null;case Yp:return x.key===_?u(h,g,x,b):null;case Hs:return x=su(x),d(h,g,x,b)}if(Kp(x)||Hp(x))return _!==null?null:c(h,g,x,b,null);if(typeof x.then=="function")return d(h,g,Bv(x),b);if(x.$$typeof===Fo)return d(h,g,kv(h,x),b);Uv(h,x)}return null}function p(h,g,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return h=h.get(x)||null,s(g,h,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tv:return h=h.get(b.key===null?x:b.key)||null,l(g,h,b,_);case Yp:return h=h.get(b.key===null?x:b.key)||null,u(g,h,b,_);case Hs:return b=su(b),p(h,g,x,b,_)}if(Kp(b)||Hp(b))return h=h.get(x)||null,c(g,h,b,_,null);if(typeof b.then=="function")return p(h,g,x,Bv(b),_);if(b.$$typeof===Fo)return p(h,g,x,kv(g,b),_);Uv(g,b)}return null}function m(h,g,x,b){for(var _=null,M=null,A=g,S=g=0,w=null;A!==null&&S<x.length;S++){A.index>S?(w=A,A=null):w=A.sibling;var U=d(h,A,x[S],b);if(U===null){A===null&&(A=w);break}t&&A&&U.alternate===null&&e(h,A),g=i(U,g,S),M===null?_=U:M.sibling=U,M=U,A=w}if(S===x.length)return n(h,A),Mt&&Bo(h,S),_;if(A===null){for(;S<x.length;S++)A=f(h,x[S],b),A!==null&&(g=i(A,g,S),M===null?_=A:M.sibling=A,M=A);return Mt&&Bo(h,S),_}for(A=r(A);S<x.length;S++)w=p(A,h,S,x[S],b),w!==null&&(t&&w.alternate!==null&&A.delete(w.key===null?S:w.key),g=i(w,g,S),M===null?_=w:M.sibling=w,M=w);return t&&A.forEach(function(D){return e(h,D)}),Mt&&Bo(h,S),_}function y(h,g,x,b){if(x==null)throw Error(he(151));for(var _=null,M=null,A=g,S=g=0,w=null,U=x.next();A!==null&&!U.done;S++,U=x.next()){A.index>S?(w=A,A=null):w=A.sibling;var D=d(h,A,U.value,b);if(D===null){A===null&&(A=w);break}t&&A&&D.alternate===null&&e(h,A),g=i(D,g,S),M===null?_=D:M.sibling=D,M=D,A=w}if(U.done)return n(h,A),Mt&&Bo(h,S),_;if(A===null){for(;!U.done;S++,U=x.next())U=f(h,U.value,b),U!==null&&(g=i(U,g,S),M===null?_=U:M.sibling=U,M=U);return Mt&&Bo(h,S),_}for(A=r(A);!U.done;S++,U=x.next())U=p(A,h,S,U.value,b),U!==null&&(t&&U.alternate!==null&&A.delete(U.key===null?S:U.key),g=i(U,g,S),M===null?_=U:M.sibling=U,M=U);return t&&A.forEach(function(k){return e(h,k)}),Mt&&Bo(h,S),_}function v(h,g,x,b){if(typeof x=="object"&&x!==null&&x.type===Zc&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Tv:e:{for(var _=x.key;g!==null;){if(g.key===_){if(_=x.type,_===Zc){if(g.tag===7){n(h,g.sibling),b=a(g,x.props.children),b.return=h,h=b;break e}}else if(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Hs&&su(_)===g.type){n(h,g.sibling),b=a(g,x.props),Gp(b,x),b.return=h,h=b;break e}n(h,g);break}else e(h,g);g=g.sibling}x.type===Zc?(b=cu(x.props.children,h.mode,b,x.key),b.return=h,h=b):(b=Zv(x.type,x.key,x.props,null,h.mode,b),Gp(b,x),b.return=h,h=b)}return o(h);case Yp:e:{for(_=x.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(h,g.sibling),b=a(g,x.children||[]),b.return=h,h=b;break e}else{n(h,g);break}else e(h,g);g=g.sibling}b=O1(x,h.mode,b),b.return=h,h=b}return o(h);case Hs:return x=su(x),v(h,g,x,b)}if(Kp(x))return m(h,g,x,b);if(Hp(x)){if(_=Hp(x),typeof _!="function")throw Error(he(150));return x=_.call(x),y(h,g,x,b)}if(typeof x.then=="function")return v(h,g,Bv(x),b);if(x.$$typeof===Fo)return v(h,g,kv(h,x),b);Uv(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,g!==null&&g.tag===6?(n(h,g.sibling),b=a(g,x),b.return=h,h=b):(n(h,g),b=R1(x,h.mode,b),b.return=h,h=b),o(h)):n(h,g)}return function(h,g,x,b){try{yh=0;var _=v(h,g,x,b);return pf=null,_}catch(A){if(A===Lf||A===Vy)throw A;var M=ma(29,A,null,h.mode);return M.lanes=b,M.return=h,M}}}var gu=j2(!0),X2=j2(!1),Vs=!1;function mw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _A(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function el(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Nt&2)!==0){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=py(t),U2(t,null,n),e}return Hy(t,r,e,n),py(t)}function rh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f2(t,n)}}function N1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var MA=!1;function ah(){if(MA){var t=df;if(t!==null)throw t}}function ih(t,e,n,r){MA=!1;var a=t.updateQueue;Vs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,c=u=l=null,s=i;do{var d=s.lane&-536870913,p=d!==s.lane;if(p?(bt&d)===d:(r&d)===d){d!==0&&d===xf&&(MA=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=t,y=s;d=e;var v=n;switch(y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(v,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(v,f,d):m,d==null)break e;f=dn({},f,d);break e;case 2:Vs=!0}}d=s.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=a.callbacks,p===null?a.callbacks=[d]:p.push(d))}else p={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);c===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,i===null&&(a.shared.lanes=0),cl|=o,t.lanes=o,t.memoizedState=f}}function Y2(t,e){if(typeof t!="function")throw Error(he(191,t));t.call(e)}function K2(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Y2(n[t],e)}var bf=ro(null),vy=ro(0);function aD(t,e){t=Ko,sn(vy,t),sn(bf,e),Ko=t|e.baseLanes}function AA(){sn(vy,Ko),sn(bf,bf.current)}function gw(){Ko=vy.current,ir(bf),ir(vy)}var _a=ro(null),Ja=null;function qs(t){var e=t.alternate;sn(Bn,Bn.current&1),sn(_a,t),Ja===null&&(e===null||bf.current!==null||e.memoizedState!==null)&&(Ja=t)}function wA(t){sn(Bn,Bn.current),sn(_a,t),Ja===null&&(Ja=t)}function Z2(t){t.tag===22?(sn(Bn,Bn.current),sn(_a,t),Ja===null&&(Ja=t)):Ws(t)}function Ws(){sn(Bn,Bn.current),sn(_a,_a.current)}function ha(t){ir(_a),Ja===t&&(Ja=null),ir(Bn)}var Bn=ro(0);function yy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||qA(n)||WA(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jo=0,ot=null,Yt=null,Hn=null,xy=!1,hf=!1,vu=!1,by=0,xh=0,mf=null,v9=0;function In(){throw Error(he(321))}function vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sa(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,a,i){return jo=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ye.H=t===null||t.memoizedState===null?EN:Iw,vu=!1,i=n(r,a),vu=!1,hf&&(i=J2(e,n,r,a)),$2(t),i}function $2(t){Ye.H=bh;var e=Yt!==null&&Yt.next!==null;if(jo=0,Hn=Yt=ot=null,xy=!1,xh=0,mf=null,e)throw Error(he(300));t===null||qn||(t=t.dependencies,t!==null&&my(t)&&(qn=!0))}function J2(t,e,n,r){ot=t;var a=0;do{if(hf&&(mf=null),xh=0,hf=!1,25<=a)throw Error(he(301));if(a+=1,Hn=Yt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Ye.H=TN,i=e(n,r)}while(hf);return i}function y9(){var t=Ye.H,e=t.useState()[0];return e=typeof e.then=="function"?Oh(e):e,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(ot.flags|=1024),e}function xw(){var t=by!==0;return by=0,t}function bw(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Sw(t){if(xy){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}xy=!1}jo=0,Hn=Yt=ot=null,hf=!1,xh=by=0,mf=null}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?ot.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function Un(){if(Yt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=Hn===null?ot.memoizedState:Hn.next;if(e!==null)Hn=e,Yt=t;else{if(t===null)throw ot.alternate===null?Error(he(467)):Error(he(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Hn===null?ot.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function Gy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oh(t){var e=xh;return xh+=1,mf===null&&(mf=[]),t=W2(mf,t,e),e=ot,(Hn===null?e.memoizedState:Hn.next)===null&&(e=e.alternate,Ye.H=e===null||e.memoizedState===null?EN:Iw),t}function qy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oh(t);if(t.$$typeof===Fo)return yr(t)}throw Error(he(438,String(t)))}function _w(t){var e=null,n=ot.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ot.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Gy(),ot.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=rj;return e.index++,n}function Xo(t,e){return typeof e=="function"?e(t):e}function Jv(t){var e=Un();return Mw(e,Yt,t)}function Mw(t,e,n){var r=t.queue;if(r===null)throw Error(he(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var s=o=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(bt&f)===f:(jo&f)===f){var d=u.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===xf&&(c=!0);else if((jo&d)===d){u=u.next,d===xf&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=f,o=i):l=l.next=f,ot.lanes|=d,cl|=d;f=u.action,vu&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else d={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(s=l=d,o=i):l=l.next=d,ot.lanes|=f,cl|=f;u=u.next}while(u!==null&&u!==e);if(l===null?o=i:l.next=s,!Sa(i,t.memoizedState)&&(qn=!0,c&&(n=df,n!==null)))throw n;t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function k1(t){var e=Un(),n=e.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Sa(i,e.memoizedState)||(qn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Q2(t,e,n){var r=ot,a=Un(),i=Mt;if(i){if(n===void 0)throw Error(he(407));n=n()}else n=e();var o=!Sa((Yt||a).memoizedState,n);if(o&&(a.memoizedState=n,qn=!0),a=a.queue,Aw(nN.bind(null,r,a,t),[t]),a.getSnapshot!==e||o||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,Sf(9,{destroy:void 0},tN.bind(null,r,a,n,e),null),tn===null)throw Error(he(349));i||(jo&127)!==0||eN(r,e,n)}return n}function eN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e=Gy(),ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tN(t,e,n,r){e.value=n,e.getSnapshot=r,rN(e)&&aN(t)}function nN(t,e,n){return n(function(){rN(e)&&aN(t)})}function rN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sa(t,n)}catch{return!0}}function aN(t){var e=_u(t,2);e!==null&&ta(e,t,2)}function CA(t){var e=Fr();if(typeof t=="function"){var n=t;if(t=n(),vu){Xs(!0);try{n()}finally{Xs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e}function iN(t,e,n,r){return t.baseState=n,Mw(t,Yt,typeof r=="function"?r:Xo)}function x9(t,e,n,r,a){if(jy(t))throw Error(he(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Ye.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,oN(e,i)):(i.next=n.next,e.pending=n.next=i)}}function oN(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=Ye.T,o={};Ye.T=o;try{var s=n(a,r),l=Ye.S;l!==null&&l(o,s),iD(t,e,s)}catch(u){EA(t,e,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Ye.T=i}}else try{i=n(a,r),iD(t,e,i)}catch(u){EA(t,e,u)}}function iD(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){oD(t,e,r)},function(r){return EA(t,e,r)}):oD(t,e,n)}function oD(t,e,n){e.status="fulfilled",e.value=n,sN(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,oN(t,n)))}function EA(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,sN(e),e=e.next;while(e!==r)}t.action=null}function sN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function lN(t,e){return e}function sD(t,e){if(Mt){var n=tn.formState;if(n!==null){e:{var r=ot;if(Mt){if(fn){t:{for(var a=fn,i=$a;a.nodeType!==8;){if(!i){a=null;break t}if(a=Qa(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){fn=Qa(a.nextSibling),r=a.data==="F!";break e}}ll(r)}r=!1}r&&(e=n[0])}}return n=Fr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lN,lastRenderedState:e},n.queue=r,n=AN.bind(null,ot,r),r.dispatch=n,r=CA(!1),i=Tw.bind(null,ot,!1,r.queue),r=Fr(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=x9.bind(null,ot,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function lD(t){var e=Un();return uN(e,Yt,t)}function uN(t,e,n){if(e=Mw(t,e,lN)[0],t=Jv(Xo)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Oh(e)}catch(o){throw o===Lf?Vy:o}else r=e;e=Un();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(ot.flags|=2048,Sf(9,{destroy:void 0},b9.bind(null,a,n),null)),[r,i,t]}function b9(t,e){t.action=e}function uD(t){var e=Un(),n=Yt;if(n!==null)return uN(e,n,t);Un(),e=e.memoizedState,n=Un();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Sf(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ot.updateQueue,e===null&&(e=Gy(),ot.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function cN(){return Un().memoizedState}function Qv(t,e,n,r){var a=Fr();ot.flags|=t,a.memoizedState=Sf(1|e,{destroy:void 0},n,r===void 0?null:r)}function Wy(t,e,n,r){var a=Un();r=r===void 0?null:r;var i=a.memoizedState.inst;Yt!==null&&r!==null&&vw(r,Yt.memoizedState.deps)?a.memoizedState=Sf(e,i,n,r):(ot.flags|=t,a.memoizedState=Sf(1|e,i,n,r))}function cD(t,e){Qv(8390656,8,t,e)}function Aw(t,e){Wy(2048,8,t,e)}function S9(t){ot.flags|=4;var e=ot.updateQueue;if(e===null)e=Gy(),ot.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function fN(t){var e=Un().memoizedState;return S9({ref:e,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(he(440));return e.impl.apply(void 0,arguments)}}function dN(t,e){return Wy(4,2,t,e)}function pN(t,e){return Wy(4,4,t,e)}function hN(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mN(t,e,n){n=n!=null?n.concat([t]):null,Wy(4,4,hN.bind(null,e,t),n)}function ww(){}function gN(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vN(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&vw(e,r[1]))return r[0];if(r=t(),vu){Xs(!0);try{t()}finally{Xs(!1)}}return n.memoizedState=[r,e],r}function Cw(t,e,n){return n===void 0||(jo&1073741824)!==0&&(bt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=i3(),ot.lanes|=t,cl|=t,n)}function yN(t,e,n,r){return Sa(n,e)?n:bf.current!==null?(t=Cw(t,n,r),Sa(t,e)||(qn=!0),t):(jo&42)===0||(jo&1073741824)!==0&&(bt&261930)===0?(qn=!0,t.memoizedState=n):(t=i3(),ot.lanes|=t,cl|=t,e)}function xN(t,e,n,r,a){var i=kt.p;kt.p=i!==0&&8>i?i:8;var o=Ye.T,s={};Ye.T=s,Tw(t,!1,e,n);try{var l=a(),u=Ye.S;if(u!==null&&u(s,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=g9(l,r);oh(t,e,c,ba(t))}else oh(t,e,r,ba(t))}catch(f){oh(t,e,{then:function(){},status:"rejected",reason:f},ba())}finally{kt.p=i,o!==null&&s.types!==null&&(o.types=s.types),Ye.T=o}}function _9(){}function TA(t,e,n,r){if(t.tag!==5)throw Error(he(476));var a=bN(t).queue;xN(t,a,e,uu,n===null?_9:function(){return SN(t),n(r)})}function bN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:uu,baseState:uu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:uu},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function SN(t){var e=bN(t);e.next===null&&(e=t.alternate.memoizedState),oh(t,e.next.queue,{},ba())}function Ew(){return yr(Mh)}function _N(){return Un().memoizedState}function MN(){return Un().memoizedState}function M9(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ba();t=el(n);var r=tl(e,t,n);r!==null&&(ta(r,e,n),rh(r,e,n)),e={cache:dw()},t.payload=e;return}e=e.return}}function A9(t,e,n){var r=ba();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},jy(t)?wN(e,n):(n=lw(t,e,n,r),n!==null&&(ta(n,t,r),CN(n,e,r)))}function AN(t,e,n){var r=ba();oh(t,e,n,r)}function oh(t,e,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(t))wN(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Sa(s,o))return Hy(t,e,a,0),tn===null&&zy(),!1}catch{}if(n=lw(t,e,a,r),n!==null)return ta(n,t,r),CN(n,e,r),!0}return!1}function Tw(t,e,n,r){if(r={lane:2,revertLane:Bw(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jy(t)){if(e)throw Error(he(479))}else e=lw(t,n,r,2),e!==null&&ta(e,t,2)}function jy(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function wN(t,e){hf=xy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CN(t,e,n){if((n&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f2(t,n)}}var bh={readContext:yr,use:qy,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};bh.useEffectEvent=In;var EN={readContext:yr,use:qy,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:cD,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Qv(4194308,4,hN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qv(4194308,4,t,e)},useInsertionEffect:function(t,e){Qv(4,2,t,e)},useMemo:function(t,e){var n=Fr();e=e===void 0?null:e;var r=t();if(vu){Xs(!0);try{t()}finally{Xs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Fr();if(n!==void 0){var a=n(e);if(vu){Xs(!0);try{n(e)}finally{Xs(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=A9.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:function(t){t=CA(t);var e=t.queue,n=AN.bind(null,ot,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ww,useDeferredValue:function(t,e){var n=Fr();return Cw(n,t,e)},useTransition:function(){var t=CA(!1);return t=xN.bind(null,ot,t.queue,!0,!1),Fr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ot,a=Fr();if(Mt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=e(),tn===null)throw Error(he(349));(bt&127)!==0||eN(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,cD(nN.bind(null,r,i,t),[t]),r.flags|=2048,Sf(9,{destroy:void 0},tN.bind(null,r,i,n,e),null),n},useId:function(){var t=Fr(),e=tn.identifierPrefix;if(Mt){var n=eo,r=Qi;n=(r&~(1<<32-xa(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=by++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=v9++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ew,useFormState:sD,useActionState:sD,useOptimistic:function(t){var e=Fr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Tw.bind(null,ot,!0,n),n.dispatch=e,[t,e]},useMemoCache:_w,useCacheRefresh:function(){return Fr().memoizedState=M9.bind(null,ot)},useEffectEvent:function(t){var e=Fr(),n={impl:t};return e.memoizedState=n,function(){if((Nt&2)!==0)throw Error(he(440));return n.impl.apply(void 0,arguments)}}},Iw={readContext:yr,use:qy,useCallback:gN,useContext:yr,useEffect:Aw,useImperativeHandle:mN,useInsertionEffect:dN,useLayoutEffect:pN,useMemo:vN,useReducer:Jv,useRef:cN,useState:function(){return Jv(Xo)},useDebugValue:ww,useDeferredValue:function(t,e){var n=Un();return yN(n,Yt.memoizedState,t,e)},useTransition:function(){var t=Jv(Xo)[0],e=Un().memoizedState;return[typeof t=="boolean"?t:Oh(t),e]},useSyncExternalStore:Q2,useId:_N,useHostTransitionStatus:Ew,useFormState:lD,useActionState:lD,useOptimistic:function(t,e){var n=Un();return iN(n,Yt,t,e)},useMemoCache:_w,useCacheRefresh:MN};Iw.useEffectEvent=fN;var TN={readContext:yr,use:qy,useCallback:gN,useContext:yr,useEffect:Aw,useImperativeHandle:mN,useInsertionEffect:dN,useLayoutEffect:pN,useMemo:vN,useReducer:k1,useRef:cN,useState:function(){return k1(Xo)},useDebugValue:ww,useDeferredValue:function(t,e){var n=Un();return Yt===null?Cw(n,t,e):yN(n,Yt.memoizedState,t,e)},useTransition:function(){var t=k1(Xo)[0],e=Un().memoizedState;return[typeof t=="boolean"?t:Oh(t),e]},useSyncExternalStore:Q2,useId:_N,useHostTransitionStatus:Ew,useFormState:uD,useActionState:uD,useOptimistic:function(t,e){var n=Un();return Yt!==null?iN(n,Yt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:_w,useCacheRefresh:MN};TN.useEffectEvent=fN;function B1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var IA={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ba(),a=el(r);a.payload=e,n!=null&&(a.callback=n),e=tl(t,a,r),e!==null&&(ta(e,t,r),rh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ba(),a=el(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=tl(t,a,r),e!==null&&(ta(e,t,r),rh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ba(),r=el(n);r.tag=2,e!=null&&(r.callback=e),e=tl(t,r,n),e!==null&&(ta(e,t,n),rh(e,t,n))}};function fD(t,e,n,r,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mh(n,r)||!mh(a,i):!0}function dD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&IA.enqueueReplaceState(e,e.state,null)}function yu(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=dn({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function IN(t){dy(t)}function LN(t){console.error(t)}function PN(t){dy(t)}function Sy(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function pD(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function LA(t,e,n){return n=el(n),n.tag=3,n.payload={element:null},n.callback=function(){Sy(t,e)},n}function RN(t){return t=el(t),t.tag=3,t}function ON(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){pD(e,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){pD(e,n,r),typeof a!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})})}function w9(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&If(e,n,a,!0),n=_a.current,n!==null){switch(n.tag){case 31:case 13:return Ja===null?Cy():n.alternate===null&&Ln===0&&(Ln=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===gy?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Y1(t,r,a)),!1;case 22:return n.flags|=65536,r===gy?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Y1(t,r,a)),!1}throw Error(he(435,n.tag))}return Y1(t,r,a),Cy(),!1}if(Mt)return e=_a.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==vA&&(t=Error(he(422),{cause:r}),vh(Za(t,n)))):(r!==vA&&(e=Error(he(423),{cause:r}),vh(Za(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Za(r,n),a=LA(t.stateNode,r,a),N1(t,a),Ln!==4&&(Ln=2)),!1;var i=Error(he(520),{cause:r});if(i=Za(i,n),uh===null?uh=[i]:uh.push(i),Ln!==4&&(Ln=2),e===null)return!0;r=Za(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=LA(n.stateNode,r,t),N1(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(nl===null||!nl.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=RN(a),ON(a,t,n,r),N1(n,a),!1}n=n.return}while(n!==null);return!1}var Lw=Error(he(461)),qn=!1;function mr(t,e,n,r){e.child=t===null?X2(e,null,n,r):gu(e,t.child,n,r)}function hD(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var o={};for(var s in r)s!=="ref"&&(o[s]=r[s])}else o=r;return mu(e),r=yw(t,e,n,o,i,a),s=xw(),t!==null&&!qn?(bw(t,e,a),Yo(t,e,a)):(Mt&&s&&cw(e),e.flags|=1,mr(t,e,r,a),e.child)}function mD(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!uw(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,DN(t,e,i,r,a)):(t=Zv(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Pw(t,a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mh,n(o,r)&&t.ref===e.ref)return Yo(t,e,a)}return e.flags|=1,t=Vo(i,r),t.ref=e.ref,t.return=e,e.child=t}function DN(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(mh(i,r)&&t.ref===e.ref)if(qn=!1,e.pendingProps=r=i,Pw(t,a))(t.flags&131072)!==0&&(qn=!0);else return e.lanes=t.lanes,Yo(t,e,a)}return PA(t,e,n,r,a)}function NN(t,e,n,r){var a=r.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((e.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,e.child=null;return gD(t,e,i,n,r)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&$v(e,i!==null?i.cachePool:null),i!==null?aD(e,i):AA(),Z2(e);else return r=e.lanes=536870912,gD(t,e,i!==null?i.baseLanes|n:n,n,r)}else i!==null?($v(e,i.cachePool),aD(e,i),Ws(e),e.memoizedState=null):(t!==null&&$v(e,null),AA(),Ws(e));return mr(t,e,a,n),e.child}function $p(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function gD(t,e,n,r,a){var i=pw();return i=i===null?null:{parent:Gn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&$v(e,null),AA(),Z2(e),t!==null&&If(t,e,r,!0),e.childLanes=a,null}function ey(t,e){return e=_y({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function vD(t,e,n){return gu(e,t.child,null,n),t=ey(e,e.pendingProps),t.flags|=2,ha(e),e.memoizedState=null,t}function C9(t,e,n){var r=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Mt){if(r.mode==="hidden")return t=ey(e,r),e.lanes=536870912,$p(null,t);if(wA(e),(t=fn)?(t=E3(t,$a),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:sl!==null?{id:Qi,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},n=z2(t),n.return=e,e.child=n,vr=e,fn=null)):t=null,t===null)throw ll(e);return e.lanes=536870912,null}return ey(e,r)}var i=t.memoizedState;if(i!==null){var o=i.dehydrated;if(wA(e),a)if(e.flags&256)e.flags&=-257,e=vD(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(he(558));else if(qn||If(t,e,n,!1),a=(n&t.childLanes)!==0,qn||a){if(r=tn,r!==null&&(o=d2(r,n),o!==0&&o!==i.retryLane))throw i.retryLane=o,_u(t,o),ta(r,t,o),Lw;Cy(),e=vD(t,e,n)}else t=i.treeContext,fn=Qa(o.nextSibling),vr=e,Mt=!0,Qs=null,$a=!1,t!==null&&V2(e,t),e=ey(e,r),e.flags|=4096;return e}return t=Vo(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ty(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(he(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function PA(t,e,n,r,a){return mu(e),n=yw(t,e,n,r,void 0,a),r=xw(),t!==null&&!qn?(bw(t,e,a),Yo(t,e,a)):(Mt&&r&&cw(e),e.flags|=1,mr(t,e,n,a),e.child)}function yD(t,e,n,r,a,i){return mu(e),e.updateQueue=null,n=J2(e,r,n,a),$2(t),r=xw(),t!==null&&!qn?(bw(t,e,i),Yo(t,e,i)):(Mt&&r&&cw(e),e.flags|=1,mr(t,e,n,i),e.child)}function xD(t,e,n,r,a){if(mu(e),e.stateNode===null){var i=af,o=n.contextType;typeof o=="object"&&o!==null&&(i=yr(o)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=IA,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},mw(e),o=n.contextType,i.context=typeof o=="object"&&o!==null?yr(o):af,i.state=e.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(B1(e,n,o,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&IA.enqueueReplaceState(i,i.state,null),ih(e,r,i,a),ah(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var s=e.memoizedProps,l=yu(n,s);i.props=l;var u=i.context,c=n.contextType;o=af,typeof c=="object"&&c!==null&&(o=yr(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=e.pendingProps!==s,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&dD(e,i,r,o),Vs=!1;var d=e.memoizedState;i.state=d,ih(e,r,i,a),ah(),u=e.memoizedState,s||d!==u||Vs?(typeof f=="function"&&(B1(e,n,f,r),u=e.memoizedState),(l=Vs||fD(e,n,l,r,d,u,o))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=o,r=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,_A(t,e),o=e.memoizedProps,c=yu(n,o),i.props=c,f=e.pendingProps,d=i.context,u=n.contextType,l=af,typeof u=="object"&&u!==null&&(l=yr(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||d!==l)&&dD(e,i,r,l),Vs=!1,d=e.memoizedState,i.state=d,ih(e,r,i,a),ah();var p=e.memoizedState;o!==f||d!==p||Vs||t!==null&&t.dependencies!==null&&my(t.dependencies)?(typeof s=="function"&&(B1(e,n,s,r),p=e.memoizedState),(c=Vs||fD(e,n,c,r,d,p,l)||t!==null&&t.dependencies!==null&&my(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,ty(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=gu(e,t.child,null,a),e.child=gu(e,null,n,a)):mr(t,e,n,a),e.memoizedState=i.state,t=e.child):t=Yo(t,e,a),t}function bD(t,e,n,r){return hu(),e.flags|=256,mr(t,e,n,r),e.child}var U1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function F1(t){return{baseLanes:t,cachePool:q2()}}function z1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=ga),t}function kN(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(Bn.current&2)!==0),o&&(a=!0,e.flags&=-129),o=(e.flags&32)!==0,e.flags&=-33,t===null){if(Mt){if(a?qs(e):Ws(e),(t=fn)?(t=E3(t,$a),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:sl!==null?{id:Qi,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},n=z2(t),n.return=e,e.child=n,vr=e,fn=null)):t=null,t===null)throw ll(e);return WA(t)?e.lanes=32:e.lanes=536870912,null}var s=r.children;return r=r.fallback,a?(Ws(e),a=e.mode,s=_y({mode:"hidden",children:s},a),r=cu(r,a,n,null),s.return=e,r.return=e,s.sibling=r,e.child=s,r=e.child,r.memoizedState=F1(n),r.childLanes=z1(t,o,n),e.memoizedState=U1,$p(null,r)):(qs(e),RA(e,s))}var l=t.memoizedState;if(l!==null&&(s=l.dehydrated,s!==null)){if(i)e.flags&256?(qs(e),e.flags&=-257,e=H1(t,e,n)):e.memoizedState!==null?(Ws(e),e.child=t.child,e.flags|=128,e=null):(Ws(e),s=r.fallback,a=e.mode,r=_y({mode:"visible",children:r.children},a),s=cu(s,a,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,gu(e,t.child,null,n),r=e.child,r.memoizedState=F1(n),r.childLanes=z1(t,o,n),e.memoizedState=U1,e=$p(null,r));else if(qs(e),WA(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(he(419)),r.stack="",r.digest=o,vh({value:r,source:null,stack:null}),e=H1(t,e,n)}else if(qn||If(t,e,n,!1),o=(n&t.childLanes)!==0,qn||o){if(o=tn,o!==null&&(r=d2(o,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,_u(t,r),ta(o,t,r),Lw;qA(s)||Cy(),e=H1(t,e,n)}else qA(s)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,fn=Qa(s.nextSibling),vr=e,Mt=!0,Qs=null,$a=!1,t!==null&&V2(e,t),e=RA(e,r.children),e.flags|=4096);return e}return a?(Ws(e),s=r.fallback,a=e.mode,l=t.child,u=l.sibling,r=Vo(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?s=Vo(u,s):(s=cu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,$p(null,r),r=e.child,s=t.child.memoizedState,s===null?s=F1(n):(a=s.cachePool,a!==null?(l=Gn._currentValue,a=a.parent!==l?{parent:l,pool:l}:a):a=q2(),s={baseLanes:s.baseLanes|n,cachePool:a}),r.memoizedState=s,r.childLanes=z1(t,o,n),e.memoizedState=U1,$p(t.child,r)):(qs(e),n=t.child,t=n.sibling,n=Vo(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(o=e.deletions,o===null?(e.deletions=[t],e.flags|=16):o.push(t)),e.child=n,e.memoizedState=null,n)}function RA(t,e){return e=_y({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function _y(t,e){return t=ma(22,t,null,e),t.lanes=0,t}function H1(t,e,n){return gu(e,t.child,null,n),t=RA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xA(t.return,e,n)}function V1(t,e,n,r,a,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.treeForkCount=i)}function BN(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var o=Bn.current,s=(o&2)!==0;if(s?(o=o&1|2,e.flags|=128):o&=1,sn(Bn,o),mr(t,e,r,n),r=Mt?gh:0,!s&&t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SD(t,n,e);else if(t.tag===19)SD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&yy(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),V1(e,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&yy(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}V1(e,!0,n,null,i,r);break;case"together":V1(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Yo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cl|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(If(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(he(153));if(e.child!==null){for(t=e.child,n=Vo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pw(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&my(t)))}function E9(t,e,n){switch(e.tag){case 3:ly(e,e.stateNode.containerInfo),Gs(e,Gn,t.memoizedState.cache),hu();break;case 27:case 5:oA(e);break;case 4:ly(e,e.stateNode.containerInfo);break;case 10:Gs(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,wA(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(qs(e),e.flags|=128,null):(n&e.child.childLanes)!==0?kN(t,e,n):(qs(e),t=Yo(t,e,n),t!==null?t.sibling:null);qs(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(If(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return BN(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),sn(Bn,Bn.current),r)break;return null;case 22:return e.lanes=0,NN(t,e,n,e.pendingProps);case 24:Gs(e,Gn,t.memoizedState.cache)}return Yo(t,e,n)}function UN(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)qn=!0;else{if(!Pw(t,n)&&(e.flags&128)===0)return qn=!1,E9(t,e,n);qn=(t.flags&131072)!==0}else qn=!1,Mt&&(e.flags&1048576)!==0&&H2(e,gh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=su(e.elementType),e.type=t,typeof t=="function")uw(t)?(r=yu(t,r),e.tag=1,e=xD(null,e,t,r,n)):(e.tag=0,e=PA(null,e,t,r,n));else{if(t!=null){var a=t.$$typeof;if(a===KA){e.tag=11,e=hD(null,e,t,r,n);break e}else if(a===ZA){e.tag=14,e=mD(null,e,t,r,n);break e}}throw e=aA(t)||t,Error(he(306,e,""))}}return e;case 0:return PA(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=yu(r,e.pendingProps),xD(t,e,r,a,n);case 3:e:{if(ly(e,e.stateNode.containerInfo),t===null)throw Error(he(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,_A(t,e),ih(e,r,null,n);var o=e.memoizedState;if(r=o.cache,Gs(e,Gn,r),r!==i.cache&&bA(e,[Gn],n,!0),ah(),r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=bD(t,e,r,n);break e}else if(r!==a){a=Za(Error(he(424)),e),vh(a),e=bD(t,e,r,n);break e}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,fn=Qa(t.firstChild),vr=e,Mt=!0,Qs=null,$a=!0,n=X2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hu(),r===a){e=Yo(t,e,n);break e}mr(t,e,r,n)}e=e.child}return e;case 26:return ty(t,e),t===null?(n=GD(e.type,null,e.pendingProps,null))?e.memoizedState=n:Mt||(n=e.type,t=e.pendingProps,r=Ly(Js.current).createElement(n),r[gr]=e,r[na]=t,xr(r,n,t),ar(r),e.stateNode=r):e.memoizedState=GD(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return oA(e),t===null&&Mt&&(r=e.stateNode=T3(e.type,e.pendingProps,Js.current),vr=e,$a=!0,a=fn,dl(e.type)?(jA=a,fn=Qa(r.firstChild)):fn=a),mr(t,e,e.pendingProps.children,n),ty(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Mt&&((a=r=fn)&&(r=tX(r,e.type,e.pendingProps,$a),r!==null?(e.stateNode=r,vr=e,fn=Qa(r.firstChild),$a=!1,a=!0):a=!1),a||ll(e)),oA(e),a=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,r=i.children,VA(a,i)?r=null:o!==null&&VA(a,o)&&(e.flags|=32),e.memoizedState!==null&&(a=yw(t,e,y9,null,null,n),Mh._currentValue=a),ty(t,e),mr(t,e,r,n),e.child;case 6:return t===null&&Mt&&((t=n=fn)&&(n=nX(n,e.pendingProps,$a),n!==null?(e.stateNode=n,vr=e,fn=null,t=!0):t=!1),t||ll(e)),null;case 13:return kN(t,e,n);case 4:return ly(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gu(e,null,r,n):mr(t,e,r,n),e.child;case 11:return hD(t,e,e.type,e.pendingProps,n);case 7:return mr(t,e,e.pendingProps,n),e.child;case 8:return mr(t,e,e.pendingProps.children,n),e.child;case 12:return mr(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Gs(e,e.type,r.value),mr(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,mu(e),a=yr(a),r=r(a),e.flags|=1,mr(t,e,r,n),e.child;case 14:return mD(t,e,e.type,e.pendingProps,n);case 15:return DN(t,e,e.type,e.pendingProps,n);case 19:return BN(t,e,n);case 31:return C9(t,e,n);case 22:return NN(t,e,n,e.pendingProps);case 24:return mu(e),r=yr(Gn),t===null?(a=pw(),a===null&&(a=tn,i=dw(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},mw(e),Gs(e,Gn,a)):((t.lanes&n)!==0&&(_A(t,e),ih(e,null,null,n),ah()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),Gs(e,Gn,r)):(r=i.cache,Gs(e,Gn,r),r!==a.cache&&bA(e,[Gn],n,!0))),mr(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(he(156,e.tag))}function Oo(t){t.flags|=4}function G1(t,e,n,r,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(l3())t.flags|=8192;else throw du=gy,hw}else t.flags&=-16777217}function _D(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P3(e))if(l3())t.flags|=8192;else throw du=gy,hw}function Fv(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?u2():536870912,t.lanes|=e,_f|=e)}function qp(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function T9(t,e,n){var r=e.pendingProps;switch(fw(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(e),null;case 1:return cn(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Go(Gn),gf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(jc(e)?Oo(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,D1())),cn(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Oo(e),i!==null?(cn(e),_D(e,i)):(cn(e),G1(e,a,null,r,n))):i?i!==t.memoizedState?(Oo(e),cn(e),_D(e,i)):(cn(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Oo(e),cn(e),G1(e,a,t,r,n)),null;case 27:if(uy(e),n=Js.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Oo(e);else{if(!r){if(e.stateNode===null)throw Error(he(166));return cn(e),null}t=no.current,jc(e)?$O(e,t):(t=T3(a,r,n),e.stateNode=t,Oo(e))}return cn(e),null;case 5:if(uy(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Oo(e);else{if(!r){if(e.stateNode===null)throw Error(he(166));return cn(e),null}if(i=no.current,jc(e))$O(e,i);else{var o=Ly(Js.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?o.createElement(a,{is:r.is}):o.createElement(a)}}i[gr]=e,i[na]=r;e:for(o=e.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break e;for(;o.sibling===null;){if(o.return===null||o.return===e)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}e.stateNode=i;e:switch(xr(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oo(e)}}return cn(e),G1(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Oo(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(he(166));if(t=Js.current,jc(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=vr,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[gr]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||A3(t.nodeValue,n)),t||ll(e,!0)}else t=Ly(t).createTextNode(r),t[gr]=e,e.stateNode=t}return cn(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=jc(e),n!==null){if(t===null){if(!r)throw Error(he(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(he(557));t[gr]=e}else hu(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;cn(e),t=!1}else n=D1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ha(e),e):(ha(e),null);if((e.flags&128)!==0)throw Error(he(558))}return cn(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=jc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(he(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(he(317));a[gr]=e}else hu(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;cn(e),a=!1}else a=D1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(ha(e),e):(ha(e),null)}return ha(e),(e.flags&128)!==0?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Fv(e,e.updateQueue),cn(e),null);case 4:return gf(),t===null&&Uw(e.stateNode.containerInfo),cn(e),null;case 10:return Go(e.type),cn(e),null;case 19:if(ir(Bn),r=e.memoizedState,r===null)return cn(e),null;if(a=(e.flags&128)!==0,i=r.rendering,i===null)if(a)qp(r,!1);else{if(Ln!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=yy(t),i!==null){for(e.flags|=128,qp(r,!1),t=i.updateQueue,e.updateQueue=t,Fv(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)F2(n,t),n=n.sibling;return sn(Bn,Bn.current&1|2),Mt&&Bo(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&va()>Ay&&(e.flags|=128,a=!0,qp(r,!1),e.lanes=4194304)}else{if(!a)if(t=yy(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Fv(e,t),qp(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!Mt)return cn(e),null}else 2*va()-r.renderingStartTime>Ay&&n!==536870912&&(e.flags|=128,a=!0,qp(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=va(),t.sibling=null,n=Bn.current,sn(Bn,a?n&1|2:n&1),Mt&&Bo(e,r.treeForkCount),t):(cn(e),null);case 22:case 23:return ha(e),gw(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(n&536870912)!==0&&(e.flags&128)===0&&(cn(e),e.subtreeFlags&6&&(e.flags|=8192)):cn(e),n=e.updateQueue,n!==null&&Fv(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&ir(fu),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Go(Gn),cn(e),null;case 25:return null;case 30:return null}throw Error(he(156,e.tag))}function I9(t,e){switch(fw(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(Gn),gf(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uy(e),null;case 31:if(e.memoizedState!==null){if(ha(e),e.alternate===null)throw Error(he(340));hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ha(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(he(340));hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ir(Bn),null;case 4:return gf(),null;case 10:return Go(e.type),null;case 22:case 23:return ha(e),gw(),t!==null&&ir(fu),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Go(Gn),null;case 25:return null;default:return null}}function FN(t,e){switch(fw(e),e.tag){case 3:Go(Gn),gf();break;case 26:case 27:case 5:uy(e);break;case 4:gf();break;case 31:e.memoizedState!==null&&ha(e);break;case 13:ha(e);break;case 19:ir(Bn);break;case 10:Go(e.type);break;case 22:case 23:ha(e),gw(),t!==null&&ir(fu);break;case 24:Go(Gn)}}function Dh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){Vt(e,e.return,s)}}function ul(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=e;var l=n,u=s;try{u()}catch(c){Vt(a,l,c)}}}r=r.next}while(r!==i)}}catch(c){Vt(e,e.return,c)}}function zN(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{K2(e,n)}catch(r){Vt(t,t.return,r)}}}function HN(t,e,n){n.props=yu(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Vt(t,e,r)}}function sh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){Vt(t,e,a)}}function to(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Vt(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Vt(t,e,a)}else n.current=null}function VN(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Vt(t,t.return,a)}}function q1(t,e,n){try{var r=t.stateNode;K9(r,t.type,n,e),r[na]=e}catch(a){Vt(t,t.return,a)}}function GN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dl(t.type)||t.tag===4}function W1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function OA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zo));else if(r!==4&&(r===27&&dl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(OA(t,e,n),t=t.sibling;t!==null;)OA(t,e,n),t=t.sibling}function My(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&dl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(My(t,e,n),t=t.sibling;t!==null;)My(t,e,n),t=t.sibling}function qN(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);xr(e,r,n),e[gr]=t,e[na]=n}catch(i){Vt(t,t.return,i)}}var Uo=!1,Vn=!1,j1=!1,MD=typeof WeakSet=="function"?WeakSet:Set,rr=null;function L9(t,e){if(t=t.containerInfo,zA=Dy,t=P2(t),ow(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===a&&(s=o),d===i&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(HA={focusedElem:t,selectionRange:n},Dy=!1,rr=e;rr!==null;)if(e=rr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rr=t;else for(;rr!==null;){switch(e=rr,i=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=yu(n.type,a);t=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){Vt(n,n.return,y)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)GA(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":GA(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(he(163))}if(t=e.sibling,t!==null){t.return=e.return,rr=t;break}rr=e.return}}function WN(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:No(t,n),r&4&&Dh(5,n);break;case 1:if(No(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(o){Vt(n,n.return,o)}else{var a=yu(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(o){Vt(n,n.return,o)}}r&64&&zN(n),r&512&&sh(n,n.return);break;case 3:if(No(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{K2(t,e)}catch(o){Vt(n,n.return,o)}}break;case 27:e===null&&r&4&&qN(n);case 26:case 5:No(t,n),e===null&&r&4&&VN(n),r&512&&sh(n,n.return);break;case 12:No(t,n);break;case 31:No(t,n),r&4&&YN(t,n);break;case 13:No(t,n),r&4&&KN(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=F9.bind(null,n),rX(t,n))));break;case 22:if(r=n.memoizedState!==null||Uo,!r){e=e!==null&&e.memoizedState!==null||Vn,a=Uo;var i=Vn;Uo=r,(Vn=e)&&!i?ko(t,n,(n.subtreeFlags&8772)!==0):No(t,n),Uo=a,Vn=i}break;case 30:break;default:No(t,n)}}function jN(t){var e=t.alternate;e!==null&&(t.alternate=null,jN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ew(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yn=null,Qr=!1;function Do(t,e,n){for(n=n.child;n!==null;)XN(t,e,n),n=n.sibling}function XN(t,e,n){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 26:Vn||to(n,e),Do(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Vn||to(n,e);var r=yn,a=Qr;dl(n.type)&&(yn=n.stateNode,Qr=!1),Do(t,e,n),fh(n.stateNode),yn=r,Qr=a;break;case 5:Vn||to(n,e);case 6:if(r=yn,a=Qr,yn=null,Do(t,e,n),yn=r,Qr=a,yn!==null)if(Qr)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(n.stateNode)}catch(i){Vt(n,e,i)}else try{yn.removeChild(n.stateNode)}catch(i){Vt(n,e,i)}break;case 18:yn!==null&&(Qr?(t=yn,UD(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Cf(t)):UD(yn,n.stateNode));break;case 4:r=yn,a=Qr,yn=n.stateNode.containerInfo,Qr=!0,Do(t,e,n),yn=r,Qr=a;break;case 0:case 11:case 14:case 15:ul(2,n,e),Vn||ul(4,n,e),Do(t,e,n);break;case 1:Vn||(to(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&HN(n,e,r)),Do(t,e,n);break;case 21:Do(t,e,n);break;case 22:Vn=(r=Vn)||n.memoizedState!==null,Do(t,e,n),Vn=r;break;default:Do(t,e,n)}}function YN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Cf(t)}catch(n){Vt(e,e.return,n)}}}function KN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cf(t)}catch(n){Vt(e,e.return,n)}}function P9(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new MD),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new MD),e;default:throw Error(he(435,t.tag))}}function zv(t,e){var n=P9(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var a=z9.bind(null,t,r);r.then(a,a)}})}function $r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(dl(s.type)){yn=s.stateNode,Qr=!1;break e}break;case 5:yn=s.stateNode,Qr=!1;break e;case 3:case 4:yn=s.stateNode.containerInfo,Qr=!0;break e}s=s.return}if(yn===null)throw Error(he(160));XN(i,o,a),yn=null,Qr=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ZN(e,t),e=e.sibling}var Li=null;function ZN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:$r(e,t),Jr(t),r&4&&(ul(3,t,t.return),Dh(3,t),ul(5,t,t.return));break;case 1:$r(e,t),Jr(t),r&512&&(Vn||n===null||to(n,n.return)),r&64&&Uo&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Li;if($r(e,t),Jr(t),r&512&&(Vn||n===null||to(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Lh]||i[gr]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),xr(i,r,n),i[gr]=t,ar(i),r=i;break e;case"link":var o=WD("link","href",a).get(r+(n.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(r),xr(i,r,n),a.head.appendChild(i);break;case"meta":if(o=WD("meta","content",a).get(r+(n.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(s,1);break t}}i=a.createElement(r),xr(i,r,n),a.head.appendChild(i);break;default:throw Error(he(468,r))}i[gr]=t,ar(i),r=i}t.stateNode=r}else jD(a,t.type,t.stateNode);else t.stateNode=qD(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?jD(a,t.type,t.stateNode):qD(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&q1(t,t.memoizedProps,n.memoizedProps)}break;case 27:$r(e,t),Jr(t),r&512&&(Vn||n===null||to(n,n.return)),n!==null&&r&4&&q1(t,t.memoizedProps,n.memoizedProps);break;case 5:if($r(e,t),Jr(t),r&512&&(Vn||n===null||to(n,n.return)),t.flags&32){a=t.stateNode;try{yf(a,"")}catch(m){Vt(t,t.return,m)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,q1(t,a,n!==null?n.memoizedProps:a)),r&1024&&(j1=!0);break;case 6:if($r(e,t),Jr(t),r&4){if(t.stateNode===null)throw Error(he(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(m){Vt(t,t.return,m)}}break;case 3:if(ay=null,a=Li,Li=Py(e.containerInfo),$r(e,t),Li=a,Jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cf(e.containerInfo)}catch(m){Vt(t,t.return,m)}j1&&(j1=!1,$N(t));break;case 4:r=Li,Li=Py(t.stateNode.containerInfo),$r(e,t),Jr(t),Li=r;break;case 12:$r(e,t),Jr(t);break;case 31:$r(e,t),Jr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zv(t,r)));break;case 13:$r(e,t),Jr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Xy=va()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zv(t,r)));break;case 22:a=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Uo,c=Vn;if(Uo=u||a,Vn=c||l,$r(e,t),Vn=c,Uo=u,Jr(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||l||Uo||Vn||lu(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(i=l.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(m){Vt(l,l.return,m)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(m){Vt(l,l.return,m)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;a?FD(p,!0):FD(l.stateNode,!1)}catch(m){Vt(l,l.return,m)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,zv(t,n))));break;case 19:$r(e,t),Jr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zv(t,r)));break;case 30:break;case 21:break;default:$r(e,t),Jr(t)}}function Jr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(GN(r)){n=r;break}r=r.return}if(n==null)throw Error(he(160));switch(n.tag){case 27:var a=n.stateNode,i=W1(t);My(t,i,a);break;case 5:var o=n.stateNode;n.flags&32&&(yf(o,""),n.flags&=-33);var s=W1(t);My(t,s,o);break;case 3:case 4:var l=n.stateNode.containerInfo,u=W1(t);OA(t,u,l);break;default:throw Error(he(161))}}catch(c){Vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $N(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$N(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function No(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)WN(t,e.alternate,e),e=e.sibling}function lu(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ul(4,e,e.return),lu(e);break;case 1:to(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&HN(e,e.return,n),lu(e);break;case 27:fh(e.stateNode);case 26:case 5:to(e,e.return),lu(e);break;case 22:e.memoizedState===null&&lu(e);break;case 30:lu(e);break;default:lu(e)}t=t.sibling}}function ko(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,o=i.flags;switch(i.tag){case 0:case 11:case 15:ko(a,i,n),Dh(4,i);break;case 1:if(ko(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Vt(r,r.return,u)}if(r=i,a=r.updateQueue,a!==null){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Y2(l[a],s)}catch(u){Vt(r,r.return,u)}}n&&o&64&&zN(i),sh(i,i.return);break;case 27:qN(i);case 26:case 5:ko(a,i,n),n&&r===null&&o&4&&VN(i),sh(i,i.return);break;case 12:ko(a,i,n);break;case 31:ko(a,i,n),n&&o&4&&YN(a,i);break;case 13:ko(a,i,n),n&&o&4&&KN(a,i);break;case 22:i.memoizedState===null&&ko(a,i,n),sh(i,i.return);break;case 30:break;default:ko(a,i,n)}e=e.sibling}}function Rw(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Rh(n))}function Ow(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Rh(t))}function Ii(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)JN(t,e,n,r),e=e.sibling}function JN(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Ii(t,e,n,r),a&2048&&Dh(9,e);break;case 1:Ii(t,e,n,r);break;case 3:Ii(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Rh(t)));break;case 12:if(a&2048){Ii(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Vt(e,e.return,l)}}else Ii(t,e,n,r);break;case 31:Ii(t,e,n,r);break;case 13:Ii(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,o=e.alternate,e.memoizedState!==null?i._visibility&2?Ii(t,e,n,r):lh(t,e):i._visibility&2?Ii(t,e,n,r):(i._visibility|=2,Yc(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),a&2048&&Rw(o,e);break;case 24:Ii(t,e,n,r),a&2048&&Ow(e.alternate,e);break;default:Ii(t,e,n,r)}}function Yc(t,e,n,r,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,o=e,s=n,l=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Yc(i,o,s,l,a),Dh(8,o);break;case 23:break;case 22:var c=o.stateNode;o.memoizedState!==null?c._visibility&2?Yc(i,o,s,l,a):lh(i,o):(c._visibility|=2,Yc(i,o,s,l,a)),a&&u&2048&&Rw(o.alternate,o);break;case 24:Yc(i,o,s,l,a),a&&u&2048&&Ow(o.alternate,o);break;default:Yc(i,o,s,l,a)}e=e.sibling}}function lh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:lh(n,r),a&2048&&Rw(r.alternate,r);break;case 24:lh(n,r),a&2048&&Ow(r.alternate,r);break;default:lh(n,r)}e=e.sibling}}var Jp=8192;function Xc(t,e,n){if(t.subtreeFlags&Jp)for(t=t.child;t!==null;)QN(t,e,n),t=t.sibling}function QN(t,e,n){switch(t.tag){case 26:Xc(t,e,n),t.flags&Jp&&t.memoizedState!==null&&mX(n,Li,t.memoizedState,t.memoizedProps);break;case 5:Xc(t,e,n);break;case 3:case 4:var r=Li;Li=Py(t.stateNode.containerInfo),Xc(t,e,n),Li=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Jp,Jp=16777216,Xc(t,e,n),Jp=r):Xc(t,e,n));break;default:Xc(t,e,n)}}function e3(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Wp(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];rr=r,n3(r,t)}e3(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t3(t),t=t.sibling}function t3(t){switch(t.tag){case 0:case 11:case 15:Wp(t),t.flags&2048&&ul(9,t,t.return);break;case 3:Wp(t);break;case 12:Wp(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ny(t)):Wp(t);break;default:Wp(t)}}function ny(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];rr=r,n3(r,t)}e3(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ul(8,e,e.return),ny(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ny(e));break;default:ny(e)}t=t.sibling}}function n3(t,e){for(;rr!==null;){var n=rr;switch(n.tag){case 0:case 11:case 15:ul(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Rh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,rr=r;else e:for(n=t;rr!==null;){r=rr;var a=r.sibling,i=r.return;if(jN(r),r===n){rr=null;break e}if(a!==null){a.return=i,rr=a;break e}rr=i}}}var R9={getCacheForType:function(t){var e=yr(Gn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return yr(Gn).controller.signal}},O9=typeof WeakMap=="function"?WeakMap:Map,Nt=0,tn=null,vt=null,bt=0,Ht=0,pa=null,Ks=!1,Pf=!1,Dw=!1,Ko=0,Ln=0,cl=0,pu=0,Nw=0,ga=0,_f=0,uh=null,ea=null,DA=!1,Xy=0,r3=0,Ay=1/0,wy=null,nl=null,Kn=0,rl=null,Mf=null,qo=0,NA=0,kA=null,a3=null,ch=0,BA=null;function ba(){return(Nt&2)!==0&&bt!==0?bt&-bt:Ye.T!==null?Bw():p2()}function i3(){if(ga===0)if((bt&536870912)===0||Mt){var t=Lv;Lv<<=1,(Lv&3932160)===0&&(Lv=262144),ga=t}else ga=536870912;return t=_a.current,t!==null&&(t.flags|=32),ga}function ta(t,e,n){(t===tn&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(Af(t,0),Zs(t,bt,ga,!1)),Ih(t,n),((Nt&2)===0||t!==tn)&&(t===tn&&((Nt&2)===0&&(pu|=n),Ln===4&&Zs(t,bt,ga,!1)),ao(t))}function o3(t,e,n){if((Nt&6)!==0)throw Error(he(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Th(t,e),a=r?k9(t,e):X1(t,e,!0),i=r;do{if(a===0){Pf&&!r&&Zs(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!D9(n)){a=X1(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var o=0;else o=t.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){e=o;e:{var s=t;a=uh;var l=s.current.memoizedState.isDehydrated;if(l&&(Af(s,o).flags|=256),o=X1(s,o,!1),o!==2){if(Dw&&!l){s.errorRecoveryDisabledLanes|=i,pu|=i,a=4;break e}i=ea,ea=a,i!==null&&(ea===null?ea=i:ea.push.apply(ea,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){Af(t,0),Zs(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(he(345));case 4:if((e&4194048)!==e)break;case 6:Zs(r,e,ga,!Ks);break e;case 2:ea=null;break;case 3:case 5:break;default:throw Error(he(329))}if((e&62914560)===e&&(a=Xy+300-va(),10<a)){if(Zs(r,e,ga,!Ks),ky(r,0,!0)!==0)break e;qo=e,r.timeoutHandle=C3(AD.bind(null,r,n,ea,wy,DA,e,ga,pu,_f,Ks,i,"Throttled",-0,0),a);break e}AD(r,n,ea,wy,DA,e,ga,pu,_f,Ks,i,null,-0,0)}}break}while(!0);ao(t)}function AD(t,e,n,r,a,i,o,s,l,u,c,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zo},QN(e,i,f);var m=(i&62914560)===i?Xy-va():(i&4194048)===i?r3-va():0;if(m=gX(f,m),m!==null){qo=i,t.cancelPendingCommit=m(CD.bind(null,t,e,i,n,r,a,o,s,l,c,f,null,d,p)),Zs(t,i,o,!u);return}}CD(t,e,i,n,r,a,o,s,l)}function D9(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Sa(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zs(t,e,n,r){e&=~Nw,e&=~pu,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-xa(a),o=1<<i;r[i]=-1,a&=~o}n!==0&&c2(t,n,e)}function Yy(){return(Nt&6)===0?(Nh(0,!1),!1):!0}function kw(){if(vt!==null){if(Ht===0)var t=vt.return;else t=vt,Ho=Mu=null,Sw(t),pf=null,yh=0,t=vt;for(;t!==null;)FN(t.alternate,t),t=t.return;vt=null}}function Af(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,J9(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),qo=0,kw(),tn=t,vt=n=Vo(t.current,null),bt=e,Ht=0,pa=null,Ks=!1,Pf=Th(t,e),Dw=!1,_f=ga=Nw=pu=cl=Ln=0,ea=uh=null,DA=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-xa(r),i=1<<a;e|=t[a],r&=~i}return Ko=e,zy(),n}function s3(t,e){ot=null,Ye.H=bh,e===Lf||e===Vy?(e=nD(),Ht=3):e===hw?(e=nD(),Ht=4):Ht=e===Lw?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pa=e,vt===null&&(Ln=1,Sy(t,Za(e,t.current)))}function l3(){var t=_a.current;return t===null?!0:(bt&4194048)===bt?Ja===null:(bt&62914560)===bt||(bt&536870912)!==0?t===Ja:!1}function u3(){var t=Ye.H;return Ye.H=bh,t===null?bh:t}function c3(){var t=Ye.A;return Ye.A=R9,t}function Cy(){Ln=4,Ks||(bt&4194048)!==bt&&_a.current!==null||(Pf=!0),(cl&134217727)===0&&(pu&134217727)===0||tn===null||Zs(tn,bt,ga,!1)}function X1(t,e,n){var r=Nt;Nt|=2;var a=u3(),i=c3();(tn!==t||bt!==e)&&(wy=null,Af(t,e)),e=!1;var o=Ln;e:do try{if(Ht!==0&&vt!==null){var s=vt,l=pa;switch(Ht){case 8:kw(),o=6;break e;case 3:case 2:case 9:case 6:_a.current===null&&(e=!0);var u=Ht;if(Ht=0,pa=null,lf(t,s,l,u),n&&Pf){o=0;break e}break;default:u=Ht,Ht=0,pa=null,lf(t,s,l,u)}}N9(),o=Ln;break}catch(c){s3(t,c)}while(!0);return e&&t.shellSuspendCounter++,Ho=Mu=null,Nt=r,Ye.H=a,Ye.A=i,vt===null&&(tn=null,bt=0,zy()),o}function N9(){for(;vt!==null;)f3(vt)}function k9(t,e){var n=Nt;Nt|=2;var r=u3(),a=c3();tn!==t||bt!==e?(wy=null,Ay=va()+500,Af(t,e)):Pf=Th(t,e);e:do try{if(Ht!==0&&vt!==null){e=vt;var i=pa;t:switch(Ht){case 1:Ht=0,pa=null,lf(t,e,i,1);break;case 2:case 9:if(tD(i)){Ht=0,pa=null,wD(e);break}e=function(){Ht!==2&&Ht!==9||tn!==t||(Ht=7),ao(t)},i.then(e,e);break e;case 3:Ht=7;break e;case 4:Ht=5;break e;case 7:tD(i)?(Ht=0,pa=null,wD(e)):(Ht=0,pa=null,lf(t,e,i,7));break;case 5:var o=null;switch(vt.tag){case 26:o=vt.memoizedState;case 5:case 27:var s=vt;if(o?P3(o):s.stateNode.complete){Ht=0,pa=null;var l=s.sibling;if(l!==null)vt=l;else{var u=s.return;u!==null?(vt=u,Ky(u)):vt=null}break t}}Ht=0,pa=null,lf(t,e,i,5);break;case 6:Ht=0,pa=null,lf(t,e,i,6);break;case 8:kw(),Ln=6;break e;default:throw Error(he(462))}}B9();break}catch(c){s3(t,c)}while(!0);return Ho=Mu=null,Ye.H=r,Ye.A=a,Nt=n,vt!==null?0:(tn=null,bt=0,zy(),Ln)}function B9(){for(;vt!==null&&!oj();)f3(vt)}function f3(t){var e=UN(t.alternate,t,Ko);t.memoizedProps=t.pendingProps,e===null?Ky(t):vt=e}function wD(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=yD(n,e,e.pendingProps,e.type,void 0,bt);break;case 11:e=yD(n,e,e.pendingProps,e.type.render,e.ref,bt);break;case 5:Sw(e);default:FN(n,e),e=vt=F2(e,Ko),e=UN(n,e,Ko)}t.memoizedProps=t.pendingProps,e===null?Ky(t):vt=e}function lf(t,e,n,r){Ho=Mu=null,Sw(e),pf=null,yh=0;var a=e.return;try{if(w9(t,a,e,n,bt)){Ln=1,Sy(t,Za(n,t.current)),vt=null;return}}catch(i){if(a!==null)throw vt=a,i;Ln=1,Sy(t,Za(n,t.current)),vt=null;return}e.flags&32768?(Mt||r===1?t=!0:Pf||(bt&536870912)!==0?t=!1:(Ks=t=!0,(r===2||r===9||r===3||r===6)&&(r=_a.current,r!==null&&r.tag===13&&(r.flags|=16384))),d3(e,t)):Ky(e)}function Ky(t){var e=t;do{if((e.flags&32768)!==0){d3(e,Ks);return}t=e.return;var n=T9(e.alternate,e,Ko);if(n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Ln===0&&(Ln=5)}function d3(t,e){do{var n=I9(t.alternate,t);if(n!==null){n.flags&=32767,vt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){vt=t;return}vt=t=n}while(t!==null);Ln=6,vt=null}function CD(t,e,n,r,a,i,o,s,l){t.cancelPendingCommit=null;do Zy();while(Kn!==0);if((Nt&6)!==0)throw Error(he(327));if(e!==null){if(e===t.current)throw Error(he(177));if(i=e.lanes|e.childLanes,i|=sw,gj(t,n,i,o,s,l),t===tn&&(vt=tn=null,bt=0),Mf=e,rl=t,qo=n,NA=i,kA=a,a3=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,H9(cy,function(){return v3(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=Ye.T,Ye.T=null,a=kt.p,kt.p=2,o=Nt,Nt|=4;try{L9(t,e,n)}finally{Nt=o,kt.p=a,Ye.T=r}}Kn=1,p3(),h3(),m3()}}function p3(){if(Kn===1){Kn=0;var t=rl,e=Mf,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=Ye.T,Ye.T=null;var r=kt.p;kt.p=2;var a=Nt;Nt|=4;try{ZN(e,t);var i=HA,o=P2(t.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&L2(s.ownerDocument.documentElement,s)){if(l!==null&&ow(s)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var f=s.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),m=s.textContent.length,y=Math.min(l.start,m),v=l.end===void 0?y:Math.min(l.end,m);!p.extend&&y>v&&(o=v,v=y,y=o);var h=YO(s,y),g=YO(s,v);if(h&&g&&(p.rangeCount!==1||p.anchorNode!==h.node||p.anchorOffset!==h.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var x=f.createRange();x.setStart(h.node,h.offset),p.removeAllRanges(),y>v?(p.addRange(x),p.extend(g.node,g.offset)):(x.setEnd(g.node,g.offset),p.addRange(x))}}}}for(f=[],p=s;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var b=f[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Dy=!!zA,HA=zA=null}finally{Nt=a,kt.p=r,Ye.T=n}}t.current=e,Kn=2}}function h3(){if(Kn===2){Kn=0;var t=rl,e=Mf,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=Ye.T,Ye.T=null;var r=kt.p;kt.p=2;var a=Nt;Nt|=4;try{WN(t,e.alternate,e)}finally{Nt=a,kt.p=r,Ye.T=n}}Kn=3}}function m3(){if(Kn===4||Kn===3){Kn=0,sj();var t=rl,e=Mf,n=qo,r=a3;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Kn=5:(Kn=0,Mf=rl=null,g3(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(nl=null),QA(n),e=e.stateNode,ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(Eh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ye.T,a=kt.p,kt.p=2,Ye.T=null;try{for(var i=t.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{Ye.T=e,kt.p=a}}(qo&3)!==0&&Zy(),ao(t),a=t.pendingLanes,(n&261930)!==0&&(a&42)!==0?t===BA?ch++:(ch=0,BA=t):ch=0,Nh(0,!1)}}function g3(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Rh(e)))}function Zy(){return p3(),h3(),m3(),v3()}function v3(){if(Kn!==5)return!1;var t=rl,e=NA;NA=0;var n=QA(qo),r=Ye.T,a=kt.p;try{kt.p=32>n?32:n,Ye.T=null,n=kA,kA=null;var i=rl,o=qo;if(Kn=0,Mf=rl=null,qo=0,(Nt&6)!==0)throw Error(he(331));var s=Nt;if(Nt|=4,t3(i.current),JN(i,i.current,o,n),Nt=s,Nh(0,!1),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(Eh,i)}catch{}return!0}finally{kt.p=a,Ye.T=r,g3(t,e)}}function ED(t,e,n){e=Za(n,e),e=LA(t.stateNode,e,2),t=tl(t,e,2),t!==null&&(Ih(t,2),ao(t))}function Vt(t,e,n){if(t.tag===3)ED(t,t,n);else for(;e!==null;){if(e.tag===3){ED(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){t=Za(n,t),n=RN(2),r=tl(e,n,2),r!==null&&(ON(n,r,e,t),Ih(r,2),ao(r));break}}e=e.return}}function Y1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O9;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(Dw=!0,a.add(n),t=U9.bind(null,t,e,n),e.then(t,t))}function U9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,tn===t&&(bt&n)===n&&(Ln===4||Ln===3&&(bt&62914560)===bt&&300>va()-Xy?(Nt&2)===0&&Af(t,0):Nw|=n,_f===bt&&(_f=0)),ao(t)}function y3(t,e){e===0&&(e=u2()),t=_u(t,e),t!==null&&(Ih(t,e),ao(t))}function F9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y3(t,n)}function z9(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(he(314))}r!==null&&r.delete(e),y3(t,n)}function H9(t,e){return $A(t,e)}var Ey=null,Kc=null,UA=!1,Ty=!1,K1=!1,$s=0;function ao(t){t!==Kc&&t.next===null&&(Kc===null?Ey=Kc=t:Kc=Kc.next=t),Ty=!0,UA||(UA=!0,G9())}function Nh(t,e){if(!K1&&Ty){K1=!0;do for(var n=!1,r=Ey;r!==null;){if(!e)if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var o=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-xa(42|t)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,TD(r,i))}else i=bt,i=ky(r,r===tn?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(i&3)===0||Th(r,i)||(n=!0,TD(r,i));r=r.next}while(n);K1=!1}}function V9(){x3()}function x3(){Ty=UA=!1;var t=0;$s!==0&&$9()&&(t=$s);for(var e=va(),n=null,r=Ey;r!==null;){var a=r.next,i=b3(r,e);i===0?(r.next=null,n===null?Ey=a:n.next=a,a===null&&(Kc=n)):(n=r,(t!==0||(i&3)!==0)&&(Ty=!0)),r=a}Kn!==0&&Kn!==5||Nh(t,!1),$s!==0&&($s=0)}function b3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var o=31-xa(i),s=1<<o,l=a[o];l===-1?((s&n)===0||(s&r)!==0)&&(a[o]=mj(s,e)):l<=e&&(t.expiredLanes|=s),i&=~s}if(e=tn,n=bt,n=ky(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&A1(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Th(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&A1(r),QA(n)){case 2:case 8:n=s2;break;case 32:n=cy;break;case 268435456:n=l2;break;default:n=cy}return r=S3.bind(null,t),n=$A(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&A1(r),t.callbackPriority=2,t.callbackNode=null,2}function S3(t,e){if(Kn!==0&&Kn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Zy()&&t.callbackNode!==n)return null;var r=bt;return r=ky(t,t===tn?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(o3(t,r,e),b3(t,va()),t.callbackNode!=null&&t.callbackNode===n?S3.bind(null,t):null)}function TD(t,e){if(Zy())return null;o3(t,e,!0)}function G9(){Q9(function(){(Nt&6)!==0?$A(o2,V9):x3()})}function Bw(){if($s===0){var t=xf;t===0&&(t=Iv,Iv<<=1,(Iv&261888)===0&&(Iv=256)),$s=t}return $s}function ID(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xv(""+t)}function LD(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function q9(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=ID((a[na]||null).action),o=r.submitter;o&&(e=(e=o[na]||null)?ID(e.formAction):o.getAttribute("formAction"),e!==null&&(i=e,o=null));var s=new By("action","action",null,r,a);t.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if($s!==0){var l=o?LD(a,o):new FormData(a);TA(n,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(s.preventDefault(),l=o?LD(a,o):new FormData(a),TA(n,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(Hv=0;Hv<gA.length;Hv++)Vv=gA[Hv],PD=Vv.toLowerCase(),RD=Vv[0].toUpperCase()+Vv.slice(1),Pi(PD,"on"+RD);var Vv,PD,RD,Hv;Pi(O2,"onAnimationEnd");Pi(D2,"onAnimationIteration");Pi(N2,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(l9,"onTransitionRun");Pi(u9,"onTransitionStart");Pi(c9,"onTransitionCancel");Pi(k2,"onTransitionEnd");vf("onMouseEnter",["mouseout","mouseover"]);vf("onMouseLeave",["mouseout","mouseover"]);vf("onPointerEnter",["pointerout","pointerover"]);vf("onPointerLeave",["pointerout","pointerover"]);xu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xu("onBeforeInput",["compositionend","keypress","textInput","paste"]);xu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sh));function _3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(c){dy(c)}a.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(c){dy(c)}a.currentTarget=null,i=l}}}}function gt(t,e){var n=e[lA];n===void 0&&(n=e[lA]=new Set);var r=t+"__bubble";n.has(r)||(M3(e,t,2,!1),n.add(r))}function Z1(t,e,n){var r=0;e&&(r|=4),M3(n,t,r,e)}var Gv="_reactListening"+Math.random().toString(36).slice(2);function Uw(t){if(!t[Gv]){t[Gv]=!0,h2.forEach(function(n){n!=="selectionchange"&&(W9.has(n)||Z1(n,!1,t),Z1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gv]||(e[Gv]=!0,Z1("selectionchange",!1,e))}}function M3(t,e,n,r){switch(k3(e)){case 2:var a=xX;break;case 8:a=bX;break;default:a=Vw}n=a.bind(null,e,n,t),a=void 0,!pA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function $1(t,e,n,r,a){var i=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=Jc(s),o===null)return;if(l=o.tag,l===5||l===6||l===26||l===27){r=i=o;continue e}s=s.parentNode}}r=r.return}_2(function(){var u=i,c=nw(n),f=[];e:{var d=B2.get(t);if(d!==void 0){var p=By,m=t;switch(t){case"keypress":if(Kv(n)===0)break e;case"keydown":case"keyup":p=zj;break;case"focusin":m="focus",p=I1;break;case"focusout":m="blur",p=I1;break;case"beforeblur":case"afterblur":p=I1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Tj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Gj;break;case O2:case D2:case N2:p=Pj;break;case k2:p=Wj;break;case"scroll":case"scrollend":p=Cj;break;case"wheel":p=Xj;break;case"copy":case"cut":case"paste":p=Oj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=HO;break;case"toggle":case"beforetoggle":p=Kj}var y=(e&4)!==0,v=!y&&(t==="scroll"||t==="scrollend"),h=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,x;g!==null;){var b=g;if(x=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||x===null||h===null||(b=ph(g,h),b!=null&&y.push(_h(g,b,x))),v)break;g=g.return}0<y.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==dA&&(m=n.relatedTarget||n.fromElement)&&(Jc(m)||m[Ef]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Jc(m):null,m!==null&&(v=Ch(m),y=m.tag,m!==v||y!==5&&y!==27&&y!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=FO,b="onMouseLeave",h="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=HO,b="onPointerLeave",h="onPointerEnter",g="pointer"),v=p==null?d:Zp(p),x=m==null?d:Zp(m),d=new y(b,g+"leave",p,n,c),d.target=v,d.relatedTarget=x,b=null,Jc(c)===u&&(y=new y(h,g+"enter",m,n,c),y.target=x,y.relatedTarget=v,b=y),v=b,p&&m)t:{for(y=j9,h=p,g=m,x=0,b=h;b;b=y(b))x++;b=0;for(var _=g;_;_=y(_))b++;for(;0<x-b;)h=y(h),x--;for(;0<b-x;)g=y(g),b--;for(;x--;){if(h===g||g!==null&&h===g.alternate){y=h;break t}h=y(h),g=y(g)}y=null}else y=null;p!==null&&OD(f,d,p,y,!1),m!==null&&v!==null&&OD(f,v,m,y,!0)}}e:{if(d=u?Zp(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=WO;else if(qO(d))if(T2)M=i9;else{M=r9;var A=n9}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&tw(u.elementType)&&(M=WO):M=a9;if(M&&(M=M(t,u))){E2(f,M,n,c);break e}A&&A(t,d,u),t==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&fA(d,"number",d.value)}switch(A=u?Zp(u):window,t){case"focusin":(qO(A)||A.contentEditable==="true")&&(tf=A,hA=u,th=null);break;case"focusout":th=hA=tf=null;break;case"mousedown":mA=!0;break;case"contextmenu":case"mouseup":case"dragend":mA=!1,KO(f,n,c);break;case"selectionchange":if(s9)break;case"keydown":case"keyup":KO(f,n,c)}var S;if(iw)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ef?w2(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(A2&&n.locale!=="ko"&&(ef||w!=="onCompositionStart"?w==="onCompositionEnd"&&ef&&(S=M2()):(Ys=c,rw="value"in Ys?Ys.value:Ys.textContent,ef=!0)),A=Iy(u,w),0<A.length&&(w=new zO(w,t,null,n,c),f.push({event:w,listeners:A}),S?w.data=S:(S=C2(n),S!==null&&(w.data=S)))),(S=$j?Jj(t,n):Qj(t,n))&&(w=Iy(u,"onBeforeInput"),0<w.length&&(A=new zO("onBeforeInput","beforeinput",null,n,c),f.push({event:A,listeners:w}),A.data=S)),q9(f,t,u,n,c)}_3(f,e)})}function _h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Iy(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=ph(t,n),a!=null&&r.unshift(_h(t,a,i)),a=ph(t,e),a!=null&&r.push(_h(t,a,i))),t.tag===3)return r;t=t.return}return[]}function j9(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function OD(t,e,n,r,a){for(var i=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,l!==null&&l===r)break;s!==5&&s!==26&&s!==27||u===null||(l=u,a?(u=ph(n,i),u!=null&&o.unshift(_h(n,u,l))):a||(u=ph(n,i),u!=null&&o.push(_h(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var X9=/\r\n?/g,Y9=/\u0000|\uFFFD/g;function DD(t){return(typeof t=="string"?t:""+t).replace(X9,`
`).replace(Y9,"")}function A3(t,e){return e=DD(e),DD(t)===e}function Xt(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||yf(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&yf(t,""+r);break;case"className":Rv(t,"class",r);break;case"tabIndex":Rv(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rv(t,n,r);break;case"style":S2(t,r,i);break;case"data":if(e!=="object"){Rv(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xv(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Xt(t,e,"name",a.name,a,null),Xt(t,e,"formEncType",a.formEncType,a,null),Xt(t,e,"formMethod",a.formMethod,a,null),Xt(t,e,"formTarget",a.formTarget,a,null)):(Xt(t,e,"encType",a.encType,a,null),Xt(t,e,"method",a.method,a,null),Xt(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Xv(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=zo);break;case"onScroll":r!=null&&gt("scroll",t);break;case"onScrollEnd":r!=null&&gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(he(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(he(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Xv(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":gt("beforetoggle",t),gt("toggle",t),jv(t,"popover",r);break;case"xlinkActuate":Ro(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ro(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ro(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ro(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ro(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ro(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ro(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ro(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ro(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":jv(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Aj.get(n)||n,jv(t,n,r))}}function FA(t,e,n,r,a,i){switch(n){case"style":S2(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(he(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(he(60));t.innerHTML=n}}break;case"children":typeof r=="string"?yf(t,r):(typeof r=="number"||typeof r=="bigint")&&yf(t,""+r);break;case"onScroll":r!=null&&gt("scroll",t);break;case"onScrollEnd":r!=null&&gt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=zo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m2.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[na]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):jv(t,n,r)}}}function xr(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",t),gt("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(he(137,e));default:Xt(t,e,i,o,n,null)}}a&&Xt(t,e,"srcSet",n.srcSet,n,null),r&&Xt(t,e,"src",n.src,n,null);return;case"input":gt("invalid",t);var s=i=o=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":a=c;break;case"type":o=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(he(137,e));break;default:Xt(t,e,r,c,n,null)}}y2(t,i,s,l,u,o,a,!1);return;case"select":gt("invalid",t),r=o=i=null;for(a in n)if(n.hasOwnProperty(a)&&(s=n[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:Xt(t,e,a,s,n,null)}e=i,n=o,t.multiple=!!r,e!=null?cf(t,!!r,e,!1):n!=null&&cf(t,!!r,n,!0);return;case"textarea":gt("invalid",t),i=a=r=null;for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"value":r=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(he(91));break;default:Xt(t,e,o,s,n,null)}b2(t,r,a,i);return;case"option":for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null)&&(l==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Xt(t,e,l,r,n,null));return;case"dialog":gt("beforetoggle",t),gt("toggle",t),gt("cancel",t),gt("close",t);break;case"iframe":case"object":gt("load",t);break;case"video":case"audio":for(r=0;r<Sh.length;r++)gt(Sh[r],t);break;case"image":gt("error",t),gt("load",t);break;case"details":gt("toggle",t);break;case"embed":case"source":case"link":gt("error",t),gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(he(137,e));default:Xt(t,e,u,r,n,null)}return;default:if(tw(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&FA(t,e,c,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(r=n[s],r!=null&&Xt(t,e,s,r,n,null))}function K9(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,l=null,u=null,c=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(p)||Xt(t,e,p,null,r,f)}}for(var d in r){var p=r[d];if(f=n[d],r.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":c=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(he(137,e));break;default:p!==f&&Xt(t,e,d,p,r,f)}}cA(t,o,s,l,u,c,i,a);return;case"select":p=o=s=d=null;for(i in n)if(l=n[i],n.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":p=l;default:r.hasOwnProperty(i)||Xt(t,e,i,null,r,l)}for(a in r)if(i=r[a],l=n[a],r.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":d=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==l&&Xt(t,e,a,i,r,l)}e=s,n=o,r=p,d!=null?cf(t,!!n,d,!1):!!r!=!!n&&(e!=null?cf(t,!!n,e,!0):cf(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(s in n)if(a=n[s],n.hasOwnProperty(s)&&a!=null&&!r.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Xt(t,e,s,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":d=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(he(91));break;default:a!==i&&Xt(t,e,o,a,r,i)}x2(t,d,p);return;case"option":for(var m in n)d=n[m],n.hasOwnProperty(m)&&d!=null&&!r.hasOwnProperty(m)&&(m==="selected"?t.selected=!1:Xt(t,e,m,null,r,d));for(l in r)d=r[l],p=n[l],r.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null)&&(l==="selected"?t.selected=d&&typeof d!="function"&&typeof d!="symbol":Xt(t,e,l,d,r,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)d=n[y],n.hasOwnProperty(y)&&d!=null&&!r.hasOwnProperty(y)&&Xt(t,e,y,null,r,d);for(u in r)if(d=r[u],p=n[u],r.hasOwnProperty(u)&&d!==p&&(d!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(he(137,e));break;default:Xt(t,e,u,d,r,p)}return;default:if(tw(e)){for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!==void 0&&!r.hasOwnProperty(v)&&FA(t,e,v,void 0,r,d);for(c in r)d=r[c],p=n[c],!r.hasOwnProperty(c)||d===p||d===void 0&&p===void 0||FA(t,e,c,d,r,p);return}}for(var h in n)d=n[h],n.hasOwnProperty(h)&&d!=null&&!r.hasOwnProperty(h)&&Xt(t,e,h,null,r,d);for(f in r)d=r[f],p=n[f],!r.hasOwnProperty(f)||d===p||d==null&&p==null||Xt(t,e,f,d,r,p)}function ND(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z9(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&ND(o)){for(o=0,s=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,f=l.initiatorType;c&&ND(f)&&(l=l.responseEnd,o+=c*(l<s?1:(s-u)/(l-u)))}if(--r,e+=8*(i+o)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zA=null,HA=null;function Ly(t){return t.nodeType===9?t:t.ownerDocument}function kD(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w3(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function VA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var J1=null;function $9(){var t=window.event;return t&&t.type==="popstate"?t===J1?!1:(J1=t,!0):(J1=null,!1)}var C3=typeof setTimeout=="function"?setTimeout:void 0,J9=typeof clearTimeout=="function"?clearTimeout:void 0,BD=typeof Promise=="function"?Promise:void 0,Q9=typeof queueMicrotask=="function"?queueMicrotask:typeof BD<"u"?function(t){return BD.resolve(null).then(t).catch(eX)}:C3;function eX(t){setTimeout(function(){throw t})}function dl(t){return t==="head"}function UD(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(a),Cf(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")fh(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,fh(n);for(var i=n.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Lh]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=o}}else n==="body"&&fh(t.ownerDocument.body);n=a}while(n);Cf(e)}function FD(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function GA(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":GA(n),ew(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function tX(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Lh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Qa(t.nextSibling),t===null)break}return null}function nX(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qa(t.nextSibling),t===null))return null;return t}function E3(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Qa(t.nextSibling),t===null))return null;return t}function qA(t){return t.data==="$?"||t.data==="$~"}function WA(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function rX(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var jA=null;function zD(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Qa(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function HD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function T3(t,e,n){switch(e=Ly(n),t){case"html":if(t=e.documentElement,!t)throw Error(he(452));return t;case"head":if(t=e.head,!t)throw Error(he(453));return t;case"body":if(t=e.body,!t)throw Error(he(454));return t;default:throw Error(he(451))}}function fh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ew(t)}var ei=new Map,VD=new Set;function Py(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zo=kt.d;kt.d={f:aX,r:iX,D:oX,C:sX,L:lX,m:uX,X:fX,S:cX,M:dX};function aX(){var t=Zo.f(),e=Yy();return t||e}function iX(t){var e=Tf(t);e!==null&&e.tag===5&&e.type==="form"?SN(e):Zo.r(t)}var Rf=typeof document>"u"?null:document;function I3(t,e,n){var r=Rf;if(r&&typeof e=="string"&&e){var a=Ka(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),VD.has(a)||(VD.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),xr(e,"link",t),ar(e),r.head.appendChild(e)))}}function oX(t){Zo.D(t),I3("dns-prefetch",t,null)}function sX(t,e){Zo.C(t,e),I3("preconnect",t,e)}function lX(t,e,n){Zo.L(t,e,n);var r=Rf;if(r&&t&&e){var a='link[rel="preload"][as="'+Ka(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Ka(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Ka(n.imageSizes)+'"]')):a+='[href="'+Ka(t)+'"]';var i=a;switch(e){case"style":i=wf(t);break;case"script":i=Of(t)}ei.has(i)||(t=dn({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),ei.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(kh(i))||e==="script"&&r.querySelector(Bh(i))||(e=r.createElement("link"),xr(e,"link",t),ar(e),r.head.appendChild(e)))}}function uX(t,e){Zo.m(t,e);var n=Rf;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Ka(r)+'"][href="'+Ka(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Of(t)}if(!ei.has(i)&&(t=dn({rel:"modulepreload",href:t},e),ei.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Bh(i)))return}r=n.createElement("link"),xr(r,"link",t),ar(r),n.head.appendChild(r)}}}function cX(t,e,n){Zo.S(t,e,n);var r=Rf;if(r&&t){var a=uf(r).hoistableStyles,i=wf(t);e=e||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(kh(i)))s.loading=5;else{t=dn({rel:"stylesheet",href:t,"data-precedence":e},n),(n=ei.get(i))&&Fw(t,n);var l=o=r.createElement("link");ar(l),xr(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,ry(o,e,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function fX(t,e){Zo.X(t,e);var n=Rf;if(n&&t){var r=uf(n).hoistableScripts,a=Of(t),i=r.get(a);i||(i=n.querySelector(Bh(a)),i||(t=dn({src:t,async:!0},e),(e=ei.get(a))&&zw(t,e),i=n.createElement("script"),ar(i),xr(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function dX(t,e){Zo.M(t,e);var n=Rf;if(n&&t){var r=uf(n).hoistableScripts,a=Of(t),i=r.get(a);i||(i=n.querySelector(Bh(a)),i||(t=dn({src:t,async:!0,type:"module"},e),(e=ei.get(a))&&zw(t,e),i=n.createElement("script"),ar(i),xr(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function GD(t,e,n,r){var a=(a=Js.current)?Py(a):null;if(!a)throw Error(he(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=wf(n.href),n=uf(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=wf(n.href);var i=uf(a).hoistableStyles,o=i.get(t);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,o),(i=a.querySelector(kh(t)))&&!i._p&&(o.instance=i,o.state.loading=5),ei.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ei.set(t,n),i||pX(a,t,n,o.state))),e&&r===null)throw Error(he(528,""));return o}if(e&&r!==null)throw Error(he(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Of(n),n=uf(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(he(444,t))}}function wf(t){return'href="'+Ka(t)+'"'}function kh(t){return'link[rel="stylesheet"]['+t+"]"}function L3(t){return dn({},t,{"data-precedence":t.precedence,precedence:null})}function pX(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),xr(e,"link",n),ar(e),t.head.appendChild(e))}function Of(t){return'[src="'+Ka(t)+'"]'}function Bh(t){return"script[async]"+t}function qD(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ka(n.href)+'"]');if(r)return e.instance=r,ar(r),r;var a=dn({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),ar(r),xr(r,"style",a),ry(r,n.precedence,t),e.instance=r;case"stylesheet":a=wf(n.href);var i=t.querySelector(kh(a));if(i)return e.state.loading|=4,e.instance=i,ar(i),i;r=L3(n),(a=ei.get(a))&&Fw(r,a),i=(t.ownerDocument||t).createElement("link"),ar(i);var o=i;return o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),xr(i,"link",r),e.state.loading|=4,ry(i,n.precedence,t),e.instance=i;case"script":return i=Of(n.src),(a=t.querySelector(Bh(i)))?(e.instance=a,ar(a),a):(r=n,(a=ei.get(i))&&(r=dn({},n),zw(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),ar(a),xr(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(he(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,ry(r,n.precedence,t));return e.instance}function ry(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===e)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Fw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function zw(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ay=null;function WD(t,e,n){if(ay===null){var r=new Map,a=ay=new Map;a.set(n,r)}else a=ay,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[Lh]||i[gr]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(e)||"";o=t+o;var s=r.get(o);s?s.push(i):r.set(o,[i])}}return r}function jD(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function hX(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function P3(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mX(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=wf(r.href),i=e.querySelector(kh(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ry.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,ar(i);return}i=e.ownerDocument||e,r=L3(r),(a=ei.get(a))&&Fw(r,a),i=i.createElement("link"),ar(i);var o=i;o._p=new Promise(function(s,l){o.onload=s,o.onerror=l}),xr(i,"link",r),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Ry.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Q1=0;function gX(t,e){return t.stylesheets&&t.count===0&&iy(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&iy(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Q1===0&&(Q1=62500*Z9());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&iy(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Q1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function Ry(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)iy(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oy=null;function iy(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oy=new Map,e.forEach(vX,t),Oy=null,Ry.call(t))}function vX(t,e){if(!(e.state.loading&4)){var n=Oy.get(t);if(n)var r=n.get(null);else{n=new Map,Oy.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}a=e.instance,o=a.getAttribute("data-precedence"),i=n.get(o)||r,i===r&&n.set(null,a),n.set(o,a),this.count++,r=Ry.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Mh={$$typeof:Fo,Provider:null,Consumer:null,_currentValue:uu,_currentValue2:uu,_threadCount:0};function yX(t,e,n,r,a,i,o,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w1(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.hiddenUpdates=w1(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function R3(t,e,n,r,a,i,o,s,l,u,c,f){return t=new yX(t,e,n,o,l,u,c,f,s),e=1,i===!0&&(e|=24),i=ma(3,null,null,e),t.current=i,i.stateNode=t,e=dw(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},mw(i),t}function O3(t){return t?(t=af,t):af}function D3(t,e,n,r,a,i){a=O3(a),r.context===null?r.context=a:r.pendingContext=a,r=el(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=tl(t,r,e),n!==null&&(ta(n,t,e),rh(n,t,e))}function XD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hw(t,e){XD(t,e),(t=t.alternate)&&XD(t,e)}function N3(t){if(t.tag===13||t.tag===31){var e=_u(t,67108864);e!==null&&ta(e,t,67108864),Hw(t,67108864)}}function YD(t){if(t.tag===13||t.tag===31){var e=ba();e=JA(e);var n=_u(t,e);n!==null&&ta(n,t,e),Hw(t,e)}}var Dy=!0;function xX(t,e,n,r){var a=Ye.T;Ye.T=null;var i=kt.p;try{kt.p=2,Vw(t,e,n,r)}finally{kt.p=i,Ye.T=a}}function bX(t,e,n,r){var a=Ye.T;Ye.T=null;var i=kt.p;try{kt.p=8,Vw(t,e,n,r)}finally{kt.p=i,Ye.T=a}}function Vw(t,e,n,r){if(Dy){var a=XA(r);if(a===null)$1(t,e,r,Ny,n),KD(t,r);else if(_X(a,t,e,n,r))r.stopPropagation();else if(KD(t,r),e&4&&-1<SX.indexOf(t)){for(;a!==null;){var i=Tf(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=ou(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-xa(o);s.entanglements[1]|=l,o&=~l}ao(i),(Nt&6)===0&&(Ay=va()+500,Nh(0,!1))}}break;case 31:case 13:s=_u(i,2),s!==null&&ta(s,i,2),Yy(),Hw(i,2)}if(i=XA(r),i===null&&$1(t,e,r,Ny,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else $1(t,e,r,null,n)}}function XA(t){return t=nw(t),Gw(t)}var Ny=null;function Gw(t){if(Ny=null,t=Jc(t),t!==null){var e=Ch(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=t2(e),t!==null)return t;t=null}else if(n===31){if(t=n2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ny=t,null}function k3(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lj()){case o2:return 2;case s2:return 8;case cy:case uj:return 32;case l2:return 268435456;default:return 32}default:return 32}}var YA=!1,al=null,il=null,ol=null,Ah=new Map,wh=new Map,js=[],SX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KD(t,e){switch(t){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(e.pointerId)}}function jp(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Tf(e),e!==null&&N3(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function _X(t,e,n,r,a){switch(e){case"focusin":return al=jp(al,t,e,n,r,a),!0;case"dragenter":return il=jp(il,t,e,n,r,a),!0;case"mouseover":return ol=jp(ol,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ah.set(i,jp(Ah.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,wh.set(i,jp(wh.get(i)||null,t,e,n,r,a)),!0}return!1}function B3(t){var e=Jc(t.target);if(e!==null){var n=Ch(e);if(n!==null){if(e=n.tag,e===13){if(e=t2(n),e!==null){t.blockedOn=e,RO(t.priority,function(){YD(n)});return}}else if(e===31){if(e=n2(n),e!==null){t.blockedOn=e,RO(t.priority,function(){YD(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=XA(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dA=r,n.target.dispatchEvent(r),dA=null}else return e=Tf(n),e!==null&&N3(e),t.blockedOn=n,!1;e.shift()}return!0}function ZD(t,e,n){oy(t)&&n.delete(e)}function MX(){YA=!1,al!==null&&oy(al)&&(al=null),il!==null&&oy(il)&&(il=null),ol!==null&&oy(ol)&&(ol=null),Ah.forEach(ZD),wh.forEach(ZD)}function qv(t,e){t.blockedOn===e&&(t.blockedOn=null,YA||(YA=!0,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,MX)))}var Wv=null;function $D(t){Wv!==t&&(Wv=t,Zn.unstable_scheduleCallback(Zn.unstable_NormalPriority,function(){Wv===t&&(Wv=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if(Gw(r||n)===null)continue;break}var i=Tf(n);i!==null&&(t.splice(e,3),e-=3,TA(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Cf(t){function e(l){return qv(l,t)}al!==null&&qv(al,t),il!==null&&qv(il,t),ol!==null&&qv(ol,t),Ah.forEach(e),wh.forEach(e);for(var n=0;n<js.length;n++){var r=js[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<js.length&&(n=js[0],n.blockedOn===null);)B3(n),n.blockedOn===null&&js.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[na]||null;if(typeof i=="function")o||$D(n);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[na]||null)s=o.formAction;else if(Gw(a)!==null)continue}else s=o.action;typeof s=="function"?n[r+1]=s:(n.splice(r,3),r-=3),$D(n)}}}function U3(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function qw(t){this._internalRoot=t}$y.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(he(409));var n=e.current,r=ba();D3(n,r,t,e,null,null)};$y.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;D3(t.current,2,null,t,null,null),Yy(),e[Ef]=null}};function $y(t){this._internalRoot=t}$y.prototype.unstable_scheduleHydration=function(t){if(t){var e=p2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<js.length&&e!==0&&e<js[n].priority;n++);js.splice(n,0,t),n===0&&B3(t)}};var JD=QD.version;if(JD!=="19.2.4")throw Error(he(527,JD,"19.2.4"));kt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(he(188)):(t=Object.keys(t).join(","),Error(he(268,t)));return t=tj(e),t=t!==null?r2(t):null,t=t===null?null:t.stateNode,t};var AX={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Ye,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xp.isDisabled&&Xp.supportsFiber))try{Eh=Xp.inject(AX),ya=Xp}catch{}var Xp;Jy.createRoot=function(t,e){if(!e2(t))throw Error(he(299));var n=!1,r="",a=IN,i=LN,o=PN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=R3(t,1,!1,null,null,n,r,null,a,i,o,U3),t[Ef]=e.current,Uw(t),new qw(e)};Jy.hydrateRoot=function(t,e,n){if(!e2(t))throw Error(he(299));var r=!1,a="",i=IN,o=LN,s=PN,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=R3(t,1,!0,e,n??null,r,a,l,i,o,s,U3),e.context=O3(null),n=e.current,r=ba(),r=JA(r),a=el(r),a.callback=null,tl(n,a,r),n=r,e.current.lanes=n,Ih(e,n),ao(e),t[Ef]=e.current,Uw(t),new $y(e)};Jy.version="19.2.4"});var V3=Ae((cve,H3)=>{"use strict";function z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z3)}catch(t){console.error(t)}}z3(),H3.exports=F3()});var QB=Ae($E=>{"use strict";Object.defineProperty($E,Symbol.toStringTag,{value:"Module"});function NJ(t){return t==="__proto__"}$E.isUnsafeProperty=NJ});var QE=Ae(JE=>{"use strict";Object.defineProperty(JE,Symbol.toStringTag,{value:"Module"});function kJ(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}JE.isDeepKey=kJ});var gb=Ae(eT=>{"use strict";Object.defineProperty(eT,Symbol.toStringTag,{value:"Module"});function BJ(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}eT.toKey=BJ});var tU=Ae(tT=>{"use strict";Object.defineProperty(tT,Symbol.toStringTag,{value:"Module"});function eU(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(eU).join(",");let e=String(t);return e==="0"&&Object.is(Number(t),-0)?"-0":e}tT.toString=eU});var vb=Ae(nT=>{"use strict";Object.defineProperty(nT,Symbol.toStringTag,{value:"Module"});var UJ=tU(),FJ=gb();function zJ(t){if(Array.isArray(t))return t.map(FJ.toKey);if(typeof t=="symbol")return[t];t=UJ.toString(t);let e=[],n=t.length;if(n===0)return e;let r=0,a="",i="",o=!1;for(t.charCodeAt(0)===46&&(e.push(""),r++);r<n;){let s=t[r];i?s==="\\"&&r+1<n?(r++,a+=t[r]):s===i?i="":a+=s:o?s==='"'||s==="'"?i=s:s==="]"?(o=!1,e.push(a),a=""):a+=s:s==="["?(o=!0,a&&(e.push(a),a="")):s==="."?a&&(e.push(a),a=""):a+=s,r++}return a&&e.push(a),e}nT.toPath=zJ});var yb=Ae(aT=>{"use strict";Object.defineProperty(aT,Symbol.toStringTag,{value:"Module"});var rT=QB(),HJ=QE(),VJ=gb(),GJ=vb();function nU(t,e,n){if(t==null)return n;switch(typeof e){case"string":{if(rT.isUnsafeProperty(e))return n;let r=t[e];return r===void 0?HJ.isDeepKey(e)?nU(t,GJ.toPath(e),n):n:r}case"number":case"symbol":{typeof e=="number"&&(e=VJ.toKey(e));let r=t[e];return r===void 0?n:r}default:{if(Array.isArray(e))return qJ(t,e,n);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),rT.isUnsafeProperty(e))return n;let r=t[e];return r===void 0?n:r}}}function qJ(t,e,n){if(e.length===0)return n;let r=t;for(let a=0;a<e.length;a++){if(r==null||rT.isUnsafeProperty(e[a]))return n;r=r[e[a]]}return r===void 0?n:r}aT.get=nU});var Sd=Ae((BSe,rU)=>{rU.exports=yb().get});var pU=Ae(sT=>{"use strict";Object.defineProperty(sT,Symbol.toStringTag,{value:"Module"});function mQ(t,e){let n=new Map;for(let r=0;r<t.length;r++){let a=t[r],i=e(a,r,t);n.has(i)||n.set(i,a)}return Array.from(n.values())}sT.uniqBy=mQ});var hU=Ae(lT=>{"use strict";Object.defineProperty(lT,Symbol.toStringTag,{value:"Module"});function gQ(t,e){return function(...n){return t.apply(this,n.slice(0,e))}}lT.ary=gQ});var cT=Ae(uT=>{"use strict";Object.defineProperty(uT,Symbol.toStringTag,{value:"Module"});function vQ(t){return t}uT.identity=vQ});var mU=Ae(fT=>{"use strict";Object.defineProperty(fT,Symbol.toStringTag,{value:"Module"});function yQ(t){return Number.isSafeInteger(t)&&t>=0}fT.isLength=yQ});var _b=Ae(dT=>{"use strict";Object.defineProperty(dT,Symbol.toStringTag,{value:"Module"});var xQ=mU();function bQ(t){return t!=null&&typeof t!="function"&&xQ.isLength(t.length)}dT.isArrayLike=bQ});var gU=Ae(pT=>{"use strict";Object.defineProperty(pT,Symbol.toStringTag,{value:"Module"});function SQ(t){return typeof t=="object"&&t!==null}pT.isObjectLike=SQ});var vU=Ae(hT=>{"use strict";Object.defineProperty(hT,Symbol.toStringTag,{value:"Module"});var _Q=_b(),MQ=gU();function AQ(t){return MQ.isObjectLike(t)&&_Q.isArrayLike(t)}hT.isArrayLikeObject=AQ});var yU=Ae(mT=>{"use strict";Object.defineProperty(mT,Symbol.toStringTag,{value:"Module"});var wQ=yb();function CQ(t){return function(e){return wQ.get(e,t)}}mT.property=CQ});var vT=Ae(gT=>{"use strict";Object.defineProperty(gT,Symbol.toStringTag,{value:"Module"});function EQ(t){return t!==null&&(typeof t=="object"||typeof t=="function")}gT.isObject=EQ});var xT=Ae(yT=>{"use strict";Object.defineProperty(yT,Symbol.toStringTag,{value:"Module"});function TQ(t){return t==null||typeof t!="object"&&typeof t!="function"}yT.isPrimitive=TQ});var ST=Ae(bT=>{"use strict";Object.defineProperty(bT,Symbol.toStringTag,{value:"Module"});function IQ(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}bT.isEqualsSameValueZero=IQ});var AU=Ae(Mb=>{"use strict";Object.defineProperty(Mb,Symbol.toStringTag,{value:"Module"});var LQ=vT(),xU=xT(),bU=ST();function SU(t,e,n){return typeof n!="function"?SU(t,e,()=>{}):_T(t,e,function r(a,i,o,s,l,u){let c=n(a,i,o,s,l,u);return c!==void 0?!!c:_T(a,i,r,u)},new Map)}function _T(t,e,n,r){if(e===t)return!0;switch(typeof e){case"object":return PQ(t,e,n,r);case"function":return Object.keys(e).length>0?_T(t,{...e},n,r):bU.isEqualsSameValueZero(t,e);default:return LQ.isObject(t)?typeof e=="string"?e==="":!0:bU.isEqualsSameValueZero(t,e)}}function PQ(t,e,n,r){if(e==null)return!0;if(Array.isArray(e))return _U(t,e,n,r);if(e instanceof Map)return RQ(t,e,n,r);if(e instanceof Set)return MU(t,e,n,r);let a=Object.keys(e);if(t==null||xU.isPrimitive(t))return a.length===0;if(a.length===0)return!0;if(r?.has(e))return r.get(e)===t;r?.set(e,t);try{for(let i=0;i<a.length;i++){let o=a[i];if(!xU.isPrimitive(t)&&!(o in t)||e[o]===void 0&&t[o]!==void 0||e[o]===null&&t[o]!==null||!n(t[o],e[o],o,t,e,r))return!1}return!0}finally{r?.delete(e)}}function RQ(t,e,n,r){if(e.size===0)return!0;if(!(t instanceof Map))return!1;for(let[a,i]of e.entries()){let o=t.get(a);if(n(o,i,a,t,e,r)===!1)return!1}return!0}function _U(t,e,n,r){if(e.length===0)return!0;if(!Array.isArray(t))return!1;let a=new Set;for(let i=0;i<e.length;i++){let o=e[i],s=!1;for(let l=0;l<t.length;l++){if(a.has(l))continue;let u=t[l],c=!1;if(n(u,o,i,t,e,r)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function MU(t,e,n,r){return e.size===0?!0:t instanceof Set?_U([...t],[...e],n,r):!1}Mb.isMatchWith=SU;Mb.isSetMatch=MU});var AT=Ae(MT=>{"use strict";Object.defineProperty(MT,Symbol.toStringTag,{value:"Module"});var OQ=AU();function DQ(t,e){return OQ.isMatchWith(t,e,()=>{})}MT.isMatch=DQ});var wU=Ae(wT=>{"use strict";Object.defineProperty(wT,Symbol.toStringTag,{value:"Module"});function NQ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}wT.getSymbols=NQ});var Ab=Ae(CT=>{"use strict";Object.defineProperty(CT,Symbol.toStringTag,{value:"Module"});function kQ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}CT.getTag=kQ});var ET=Ae(Zt=>{"use strict";Object.defineProperty(Zt,Symbol.toStringTag,{value:"Module"});var BQ="[object RegExp]",UQ="[object String]",FQ="[object Number]",zQ="[object Boolean]",HQ="[object Arguments]",VQ="[object Symbol]",GQ="[object Date]",qQ="[object Map]",WQ="[object Set]",jQ="[object Array]",XQ="[object Function]",YQ="[object ArrayBuffer]",KQ="[object Object]",ZQ="[object Error]",$Q="[object DataView]",JQ="[object Uint8Array]",QQ="[object Uint8ClampedArray]",eee="[object Uint16Array]",tee="[object Uint32Array]",nee="[object BigUint64Array]",ree="[object Int8Array]",aee="[object Int16Array]",iee="[object Int32Array]",oee="[object BigInt64Array]",see="[object Float32Array]",lee="[object Float64Array]";Zt.argumentsTag=HQ;Zt.arrayBufferTag=YQ;Zt.arrayTag=jQ;Zt.bigInt64ArrayTag=oee;Zt.bigUint64ArrayTag=nee;Zt.booleanTag=zQ;Zt.dataViewTag=$Q;Zt.dateTag=GQ;Zt.errorTag=ZQ;Zt.float32ArrayTag=see;Zt.float64ArrayTag=lee;Zt.functionTag=XQ;Zt.int16ArrayTag=aee;Zt.int32ArrayTag=iee;Zt.int8ArrayTag=ree;Zt.mapTag=qQ;Zt.numberTag=FQ;Zt.objectTag=KQ;Zt.regexpTag=BQ;Zt.setTag=WQ;Zt.stringTag=UQ;Zt.symbolTag=VQ;Zt.uint16ArrayTag=eee;Zt.uint32ArrayTag=tee;Zt.uint8ArrayTag=JQ;Zt.uint8ClampedArrayTag=QQ});var CU=Ae(TT=>{"use strict";Object.defineProperty(TT,Symbol.toStringTag,{value:"Module"});function uee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}TT.isTypedArray=uee});var IT=Ae(Nm=>{"use strict";Object.defineProperty(Nm,Symbol.toStringTag,{value:"Module"});var cee=wU(),fee=Ab(),Pn=ET(),dee=xT(),pee=CU();function hee(t,e){return Xu(t,void 0,t,new Map,e)}function Xu(t,e,n,r=new Map,a=void 0){let i=a?.(t,e,n,r);if(i!==void 0)return i;if(dee.isPrimitive(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){let o=new Array(t.length);r.set(t,o);for(let s=0;s<t.length;s++)o[s]=Xu(t[s],s,n,r,a);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){let o=new Map;r.set(t,o);for(let[s,l]of t)o.set(s,Xu(l,s,n,r,a));return o}if(t instanceof Set){let o=new Set;r.set(t,o);for(let s of t)o.add(Xu(s,void 0,n,r,a));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(pee.isTypedArray(t)){let o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let s=0;s<t.length;s++)o[s]=Xu(t[s],s,n,r,a);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){let o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),ds(o,t,n,r,a),o}if(typeof File<"u"&&t instanceof File){let o=new File([t],t.name,{type:t.type});return r.set(t,o),ds(o,t,n,r,a),o}if(typeof Blob<"u"&&t instanceof Blob){let o=new Blob([t],{type:t.type});return r.set(t,o),ds(o,t,n,r,a),o}if(t instanceof Error){let o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,ds(o,t,n,r,a),o}if(t instanceof Boolean){let o=new Boolean(t.valueOf());return r.set(t,o),ds(o,t,n,r,a),o}if(t instanceof Number){let o=new Number(t.valueOf());return r.set(t,o),ds(o,t,n,r,a),o}if(t instanceof String){let o=new String(t.valueOf());return r.set(t,o),ds(o,t,n,r,a),o}if(typeof t=="object"&&mee(t)){let o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),ds(o,t,n,r,a),o}return t}function ds(t,e,n=t,r,a){let i=[...Object.keys(e),...cee.getSymbols(e)];for(let o=0;o<i.length;o++){let s=i[o],l=Object.getOwnPropertyDescriptor(t,s);(l==null||l.writable)&&(t[s]=Xu(e[s],s,n,r,a))}}function mee(t){switch(fee.getTag(t)){case Pn.argumentsTag:case Pn.arrayTag:case Pn.arrayBufferTag:case Pn.dataViewTag:case Pn.booleanTag:case Pn.dateTag:case Pn.float32ArrayTag:case Pn.float64ArrayTag:case Pn.int8ArrayTag:case Pn.int16ArrayTag:case Pn.int32ArrayTag:case Pn.mapTag:case Pn.numberTag:case Pn.objectTag:case Pn.regexpTag:case Pn.setTag:case Pn.stringTag:case Pn.symbolTag:case Pn.uint8ArrayTag:case Pn.uint8ClampedArrayTag:case Pn.uint16ArrayTag:case Pn.uint32ArrayTag:return!0;default:return!1}}Nm.cloneDeepWith=hee;Nm.cloneDeepWithImpl=Xu;Nm.copyProperties=ds});var EU=Ae(LT=>{"use strict";Object.defineProperty(LT,Symbol.toStringTag,{value:"Module"});var gee=IT();function vee(t){return gee.cloneDeepWithImpl(t,void 0,t,new Map,void 0)}LT.cloneDeep=vee});var TU=Ae(PT=>{"use strict";Object.defineProperty(PT,Symbol.toStringTag,{value:"Module"});var yee=AT(),xee=EU();function bee(t){return t=xee.cloneDeep(t),e=>yee.isMatch(e,t)}PT.matches=bee});var IU=Ae(RT=>{"use strict";Object.defineProperty(RT,Symbol.toStringTag,{value:"Module"});var wb=IT(),See=Ab(),km=ET();function _ee(t,e){return wb.cloneDeepWith(t,(n,r,a,i)=>{let o=e?.(n,r,a,i);if(o!==void 0)return o;if(typeof t=="object"){if(See.getTag(t)===km.objectTag&&typeof t.constructor!="function"){let s={};return i.set(t,s),wb.copyProperties(s,t,a,i),s}switch(Object.prototype.toString.call(t)){case km.numberTag:case km.stringTag:case km.booleanTag:{let s=new t.constructor(t?.valueOf());return wb.copyProperties(s,t),s}case km.argumentsTag:{let s={};return wb.copyProperties(s,t),s.length=t.length,s[Symbol.iterator]=t[Symbol.iterator],s}default:return}}})}RT.cloneDeepWith=_ee});var LU=Ae(OT=>{"use strict";Object.defineProperty(OT,Symbol.toStringTag,{value:"Module"});var Mee=IU();function Aee(t){return Mee.cloneDeepWith(t)}OT.cloneDeep=Aee});var NT=Ae(DT=>{"use strict";Object.defineProperty(DT,Symbol.toStringTag,{value:"Module"});var wee=/^(?:0|[1-9]\d*)$/;function Cee(t,e=Number.MAX_SAFE_INTEGER){switch(typeof t){case"number":return Number.isInteger(t)&&t>=0&&t<e;case"symbol":return!1;case"string":return wee.test(t)}}DT.isIndex=Cee});var PU=Ae(kT=>{"use strict";Object.defineProperty(kT,Symbol.toStringTag,{value:"Module"});var Eee=Ab();function Tee(t){return t!==null&&typeof t=="object"&&Eee.getTag(t)==="[object Arguments]"}kT.isArguments=Tee});var RU=Ae(BT=>{"use strict";Object.defineProperty(BT,Symbol.toStringTag,{value:"Module"});var Iee=QE(),Lee=NT(),Pee=PU(),Ree=vb();function Oee(t,e){let n;if(Array.isArray(e)?n=e:typeof e=="string"&&Iee.isDeepKey(e)&&t?.[e]==null?n=Ree.toPath(e):n=[e],n.length===0)return!1;let r=t;for(let a=0;a<n.length;a++){let i=n[a];if((r==null||!Object.hasOwn(r,i))&&!((Array.isArray(r)||Pee.isArguments(r))&&Lee.isIndex(i)&&i<r.length))return!1;r=r[i]}return!0}BT.has=Oee});var OU=Ae(UT=>{"use strict";Object.defineProperty(UT,Symbol.toStringTag,{value:"Module"});var Dee=AT(),Nee=gb(),kee=LU(),Bee=yb(),Uee=RU();function Fee(t,e){switch(typeof t){case"object":{Object.is(t?.valueOf(),-0)&&(t="-0");break}case"number":{t=Nee.toKey(t);break}}return e=kee.cloneDeep(e),function(n){let r=Bee.get(n,t);return r===void 0?Uee.has(n,t):e===void 0?r===void 0:Dee.isMatch(r,e)}}UT.matchesProperty=Fee});var DU=Ae(FT=>{"use strict";Object.defineProperty(FT,Symbol.toStringTag,{value:"Module"});var zee=cT(),Hee=yU(),Vee=TU(),Gee=OU();function qee(t){if(t==null)return zee.identity;switch(typeof t){case"function":return t;case"object":return Array.isArray(t)&&t.length===2?Gee.matchesProperty(t[0],t[1]):Vee.matches(t);case"string":case"symbol":case"number":return Hee.property(t)}}FT.iteratee=qee});var NU=Ae(zT=>{"use strict";Object.defineProperty(zT,Symbol.toStringTag,{value:"Module"});var Wee=pU(),jee=hU(),Xee=cT(),Yee=vU(),Kee=DU();function Zee(t,e=Xee.identity){return Yee.isArrayLikeObject(t)?Wee.uniqBy(Array.from(t),jee.ary(Kee.iteratee(e),1)):[]}zT.uniqBy=Zee});var BU=Ae((I_e,kU)=>{kU.exports=NU().uniqBy});var FU=Ae(UU=>{"use strict";var Md=ce();function $ee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jee=typeof Object.is=="function"?Object.is:$ee,Qee=Md.useState,ete=Md.useEffect,tte=Md.useLayoutEffect,nte=Md.useDebugValue;function rte(t,e){var n=e(),r=Qee({inst:{value:n,getSnapshot:e}}),a=r[0].inst,i=r[1];return tte(function(){a.value=n,a.getSnapshot=e,VT(a)&&i({inst:a})},[t,n,e]),ete(function(){return VT(a)&&i({inst:a}),t(function(){VT(a)&&i({inst:a})})},[t]),nte(n),n}function VT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jee(t,n)}catch{return!0}}function ate(t,e){return e()}var ite=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ate:rte;UU.useSyncExternalStore=Md.useSyncExternalStore!==void 0?Md.useSyncExternalStore:ite});var HU=Ae((R_e,zU)=>{"use strict";zU.exports=FU()});var GU=Ae(VU=>{"use strict";var Eb=ce(),ote=HU();function ste(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lte=typeof Object.is=="function"?Object.is:ste,ute=ote.useSyncExternalStore,cte=Eb.useRef,fte=Eb.useEffect,dte=Eb.useMemo,pte=Eb.useDebugValue;VU.useSyncExternalStoreWithSelector=function(t,e,n,r,a){var i=cte(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=dte(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),a!==void 0&&o.hasValue){var m=o.value;if(a(m,p))return f=m}return f=p}if(m=f,lte(c,p))return m;var y=r(p);return a!==void 0&&a(m,y)?(c=p,m):(c=p,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,a]);var s=ute(t,i[0],i[1]);return fte(function(){o.hasValue=!0,o.value=s},[s]),pte(s),s}});var WU=Ae((D_e,qU)=>{"use strict";qU.exports=GU()});var JU=Ae(GT=>{"use strict";Object.defineProperty(GT,Symbol.toStringTag,{value:"Module"});function $U(t){return typeof t=="symbol"?1:t===null?2:t===void 0?3:t!==t?4:0}var Ete=(t,e,n)=>{if(t!==e){let r=$U(t),a=$U(e);if(r===a&&r===0){if(t<e)return n==="desc"?1:-1;if(t>e)return n==="desc"?-1:1}return n==="desc"?a-r:r-a}return 0};GT.compareValues=Ete});var WT=Ae(qT=>{"use strict";Object.defineProperty(qT,Symbol.toStringTag,{value:"Module"});function Tte(t){return typeof t=="symbol"||t instanceof Symbol}qT.isSymbol=Tte});var QU=Ae(jT=>{"use strict";Object.defineProperty(jT,Symbol.toStringTag,{value:"Module"});var Ite=WT(),Lte=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pte=/^\w*$/;function Rte(t,e){return Array.isArray(t)?!1:typeof t=="number"||typeof t=="boolean"||t==null||Ite.isSymbol(t)?!0:typeof t=="string"&&(Pte.test(t)||!Lte.test(t))||e!=null&&Object.hasOwn(e,t)}jT.isKey=Rte});var eF=Ae(XT=>{"use strict";Object.defineProperty(XT,Symbol.toStringTag,{value:"Module"});var Ote=JU(),Dte=QU(),Nte=vb();function kte(t,e,n,r){if(t==null)return[];n=r?void 0:n,Array.isArray(t)||(t=Object.values(t)),Array.isArray(e)||(e=e==null?[null]:[e]),e.length===0&&(e=[null]),Array.isArray(n)||(n=n==null?[]:[n]),n=n.map(l=>String(l));let a=(l,u)=>{let c=l;for(let f=0;f<u.length&&c!=null;++f)c=c[u[f]];return c},i=(l,u)=>u==null||l==null?u:typeof l=="object"&&"key"in l?Object.hasOwn(u,l.key)?u[l.key]:a(u,l.path):typeof l=="function"?l(u):Array.isArray(l)?a(u,l):typeof u=="object"?u[l]:u,o=e.map(l=>(Array.isArray(l)&&l.length===1&&(l=l[0]),l==null||typeof l=="function"||Array.isArray(l)||Dte.isKey(l)?l:{key:l,path:Nte.toPath(l)}));return t.map(l=>({original:l,criteria:o.map(u=>i(u,l))})).slice().sort((l,u)=>{for(let c=0;c<o.length;c++){let f=Ote.compareValues(l.criteria[c],u.criteria[c],n[c]);if(f!==0)return f}return 0}).map(l=>l.original)}XT.orderBy=kte});var tF=Ae(YT=>{"use strict";Object.defineProperty(YT,Symbol.toStringTag,{value:"Module"});function Bte(t,e=1){let n=[],r=Math.floor(e),a=(i,o)=>{for(let s=0;s<i.length;s++){let l=i[s];Array.isArray(l)&&o<r?a(l,o+1):n.push(l)}};return a(t,0),n}YT.flatten=Bte});var ZT=Ae(KT=>{"use strict";Object.defineProperty(KT,Symbol.toStringTag,{value:"Module"});var Ute=NT(),Fte=_b(),zte=vT(),Hte=ST();function Vte(t,e,n){return zte.isObject(n)&&(typeof e=="number"&&Fte.isArrayLike(n)&&Ute.isIndex(e)&&e<n.length||typeof e=="string"&&e in n)?Hte.isEqualsSameValueZero(n[e],t):!1}KT.isIterateeCall=Vte});var rF=Ae($T=>{"use strict";Object.defineProperty($T,Symbol.toStringTag,{value:"Module"});var Gte=eF(),qte=tF(),nF=ZT();function Wte(t,...e){let n=e.length;return n>1&&nF.isIterateeCall(t,e[0],e[1])?e=[]:n>2&&nF.isIterateeCall(e[0],e[1],e[2])&&(e=[e[0]]),Gte.orderBy(t,qte.flatten(e),["asc"])}$T.sortBy=Wte});var Fm=Ae((K_e,aF)=>{aF.exports=rF().sortBy});var xz=Ae(II=>{"use strict";Object.defineProperty(II,Symbol.toStringTag,{value:"Module"});function lre(t,e,{signal:n,edges:r}={}){let a,i=null,o=r!=null&&r.includes("leading"),s=r==null||r.includes("trailing"),l=()=>{i!==null&&(t.apply(a,i),a=void 0,i=null)},u=()=>{s&&l(),p()},c=null,f=()=>{c!=null&&clearTimeout(c),c=setTimeout(()=>{c=null,u()},e)},d=()=>{c!==null&&(clearTimeout(c),c=null)},p=()=>{d(),a=void 0,i=null},m=()=>{l()},y=function(...v){if(n?.aborted)return;a=this,i=v;let h=c==null;f(),o&&h&&l()};return y.schedule=f,y.cancel=p,y.flush=m,n?.addEventListener("abort",p,{once:!0}),y}II.debounce=lre});var bz=Ae(LI=>{"use strict";Object.defineProperty(LI,Symbol.toStringTag,{value:"Module"});var ure=xz();function cre(t,e=0,n={}){typeof n!="object"&&(n={});let{leading:r=!1,trailing:a=!0,maxWait:i}=n,o=Array(2);r&&(o[0]="leading"),a&&(o[1]="trailing");let s,l=null,u=ure.debounce(function(...d){s=t.apply(this,d),l=null},e,{edges:o}),c=function(...d){return i!=null&&(l===null&&(l=Date.now()),Date.now()-l>=i)?(s=t.apply(this,d),l=Date.now(),u.cancel(),u.schedule(),s):(u.apply(this,d),s)},f=()=>(u.flush(),s);return c.cancel=u.cancel,c.flush=f,c}LI.debounce=cre});var Sz=Ae(PI=>{"use strict";Object.defineProperty(PI,Symbol.toStringTag,{value:"Module"});var fre=bz();function dre(t,e=0,n={}){let{leading:r=!0,trailing:a=!0}=n;return fre.debounce(t,e,{leading:r,maxWait:e,trailing:a})}PI.throttle=dre});var Mz=Ae((XMe,_z)=>{_z.exports=Sz().throttle});var j4=Ae(KI=>{"use strict";Object.defineProperty(KI,Symbol.toStringTag,{value:"Module"});var zae=WT();function Hae(t){return zae.isSymbol(t)?NaN:Number(t)}KI.toNumber=Hae});var X4=Ae(ZI=>{"use strict";Object.defineProperty(ZI,Symbol.toStringTag,{value:"Module"});var Vae=j4();function Gae(t){return t?(t=Vae.toNumber(t),t===1/0||t===-1/0?(t<0?-1:1)*Number.MAX_VALUE:t===t?t:0):t===0?t:0}ZI.toFinite=Gae});var Y4=Ae(JI=>{"use strict";Object.defineProperty(JI,Symbol.toStringTag,{value:"Module"});var qae=ZT(),$I=X4();function Wae(t,e,n){n&&typeof n!="number"&&qae.isIterateeCall(t,e,n)&&(e=n=void 0),t=$I.toFinite(t),e===void 0?(e=t,t=0):e=$I.toFinite(e),n=n===void 0?t<e?1:-1:$I.toFinite(n);let r=Math.max(Math.ceil((e-t)/(n||1)),0),a=new Array(r);for(let i=0;i<r;i++)a[i]=t,t+=n;return a}JI.range=Wae});var Z4=Ae((zAe,K4)=>{K4.exports=Y4().range});var OL=Ae((SH,d_)=>{(function(t){"use strict";var e=1e9,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},r=!0,a="[DecimalError] ",i=a+"Invalid argument: ",o=a+"Exponent out of range: ",s=Math.floor,l=Math.pow,u=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,c,f=1e7,d=7,p=9007199254740991,m=s(p/d),y={};y.absoluteValue=y.abs=function(){var C=new this.constructor(this);return C.s&&(C.s=1),C},y.comparedTo=y.cmp=function(C){var L,B,R,T,P=this;if(C=new P.constructor(C),P.s!==C.s)return P.s||-C.s;if(P.e!==C.e)return P.e>C.e^P.s<0?1:-1;for(R=P.d.length,T=C.d.length,L=0,B=R<T?R:T;L<B;++L)if(P.d[L]!==C.d[L])return P.d[L]>C.d[L]^P.s<0?1:-1;return R===T?0:R>T^P.s<0?1:-1},y.decimalPlaces=y.dp=function(){var C=this,L=C.d.length-1,B=(L-C.e)*d;if(L=C.d[L],L)for(;L%10==0;L/=10)B--;return B<0?0:B},y.dividedBy=y.div=function(C){return x(this,new this.constructor(C))},y.dividedToIntegerBy=y.idiv=function(C){var L=this,B=L.constructor;return U(x(L,new B(C),0,1),B.precision)},y.equals=y.eq=function(C){return!this.cmp(C)},y.exponent=function(){return _(this)},y.greaterThan=y.gt=function(C){return this.cmp(C)>0},y.greaterThanOrEqualTo=y.gte=function(C){return this.cmp(C)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return this.s===0},y.lessThan=y.lt=function(C){return this.cmp(C)<0},y.lessThanOrEqualTo=y.lte=function(C){return this.cmp(C)<1},y.logarithm=y.log=function(C){var L,B=this,R=B.constructor,T=R.precision,P=T+5;if(C===void 0)C=new R(10);else if(C=new R(C),C.s<1||C.eq(c))throw Error(a+"NaN");if(B.s<1)throw Error(a+(B.s?"NaN":"-Infinity"));return B.eq(c)?new R(0):(r=!1,L=x(S(B,P),S(C,P),P),r=!0,U(L,T))},y.minus=y.sub=function(C){var L=this;return C=new L.constructor(C),L.s==C.s?D(L,C):v(L,(C.s=-C.s,C))},y.modulo=y.mod=function(C){var L,B=this,R=B.constructor,T=R.precision;if(C=new R(C),!C.s)throw Error(a+"NaN");return B.s?(r=!1,L=x(B,C,0,1).times(C),r=!0,B.minus(L)):U(new R(B),T)},y.naturalExponential=y.exp=function(){return b(this)},y.naturalLogarithm=y.ln=function(){return S(this)},y.negated=y.neg=function(){var C=new this.constructor(this);return C.s=-C.s||0,C},y.plus=y.add=function(C){var L=this;return C=new L.constructor(C),L.s==C.s?v(L,C):D(L,(C.s=-C.s,C))},y.precision=y.sd=function(C){var L,B,R,T=this;if(C!==void 0&&C!==!!C&&C!==1&&C!==0)throw Error(i+C);if(L=_(T)+1,R=T.d.length-1,B=R*d+1,R=T.d[R],R){for(;R%10==0;R/=10)B--;for(R=T.d[0];R>=10;R/=10)B++}return C&&L>B?L:B},y.squareRoot=y.sqrt=function(){var C,L,B,R,T,P,H,K=this,ee=K.constructor;if(K.s<1){if(!K.s)return new ee(0);throw Error(a+"NaN")}for(C=_(K),r=!1,T=Math.sqrt(+K),T==0||T==1/0?(L=g(K.d),(L.length+C)%2==0&&(L+="0"),T=Math.sqrt(L),C=s((C+1)/2)-(C<0||C%2),T==1/0?L="5e"+C:(L=T.toExponential(),L=L.slice(0,L.indexOf("e")+1)+C),R=new ee(L)):R=new ee(T.toString()),B=ee.precision,T=H=B+3;;)if(P=R,R=P.plus(x(K,P,H+2)).times(.5),g(P.d).slice(0,H)===(L=g(R.d)).slice(0,H)){if(L=L.slice(H-3,H+1),T==H&&L=="4999"){if(U(P,B+1,0),P.times(P).eq(K)){R=P;break}}else if(L!="9999")break;H+=4}return r=!0,U(R,B)},y.times=y.mul=function(C){var L,B,R,T,P,H,K,ee,ne,G=this,Q=G.constructor,de=G.d,X=(C=new Q(C)).d;if(!G.s||!C.s)return new Q(0);for(C.s*=G.s,B=G.e+C.e,ee=de.length,ne=X.length,ee<ne&&(P=de,de=X,X=P,H=ee,ee=ne,ne=H),P=[],H=ee+ne,R=H;R--;)P.push(0);for(R=ne;--R>=0;){for(L=0,T=ee+R;T>R;)K=P[T]+X[R]*de[T-R-1]+L,P[T--]=K%f|0,L=K/f|0;P[T]=(P[T]+L)%f|0}for(;!P[--H];)P.pop();return L?++B:P.shift(),C.d=P,C.e=B,r?U(C,Q.precision):C},y.toDecimalPlaces=y.todp=function(C,L){var B=this,R=B.constructor;return B=new R(B),C===void 0?B:(h(C,0,e),L===void 0?L=R.rounding:h(L,0,8),U(B,C+_(B)+1,L))},y.toExponential=function(C,L){var B,R=this,T=R.constructor;return C===void 0?B=k(R,!0):(h(C,0,e),L===void 0?L=T.rounding:h(L,0,8),R=U(new T(R),C+1,L),B=k(R,!0,C+1)),B},y.toFixed=function(C,L){var B,R,T=this,P=T.constructor;return C===void 0?k(T):(h(C,0,e),L===void 0?L=P.rounding:h(L,0,8),R=U(new P(T),C+_(T)+1,L),B=k(R.abs(),!1,C+_(R)+1),T.isneg()&&!T.isZero()?"-"+B:B)},y.toInteger=y.toint=function(){var C=this,L=C.constructor;return U(new L(C),_(C)+1,L.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(C){var L,B,R,T,P,H,K=this,ee=K.constructor,ne=12,G=+(C=new ee(C));if(!C.s)return new ee(c);if(K=new ee(K),!K.s){if(C.s<1)throw Error(a+"Infinity");return K}if(K.eq(c))return K;if(R=ee.precision,C.eq(c))return U(K,R);if(L=C.e,B=C.d.length-1,H=L>=B,P=K.s,H){if((B=G<0?-G:G)<=p){for(T=new ee(c),L=Math.ceil(R/d+4),r=!1;B%2&&(T=T.times(K),z(T.d,L)),B=s(B/2),B!==0;)K=K.times(K),z(K.d,L);return r=!0,C.s<0?new ee(c).div(T):U(T,R)}}else if(P<0)throw Error(a+"NaN");return P=P<0&&C.d[Math.max(L,B)]&1?-1:1,K.s=1,r=!1,T=C.times(S(K,R+ne)),r=!0,T=b(T),T.s=P,T},y.toPrecision=function(C,L){var B,R,T=this,P=T.constructor;return C===void 0?(B=_(T),R=k(T,B<=P.toExpNeg||B>=P.toExpPos)):(h(C,1,e),L===void 0?L=P.rounding:h(L,0,8),T=U(new P(T),C,L),B=_(T),R=k(T,C<=B||B<=P.toExpNeg,C)),R},y.toSignificantDigits=y.tosd=function(C,L){var B=this,R=B.constructor;return C===void 0?(C=R.precision,L=R.rounding):(h(C,1,e),L===void 0?L=R.rounding:h(L,0,8)),U(new R(B),C,L)},y.toString=y.valueOf=y.val=y.toJSON=function(){var C=this,L=_(C),B=C.constructor;return k(C,L<=B.toExpNeg||L>=B.toExpPos)};function v(C,L){var B,R,T,P,H,K,ee,ne,G=C.constructor,Q=G.precision;if(!C.s||!L.s)return L.s||(L=new G(C)),r?U(L,Q):L;if(ee=C.d,ne=L.d,H=C.e,T=L.e,ee=ee.slice(),P=H-T,P){for(P<0?(R=ee,P=-P,K=ne.length):(R=ne,T=H,K=ee.length),H=Math.ceil(Q/d),K=H>K?H+1:K+1,P>K&&(P=K,R.length=1),R.reverse();P--;)R.push(0);R.reverse()}for(K=ee.length,P=ne.length,K-P<0&&(P=K,R=ne,ne=ee,ee=R),B=0;P;)B=(ee[--P]=ee[P]+ne[P]+B)/f|0,ee[P]%=f;for(B&&(ee.unshift(B),++T),K=ee.length;ee[--K]==0;)ee.pop();return L.d=ee,L.e=T,r?U(L,Q):L}function h(C,L,B){if(C!==~~C||C<L||C>B)throw Error(i+C)}function g(C){var L,B,R,T=C.length-1,P="",H=C[0];if(T>0){for(P+=H,L=1;L<T;L++)R=C[L]+"",B=d-R.length,B&&(P+=A(B)),P+=R;H=C[L],R=H+"",B=d-R.length,B&&(P+=A(B))}else if(H===0)return"0";for(;H%10===0;)H/=10;return P+H}var x=(function(){function C(R,T){var P,H=0,K=R.length;for(R=R.slice();K--;)P=R[K]*T+H,R[K]=P%f|0,H=P/f|0;return H&&R.unshift(H),R}function L(R,T,P,H){var K,ee;if(P!=H)ee=P>H?1:-1;else for(K=ee=0;K<P;K++)if(R[K]!=T[K]){ee=R[K]>T[K]?1:-1;break}return ee}function B(R,T,P){for(var H=0;P--;)R[P]-=H,H=R[P]<T[P]?1:0,R[P]=H*f+R[P]-T[P];for(;!R[0]&&R.length>1;)R.shift()}return function(R,T,P,H){var K,ee,ne,G,Q,de,X,pe,ue,oe,qe,Ie,et,He,Ct,q,Lt,_t,Dt=R.constructor,Re=R.s==T.s?1:-1,F=R.d,I=T.d;if(!R.s)return new Dt(R);if(!T.s)throw Error(a+"Division by zero");for(ee=R.e-T.e,Lt=I.length,Ct=F.length,X=new Dt(Re),pe=X.d=[],ne=0;I[ne]==(F[ne]||0);)++ne;if(I[ne]>(F[ne]||0)&&--ee,P==null?Ie=P=Dt.precision:H?Ie=P+(_(R)-_(T))+1:Ie=P,Ie<0)return new Dt(0);if(Ie=Ie/d+2|0,ne=0,Lt==1)for(G=0,I=I[0],Ie++;(ne<Ct||G)&&Ie--;ne++)et=G*f+(F[ne]||0),pe[ne]=et/I|0,G=et%I|0;else{for(G=f/(I[0]+1)|0,G>1&&(I=C(I,G),F=C(F,G),Lt=I.length,Ct=F.length),He=Lt,ue=F.slice(0,Lt),oe=ue.length;oe<Lt;)ue[oe++]=0;_t=I.slice(),_t.unshift(0),q=I[0],I[1]>=f/2&&++q;do G=0,K=L(I,ue,Lt,oe),K<0?(qe=ue[0],Lt!=oe&&(qe=qe*f+(ue[1]||0)),G=qe/q|0,G>1?(G>=f&&(G=f-1),Q=C(I,G),de=Q.length,oe=ue.length,K=L(Q,ue,de,oe),K==1&&(G--,B(Q,Lt<de?_t:I,de))):(G==0&&(K=G=1),Q=I.slice()),de=Q.length,de<oe&&Q.unshift(0),B(ue,Q,oe),K==-1&&(oe=ue.length,K=L(I,ue,Lt,oe),K<1&&(G++,B(ue,Lt<oe?_t:I,oe))),oe=ue.length):K===0&&(G++,ue=[0]),pe[ne++]=G,K&&ue[0]?ue[oe++]=F[He]||0:(ue=[F[He]],oe=1);while((He++<Ct||ue[0]!==void 0)&&Ie--)}return pe[0]||pe.shift(),X.e=ee,U(X,H?P+_(X)+1:P)}})();function b(C,L){var B,R,T,P,H,K,ee=0,ne=0,G=C.constructor,Q=G.precision;if(_(C)>16)throw Error(o+_(C));if(!C.s)return new G(c);for(L==null?(r=!1,K=Q):K=L,H=new G(.03125);C.abs().gte(.1);)C=C.times(H),ne+=5;for(R=Math.log(l(2,ne))/Math.LN10*2+5|0,K+=R,B=T=P=new G(c),G.precision=K;;){if(T=U(T.times(C),K),B=B.times(++ee),H=P.plus(x(T,B,K)),g(H.d).slice(0,K)===g(P.d).slice(0,K)){for(;ne--;)P=U(P.times(P),K);return G.precision=Q,L==null?(r=!0,U(P,Q)):P}P=H}}function _(C){for(var L=C.e*d,B=C.d[0];B>=10;B/=10)L++;return L}function M(C,L,B){if(L>C.LN10.sd())throw r=!0,B&&(C.precision=B),Error(a+"LN10 precision limit exceeded");return U(new C(C.LN10),L)}function A(C){for(var L="";C--;)L+="0";return L}function S(C,L){var B,R,T,P,H,K,ee,ne,G,Q=1,de=10,X=C,pe=X.d,ue=X.constructor,oe=ue.precision;if(X.s<1)throw Error(a+(X.s?"NaN":"-Infinity"));if(X.eq(c))return new ue(0);if(L==null?(r=!1,ne=oe):ne=L,X.eq(10))return L==null&&(r=!0),M(ue,ne);if(ne+=de,ue.precision=ne,B=g(pe),R=B.charAt(0),P=_(X),Math.abs(P)<15e14){for(;R<7&&R!=1||R==1&&B.charAt(1)>3;)X=X.times(C),B=g(X.d),R=B.charAt(0),Q++;P=_(X),R>1?(X=new ue("0."+B),P++):X=new ue(R+"."+B.slice(1))}else return ee=M(ue,ne+2,oe).times(P+""),X=S(new ue(R+"."+B.slice(1)),ne-de).plus(ee),ue.precision=oe,L==null?(r=!0,U(X,oe)):X;for(K=H=X=x(X.minus(c),X.plus(c),ne),G=U(X.times(X),ne),T=3;;){if(H=U(H.times(G),ne),ee=K.plus(x(H,new ue(T),ne)),g(ee.d).slice(0,ne)===g(K.d).slice(0,ne))return K=K.times(2),P!==0&&(K=K.plus(M(ue,ne+2,oe).times(P+""))),K=x(K,new ue(Q),ne),ue.precision=oe,L==null?(r=!0,U(K,oe)):K;K=ee,T+=2}}function w(C,L){var B,R,T;for((B=L.indexOf("."))>-1&&(L=L.replace(".","")),(R=L.search(/e/i))>0?(B<0&&(B=R),B+=+L.slice(R+1),L=L.substring(0,R)):B<0&&(B=L.length),R=0;L.charCodeAt(R)===48;)++R;for(T=L.length;L.charCodeAt(T-1)===48;)--T;if(L=L.slice(R,T),L){if(T-=R,B=B-R-1,C.e=s(B/d),C.d=[],R=(B+1)%d,B<0&&(R+=d),R<T){for(R&&C.d.push(+L.slice(0,R)),T-=d;R<T;)C.d.push(+L.slice(R,R+=d));L=L.slice(R),R=d-L.length}else R-=T;for(;R--;)L+="0";if(C.d.push(+L),r&&(C.e>m||C.e<-m))throw Error(o+B)}else C.s=0,C.e=0,C.d=[0];return C}function U(C,L,B){var R,T,P,H,K,ee,ne,G,Q=C.d;for(H=1,P=Q[0];P>=10;P/=10)H++;if(R=L-H,R<0)R+=d,T=L,ne=Q[G=0];else{if(G=Math.ceil((R+1)/d),P=Q.length,G>=P)return C;for(ne=P=Q[G],H=1;P>=10;P/=10)H++;R%=d,T=R-d+H}if(B!==void 0&&(P=l(10,H-T-1),K=ne/P%10|0,ee=L<0||Q[G+1]!==void 0||ne%P,ee=B<4?(K||ee)&&(B==0||B==(C.s<0?3:2)):K>5||K==5&&(B==4||ee||B==6&&(R>0?T>0?ne/l(10,H-T):0:Q[G-1])%10&1||B==(C.s<0?8:7))),L<1||!Q[0])return ee?(P=_(C),Q.length=1,L=L-P-1,Q[0]=l(10,(d-L%d)%d),C.e=s(-L/d)||0):(Q.length=1,Q[0]=C.e=C.s=0),C;if(R==0?(Q.length=G,P=1,G--):(Q.length=G+1,P=l(10,d-R),Q[G]=T>0?(ne/l(10,H-T)%l(10,T)|0)*P:0),ee)for(;;)if(G==0){(Q[0]+=P)==f&&(Q[0]=1,++C.e);break}else{if(Q[G]+=P,Q[G]!=f)break;Q[G--]=0,P=1}for(R=Q.length;Q[--R]===0;)Q.pop();if(r&&(C.e>m||C.e<-m))throw Error(o+_(C));return C}function D(C,L){var B,R,T,P,H,K,ee,ne,G,Q,de=C.constructor,X=de.precision;if(!C.s||!L.s)return L.s?L.s=-L.s:L=new de(C),r?U(L,X):L;if(ee=C.d,Q=L.d,R=L.e,ne=C.e,ee=ee.slice(),H=ne-R,H){for(G=H<0,G?(B=ee,H=-H,K=Q.length):(B=Q,R=ne,K=ee.length),T=Math.max(Math.ceil(X/d),K)+2,H>T&&(H=T,B.length=1),B.reverse(),T=H;T--;)B.push(0);B.reverse()}else{for(T=ee.length,K=Q.length,G=T<K,G&&(K=T),T=0;T<K;T++)if(ee[T]!=Q[T]){G=ee[T]<Q[T];break}H=0}for(G&&(B=ee,ee=Q,Q=B,L.s=-L.s),K=ee.length,T=Q.length-K;T>0;--T)ee[K++]=0;for(T=Q.length;T>H;){if(ee[--T]<Q[T]){for(P=T;P&&ee[--P]===0;)ee[P]=f-1;--ee[P],ee[T]+=f}ee[T]-=Q[T]}for(;ee[--K]===0;)ee.pop();for(;ee[0]===0;ee.shift())--R;return ee[0]?(L.d=ee,L.e=R,r?U(L,X):L):new de(0)}function k(C,L,B){var R,T=_(C),P=g(C.d),H=P.length;return L?(B&&(R=B-H)>0?P=P.charAt(0)+"."+P.slice(1)+A(R):H>1&&(P=P.charAt(0)+"."+P.slice(1)),P=P+(T<0?"e":"e+")+T):T<0?(P="0."+A(-T-1)+P,B&&(R=B-H)>0&&(P+=A(R))):T>=H?(P+=A(T+1-H),B&&(R=B-T-1)>0&&(P=P+"."+A(R))):((R=T+1)<H&&(P=P.slice(0,R)+"."+P.slice(R)),B&&(R=B-H)>0&&(T+1===H&&(P+="."),P+=A(R))),C.s<0?"-"+P:P}function z(C,L){if(C.length>L)return C.length=L,!0}function V(C){var L,B,R;function T(P){var H=this;if(!(H instanceof T))return new T(P);if(H.constructor=T,P instanceof T){H.s=P.s,H.e=P.e,H.d=(P=P.d)?P.slice():P;return}if(typeof P=="number"){if(P*0!==0)throw Error(i+P);if(P>0)H.s=1;else if(P<0)P=-P,H.s=-1;else{H.s=0,H.e=0,H.d=[0];return}if(P===~~P&&P<1e7){H.e=0,H.d=[P];return}return w(H,P.toString())}else if(typeof P!="string")throw Error(i+P);if(P.charCodeAt(0)===45?(P=P.slice(1),H.s=-1):H.s=1,u.test(P))w(H,P);else throw Error(i+P)}if(T.prototype=y,T.ROUND_UP=0,T.ROUND_DOWN=1,T.ROUND_CEIL=2,T.ROUND_FLOOR=3,T.ROUND_HALF_UP=4,T.ROUND_HALF_DOWN=5,T.ROUND_HALF_EVEN=6,T.ROUND_HALF_CEIL=7,T.ROUND_HALF_FLOOR=8,T.clone=V,T.config=T.set=W,C===void 0&&(C={}),C)for(R=["precision","rounding","toExpNeg","toExpPos","LN10"],L=0;L<R.length;)C.hasOwnProperty(B=R[L++])||(C[B]=this[B]);return T.config(C),T}function W(C){if(!C||typeof C!="object")throw Error(a+"Object expected");var L,B,R,T=["precision",1,e,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(L=0;L<T.length;L+=3)if((R=C[B=T[L]])!==void 0)if(s(R)===R&&R>=T[L+1]&&R<=T[L+2])this[B]=R;else throw Error(i+B+": "+R);if((R=C[B="LN10"])!==void 0)if(R==Math.LN10)this[B]=new this(R);else throw Error(i+B+": "+R);return this}n=V(n),n.default=n.Decimal=n,c=new n(1),typeof define=="function"&&define.amd?define(function(){return n}):typeof d_<"u"&&d_.exports?d_.exports=n:(t||(t=typeof self<"u"&&self&&self.self==self?self:Function("return this")()),t.Decimal=n)})(SH)});var WV=Ae((pOe,BP)=>{"use strict";var lue=Object.prototype.hasOwnProperty,Xr="~";function Ng(){}Object.create&&(Ng.prototype=Object.create(null),new Ng().__proto__||(Xr=!1));function uue(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function qV(t,e,n,r,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new uue(n,r||t,a),o=Xr?Xr+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],i]:t._events[o].push(i):(t._events[o]=i,t._eventsCount++),t}function $_(t,e){--t._eventsCount===0?t._events=new Ng:delete t._events[e]}function Dr(){this._events=new Ng,this._eventsCount=0}Dr.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)lue.call(n,r)&&e.push(Xr?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Dr.prototype.listeners=function(e){var n=Xr?Xr+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o};Dr.prototype.listenerCount=function(e){var n=Xr?Xr+e:e,r=this._events[n];return r?r.fn?1:r.length:0};Dr.prototype.emit=function(e,n,r,a,i,o){var s=Xr?Xr+e:e;if(!this._events[s])return!1;var l=this._events[s],u=arguments.length,c,f;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,a),!0;case 5:return l.fn.call(l.context,n,r,a,i),!0;case 6:return l.fn.call(l.context,n,r,a,i,o),!0}for(f=1,c=new Array(u-1);f<u;f++)c[f-1]=arguments[f];l.fn.apply(l.context,c)}else{var d=l.length,p;for(f=0;f<d;f++)switch(l[f].once&&this.removeListener(e,l[f].fn,void 0,!0),u){case 1:l[f].fn.call(l[f].context);break;case 2:l[f].fn.call(l[f].context,n);break;case 3:l[f].fn.call(l[f].context,n,r);break;case 4:l[f].fn.call(l[f].context,n,r,a);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];l[f].fn.apply(l[f].context,c)}}return!0};Dr.prototype.on=function(e,n,r){return qV(this,e,n,r,!1)};Dr.prototype.once=function(e,n,r){return qV(this,e,n,r,!0)};Dr.prototype.removeListener=function(e,n,r,a){var i=Xr?Xr+e:e;if(!this._events[i])return this;if(!n)return $_(this,i),this;var o=this._events[i];if(o.fn)o.fn===n&&(!a||o.once)&&(!r||o.context===r)&&$_(this,i);else{for(var s=0,l=[],u=o.length;s<u;s++)(o[s].fn!==n||a&&!o[s].once||r&&o[s].context!==r)&&l.push(o[s]);l.length?this._events[i]=l.length===1?l[0]:l:$_(this,i)}return this};Dr.prototype.removeAllListeners=function(e){var n;return e?(n=Xr?Xr+e:e,this._events[n]&&$_(this,n)):(this._events=new Ng,this._eventsCount=0),this};Dr.prototype.off=Dr.prototype.removeListener;Dr.prototype.addListener=Dr.prototype.on;Dr.prefixed=Xr;Dr.EventEmitter=Dr;typeof BP<"u"&&(BP.exports=Dr)});var DG=Ae(VP=>{"use strict";Object.defineProperty(VP,Symbol.toStringTag,{value:"Module"});function bce(t){return t[t.length-1]}VP.last=bce});var NG=Ae(GP=>{"use strict";Object.defineProperty(GP,Symbol.toStringTag,{value:"Module"});function Sce(t){return Array.isArray(t)?t:Array.from(t)}GP.toArray=Sce});var kG=Ae(qP=>{"use strict";Object.defineProperty(qP,Symbol.toStringTag,{value:"Module"});var _ce=DG(),Mce=NG(),Ace=_b();function wce(t){if(Ace.isArrayLike(t))return _ce.last(Mce.toArray(t))}qP.last=wce});var UG=Ae((PDe,BG)=>{BG.exports=kG().last});var t8=Ae(an=>{"use strict";var KP=Symbol.for("react.transitional.element"),ZP=Symbol.for("react.portal"),fM=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),pM=Symbol.for("react.profiler"),hM=Symbol.for("react.consumer"),mM=Symbol.for("react.context"),gM=Symbol.for("react.forward_ref"),vM=Symbol.for("react.suspense"),yM=Symbol.for("react.suspense_list"),xM=Symbol.for("react.memo"),bM=Symbol.for("react.lazy"),Wce=Symbol.for("react.view_transition"),jce=Symbol.for("react.client.reference");function bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case KP:switch(t=t.type,t){case fM:case pM:case dM:case vM:case yM:case Wce:return t;default:switch(t=t&&t.$$typeof,t){case mM:case gM:case bM:case xM:return t;case hM:return t;default:return e}}case ZP:return e}}}an.ContextConsumer=hM;an.ContextProvider=mM;an.Element=KP;an.ForwardRef=gM;an.Fragment=fM;an.Lazy=bM;an.Memo=xM;an.Portal=ZP;an.Profiler=pM;an.StrictMode=dM;an.Suspense=vM;an.SuspenseList=yM;an.isContextConsumer=function(t){return bi(t)===hM};an.isContextProvider=function(t){return bi(t)===mM};an.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===KP};an.isForwardRef=function(t){return bi(t)===gM};an.isFragment=function(t){return bi(t)===fM};an.isLazy=function(t){return bi(t)===bM};an.isMemo=function(t){return bi(t)===xM};an.isPortal=function(t){return bi(t)===ZP};an.isProfiler=function(t){return bi(t)===pM};an.isStrictMode=function(t){return bi(t)===dM};an.isSuspense=function(t){return bi(t)===vM};an.isSuspenseList=function(t){return bi(t)===yM};an.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===fM||t===pM||t===dM||t===vM||t===yM||typeof t=="object"&&t!==null&&(t.$$typeof===bM||t.$$typeof===xM||t.$$typeof===mM||t.$$typeof===hM||t.$$typeof===gM||t.$$typeof===jce||t.getModuleId!==void 0)};an.typeOf=bi});var r8=Ae((y2e,n8)=>{"use strict";n8.exports=t8()});var u8=Ae(QP=>{"use strict";Object.defineProperty(QP,Symbol.toStringTag,{value:"Module"});function Xce(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){let n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}QP.isPlainObject=Xce});var f8=Ae((_2e,c8)=>{c8.exports=u8().isPlainObject});var G6=Ae(V6=>{"use strict";var ev=ce();function ape(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ipe=typeof Object.is=="function"?Object.is:ape,ope=ev.useSyncExternalStore,spe=ev.useRef,lpe=ev.useEffect,upe=ev.useMemo,cpe=ev.useDebugValue;V6.useSyncExternalStoreWithSelector=function(t,e,n,r,a){var i=spe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=upe(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),a!==void 0&&o.hasValue){var m=o.value;if(a(m,p))return f=m}return f=p}if(m=f,ipe(c,p))return m;var y=r(p);return a!==void 0&&a(m,y)?(c=p,m):(c=p,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,a]);var s=ope(t,i[0],i[1]);return lpe(function(){o.hasValue=!0,o.value=s},[s]),cpe(s),s}});var W6=Ae((bBe,q6)=>{"use strict";q6.exports=G6()});var pW=Ae(n1=>{"use strict";var Hge=Symbol.for("react.transitional.element"),Vge=Symbol.for("react.fragment");function dW(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:Hge,type:t,key:r,ref:e!==void 0?e:null,props:n}}n1.Fragment=Vge;n1.jsx=dW;n1.jsxs=dW});var HR=Ae((ZVe,hW)=>{"use strict";hW.exports=pW()});var gW=ae(ce()),vW=ae(V3()),Ot=ae(ce());var mk=0,PC=1,gk=2;var xm=1,vk=2,od=3,as=0,Hr=1,oa=2,fo=0,Iu=1,RC=2,OC=3,DC=4,yk=5;var bl=100,xk=101,bk=102,Sk=103,_k=104,Mk=200,Ak=201,wk=202,Ck=203,wx=204,Cx=205,Ek=206,Tk=207,Ik=208,Lk=209,Pk=210,Rk=211,Ok=212,Dk=213,Nk=214,Ex=0,Tx=1,Ix=2,Lu=3,Lx=4,Px=5,Rx=6,Ox=7,c0=0,kk=1,Bk=2,Bi=0,NC=1,kC=2,BC=3,bm=4,UC=5,FC=6,zC=7;var HC=300,Cl=301,Uu=302,f0=303,d0=304,Sm=306,Dx=1e3,so=1001,Nx=1002,sr=1003,Uk=1004;var _m=1005;var br=1006,p0=1007;var El=1008;var sa=1009,VC=1010,GC=1011,sd=1012,h0=1013,Ui=1014,Fi=1015,po=1016,m0=1017,g0=1018,ld=1020,qC=35902,WC=35899,jC=1021,XC=1022,ni=1023,lo=1026,Tl=1027,YC=1028,v0=1029,Fu=1030,y0=1031;var x0=1033,Mm=33776,Am=33777,wm=33778,Cm=33779,b0=35840,S0=35841,_0=35842,M0=35843,A0=36196,w0=37492,C0=37496,E0=37488,T0=37489,I0=37490,L0=37491,P0=37808,R0=37809,O0=37810,D0=37811,N0=37812,k0=37813,B0=37814,U0=37815,F0=37816,z0=37817,H0=37818,V0=37819,G0=37820,q0=37821,W0=36492,j0=36494,X0=36495,Y0=36283,K0=36284,Z0=36285,$0=36286;var jh=2300,kx=2301,Ax=2302,yC=2303,xC=2400,bC=2401,SC=2402;var Fk=3200;var KC=0,zk=1,ss="",wa="srgb",Pu="srgb-linear",Xh="linear",Bt="srgb";var Tu=7680;var _C=519,Hk=512,Vk=513,Gk=514,J0=515,qk=516,Wk=517,Q0=518,jk=519,MC=35044;var ZC="300 es",Ni=2e3,Yf=2001;function wX(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function CX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Xk(){let t=Yh("canvas");return t.style.display="block",t}var G3={},Kf=null;function $C(...t){let e="THREE."+t.shift();Kf?Kf("log",e,...t):console.log(e,...t)}function Yk(t){let e=t[0];if(typeof e=="string"&&e.startsWith("TSL:")){let n=t[1];n&&n.isStackTrace?t[0]+=" "+n.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function Ze(...t){t=Yk(t);let e="THREE."+t.shift();if(Kf)Kf("warn",e,...t);else{let n=t[0];n&&n.isStackTrace?console.warn(n.getError(e)):console.warn(e,...t)}}function Ke(...t){t=Yk(t);let e="THREE."+t.shift();if(Kf)Kf("error",e,...t);else{let n=t[0];n&&n.isStackTrace?console.error(n.getError(e)):console.error(e,...t)}}function Kh(...t){let e=t.join(" ");e in G3||(G3[e]=!0,Ze(...t))}function Kk(t,e,n){return new Promise(function(r,a){function i(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:a();break;case t.TIMEOUT_EXPIRED:setTimeout(i,n);break;default:r()}}setTimeout(i,n)})}var Zk={[Ex]:Tx,[Ix]:Rx,[Lx]:Ox,[Lu]:Px,[Tx]:Ex,[Rx]:Ix,[Ox]:Lx,[Px]:Lu},is=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){let r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){let r=this._listeners;if(r===void 0)return;let a=r[e];if(a!==void 0){let i=a.indexOf(n);i!==-1&&a.splice(i,1)}}dispatchEvent(e){let n=this._listeners;if(n===void 0)return;let r=n[e.type];if(r!==void 0){e.target=this;let a=r.slice(0);for(let i=0,o=a.length;i<o;i++)a[i].call(this,e);e.target=null}}},wr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];var Ww=Math.PI/180,Bx=180/Math.PI;function ud(){let t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(wr[t&255]+wr[t>>8&255]+wr[t>>16&255]+wr[t>>24&255]+"-"+wr[e&255]+wr[e>>8&255]+"-"+wr[e>>16&15|64]+wr[e>>24&255]+"-"+wr[n&63|128]+wr[n>>8&255]+"-"+wr[n>>16&255]+wr[n>>24&255]+wr[r&255]+wr[r>>8&255]+wr[r>>16&255]+wr[r>>24&255]).toLowerCase()}function yt(t,e,n){return Math.max(e,Math.min(n,t))}function EX(t,e){return(t%e+e)%e}function jw(t,e,n){return(1-n)*t+n*e}function Uh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function aa(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var Ue=class t{constructor(e=0,n=0){t.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let n=this.x,r=this.y,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6],this.y=a[1]*n+a[4]*r+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=yt(this.x,e.x,n.x),this.y=yt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=yt(this.x,e,n),this.y=yt(this.y,e,n),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;let r=this.dot(e)/n;return Math.acos(yt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){let r=Math.cos(n),a=Math.sin(n),i=this.x-e.x,o=this.y-e.y;return this.x=i*r-o*a+e.x,this.y=i*a+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},uo=class{constructor(e=0,n=0,r=0,a=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=a}static slerpFlat(e,n,r,a,i,o,s){let l=r[a+0],u=r[a+1],c=r[a+2],f=r[a+3],d=i[o+0],p=i[o+1],m=i[o+2],y=i[o+3];if(f!==y||l!==d||u!==p||c!==m){let v=l*d+u*p+c*m+f*y;v<0&&(d=-d,p=-p,m=-m,y=-y,v=-v);let h=1-s;if(v<.9995){let g=Math.acos(v),x=Math.sin(g);h=Math.sin(h*g)/x,s=Math.sin(s*g)/x,l=l*h+d*s,u=u*h+p*s,c=c*h+m*s,f=f*h+y*s}else{l=l*h+d*s,u=u*h+p*s,c=c*h+m*s,f=f*h+y*s;let g=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=g,u*=g,c*=g,f*=g}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,a,i,o){let s=r[a],l=r[a+1],u=r[a+2],c=r[a+3],f=i[o],d=i[o+1],p=i[o+2],m=i[o+3];return e[n]=s*m+c*f+l*p-u*d,e[n+1]=l*m+c*d+u*f-s*p,e[n+2]=u*m+c*p+s*d-l*f,e[n+3]=c*m-s*f-l*d-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,a){return this._x=e,this._y=n,this._z=r,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){let r=e._x,a=e._y,i=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(a/2),f=s(i/2),d=l(r/2),p=l(a/2),m=l(i/2);switch(o){case"XYZ":this._x=d*c*f+u*p*m,this._y=u*p*f-d*c*m,this._z=u*c*m+d*p*f,this._w=u*c*f-d*p*m;break;case"YXZ":this._x=d*c*f+u*p*m,this._y=u*p*f-d*c*m,this._z=u*c*m-d*p*f,this._w=u*c*f+d*p*m;break;case"ZXY":this._x=d*c*f-u*p*m,this._y=u*p*f+d*c*m,this._z=u*c*m+d*p*f,this._w=u*c*f-d*p*m;break;case"ZYX":this._x=d*c*f-u*p*m,this._y=u*p*f+d*c*m,this._z=u*c*m-d*p*f,this._w=u*c*f+d*p*m;break;case"YZX":this._x=d*c*f+u*p*m,this._y=u*p*f+d*c*m,this._z=u*c*m-d*p*f,this._w=u*c*f-d*p*m;break;case"XZY":this._x=d*c*f-u*p*m,this._y=u*p*f-d*c*m,this._z=u*c*m+d*p*f,this._w=u*c*f+d*p*m;break;default:Ze("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){let r=n/2,a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let n=e.elements,r=n[0],a=n[4],i=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=r+s+f;if(d>0){let p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-l)*p,this._y=(i-u)*p,this._z=(o-a)*p}else if(r>s&&r>f){let p=2*Math.sqrt(1+r-s-f);this._w=(c-l)/p,this._x=.25*p,this._y=(a+o)/p,this._z=(i+u)/p}else if(s>f){let p=2*Math.sqrt(1+s-r-f);this._w=(i-u)/p,this._x=(a+o)/p,this._y=.25*p,this._z=(l+c)/p}else{let p=2*Math.sqrt(1+f-r-s);this._w=(o-a)/p,this._x=(i+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(yt(this.dot(e),-1,1)))}rotateTowards(e,n){let r=this.angleTo(e);if(r===0)return this;let a=Math.min(1,n/r);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){let r=e._x,a=e._y,i=e._z,o=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*s+a*u-i*l,this._y=a*c+o*l+i*s-r*u,this._z=i*c+o*u+r*l-a*s,this._w=o*c-r*s-a*l-i*u,this._onChangeCallback(),this}slerp(e,n){let r=e._x,a=e._y,i=e._z,o=e._w,s=this.dot(e);s<0&&(r=-r,a=-a,i=-i,o=-o,s=-s);let l=1-n;if(s<.9995){let u=Math.acos(s),c=Math.sin(u);l=Math.sin(l*u)/c,n=Math.sin(n*u)/c,this._x=this._x*l+r*n,this._y=this._y*l+a*n,this._z=this._z*l+i*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+a*n,this._z=this._z*l+i*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){let e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),a=Math.sqrt(1-r),i=Math.sqrt(r);return this.set(a*Math.sin(e),a*Math.cos(e),i*Math.sin(n),i*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},$=class t{constructor(e=0,n=0,r=0){t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(q3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(q3.setFromAxisAngle(e,n))}applyMatrix3(e){let n=this.x,r=this.y,a=this.z,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6]*a,this.y=i[1]*n+i[4]*r+i[7]*a,this.z=i[2]*n+i[5]*r+i[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let n=this.x,r=this.y,a=this.z,i=e.elements,o=1/(i[3]*n+i[7]*r+i[11]*a+i[15]);return this.x=(i[0]*n+i[4]*r+i[8]*a+i[12])*o,this.y=(i[1]*n+i[5]*r+i[9]*a+i[13])*o,this.z=(i[2]*n+i[6]*r+i[10]*a+i[14])*o,this}applyQuaternion(e){let n=this.x,r=this.y,a=this.z,i=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*a-s*r),c=2*(s*n-i*a),f=2*(i*r-o*n);return this.x=n+l*u+o*f-s*c,this.y=r+l*c+s*u-i*f,this.z=a+l*f+i*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let n=this.x,r=this.y,a=this.z,i=e.elements;return this.x=i[0]*n+i[4]*r+i[8]*a,this.y=i[1]*n+i[5]*r+i[9]*a,this.z=i[2]*n+i[6]*r+i[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=yt(this.x,e.x,n.x),this.y=yt(this.y,e.y,n.y),this.z=yt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=yt(this.x,e,n),this.y=yt(this.y,e,n),this.z=yt(this.z,e,n),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){let r=e.x,a=e.y,i=e.z,o=n.x,s=n.y,l=n.z;return this.x=a*l-i*s,this.y=i*o-r*l,this.z=r*s-a*o,this}projectOnVector(e){let n=e.lengthSq();if(n===0)return this.set(0,0,0);let r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Xw.copy(this).projectOnVector(e),this.sub(Xw)}reflect(e){return this.sub(Xw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;let r=this.dot(e)/n;return Math.acos(yt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let n=this.x-e.x,r=this.y-e.y,a=this.z-e.z;return n*n+r*r+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){let a=Math.sin(n)*e;return this.x=a*Math.sin(r),this.y=Math.cos(n)*e,this.z=a*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){let n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){let n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=a,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},Xw=new $,q3=new uo,st=class t{constructor(e,n,r,a,i,o,s,l,u){t.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,a,i,o,s,l,u)}set(e,n,r,a,i,o,s,l,u){let c=this.elements;return c[0]=e,c[1]=a,c[2]=s,c[3]=n,c[4]=i,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){let r=e.elements,a=n.elements,i=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],p=r[5],m=r[8],y=a[0],v=a[3],h=a[6],g=a[1],x=a[4],b=a[7],_=a[2],M=a[5],A=a[8];return i[0]=o*y+s*g+l*_,i[3]=o*v+s*x+l*M,i[6]=o*h+s*b+l*A,i[1]=u*y+c*g+f*_,i[4]=u*v+c*x+f*M,i[7]=u*h+c*b+f*A,i[2]=d*y+p*g+m*_,i[5]=d*v+p*x+m*M,i[8]=d*h+p*b+m*A,this}multiplyScalar(e){let n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){let e=this.elements,n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*s*u-r*i*c+r*s*l+a*i*u-a*o*l}invert(){let e=this.elements,n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,d=s*l-c*i,p=u*i-o*l,m=n*f+r*d+a*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);let y=1/m;return e[0]=f*y,e[1]=(a*u-c*r)*y,e[2]=(s*r-a*o)*y,e[3]=d*y,e[4]=(c*n-a*l)*y,e[5]=(a*i-s*n)*y,e[6]=p*y,e[7]=(r*l-u*n)*y,e[8]=(o*n-r*i)*y,this}transpose(){let e,n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,a,i,o,s){let l=Math.cos(i),u=Math.sin(i);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-a*u,a*l,-a*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(Yw.makeScale(e,n)),this}rotate(e){return this.premultiply(Yw.makeRotation(-e)),this}translate(e,n){return this.premultiply(Yw.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){let n=this.elements,r=e.elements;for(let a=0;a<9;a++)if(n[a]!==r[a])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){let r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}},Yw=new st,W3=new st().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),j3=new st().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function TX(){let t={enabled:!0,workingColorSpace:Pu,spaces:{},convert:function(a,i,o){return this.enabled===!1||i===o||!i||!o||(this.spaces[i].transfer===Bt&&(a.r=rs(a.r),a.g=rs(a.g),a.b=rs(a.b)),this.spaces[i].primaries!==this.spaces[o].primaries&&(a.applyMatrix3(this.spaces[i].toXYZ),a.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===Bt&&(a.r=jf(a.r),a.g=jf(a.g),a.b=jf(a.b))),a},workingToColorSpace:function(a,i){return this.convert(a,this.workingColorSpace,i)},colorSpaceToWorking:function(a,i){return this.convert(a,i,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===ss?Xh:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,i=this.workingColorSpace){return a.fromArray(this.spaces[i].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,i,o){return a.copy(this.spaces[i].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,i){return Kh("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(a,i)},toWorkingColorSpace:function(a,i){return Kh("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(a,i)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Pu]:{primaries:e,whitePoint:r,transfer:Xh,toXYZ:W3,fromXYZ:j3,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:wa},outputColorSpaceConfig:{drawingBufferColorSpace:wa}},[wa]:{primaries:e,whitePoint:r,transfer:Bt,toXYZ:W3,fromXYZ:j3,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:wa}}}),t}var Et=TX();function rs(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function jf(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}var Df,Ux=class{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Df===void 0&&(Df=Yh("canvas")),Df.width=e.width,Df.height=e.height;let a=Df.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),r=Df}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let n=Yh("canvas");n.width=e.width,n.height=e.height;let r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let a=r.getImageData(0,0,e.width,e.height),i=a.data;for(let o=0;o<i.length;o++)i[o]=rs(i[o]/255)*255;return r.putImageData(a,0,0),n}else if(e.data){let n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(rs(n[r]/255)*255):n[r]=rs(n[r]);return{data:n,width:e.width,height:e.height}}else return Ze("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},IX=0,Zf=class{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:IX++}),this.uuid=ud(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){let n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},a=this.data;if(a!==null){let i;if(Array.isArray(a)){i=[];for(let o=0,s=a.length;o<s;o++)a[o].isDataTexture?i.push(Kw(a[o].image)):i.push(Kw(a[o]))}else i=Kw(a);r.url=i}return n||(e.images[this.uuid]=r),r}};function Kw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Ux.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Ze("Texture: Unable to serialize Texture."),{})}var LX=0,Zw=new $,ia=class t extends is{constructor(e=t.DEFAULT_IMAGE,n=t.DEFAULT_MAPPING,r=so,a=so,i=br,o=El,s=ni,l=sa,u=t.DEFAULT_ANISOTROPY,c=ss){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:LX++}),this.uuid=ud(),this.name="",this.source=new Zf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=a,this.magFilter=i,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new st,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Zw).x}get height(){return this.source.getSize(Zw).y}get depth(){return this.source.getSize(Zw).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(let n in e){let r=e[n];if(r===void 0){Ze(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}let a=this[n];if(a===void 0){Ze(`Texture.setValues(): property '${n}' does not exist.`);continue}a&&r&&a.isVector2&&r.isVector2||a&&r&&a.isVector3&&r.isVector3||a&&r&&a.isMatrix3&&r.isMatrix3?a.copy(r):this[n]=r}}toJSON(e){let n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==HC)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Dx:e.x=e.x-Math.floor(e.x);break;case so:e.x=e.x<0?0:1;break;case Nx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Dx:e.y=e.y-Math.floor(e.y);break;case so:e.y=e.y<0?0:1;break;case Nx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}};ia.DEFAULT_IMAGE=null;ia.DEFAULT_MAPPING=HC;ia.DEFAULT_ANISOTROPY=1;var wn=class t{constructor(e=0,n=0,r=0,a=1){t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,a){return this.x=e,this.y=n,this.z=r,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let n=this.x,r=this.y,a=this.z,i=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*a+o[12]*i,this.y=o[1]*n+o[5]*r+o[9]*a+o[13]*i,this.z=o[2]*n+o[6]*r+o[10]*a+o[14]*i,this.w=o[3]*n+o[7]*r+o[11]*a+o[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,a,i,l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],p=l[5],m=l[9],y=l[2],v=l[6],h=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-y)<.01&&Math.abs(m-v)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+y)<.1&&Math.abs(m+v)<.1&&Math.abs(u+p+h-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;let x=(u+1)/2,b=(p+1)/2,_=(h+1)/2,M=(c+d)/4,A=(f+y)/4,S=(m+v)/4;return x>b&&x>_?x<.01?(r=0,a=.707106781,i=.707106781):(r=Math.sqrt(x),a=M/r,i=A/r):b>_?b<.01?(r=.707106781,a=0,i=.707106781):(a=Math.sqrt(b),r=M/a,i=S/a):_<.01?(r=.707106781,a=.707106781,i=0):(i=Math.sqrt(_),r=A/i,a=S/i),this.set(r,a,i,n),this}let g=Math.sqrt((v-m)*(v-m)+(f-y)*(f-y)+(d-c)*(d-c));return Math.abs(g)<.001&&(g=1),this.x=(v-m)/g,this.y=(f-y)/g,this.z=(d-c)/g,this.w=Math.acos((u+p+h-1)/2),this}setFromMatrixPosition(e){let n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=yt(this.x,e.x,n.x),this.y=yt(this.y,e.y,n.y),this.z=yt(this.z,e.z,n.z),this.w=yt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=yt(this.x,e,n),this.y=yt(this.y,e,n),this.z=yt(this.z,e,n),this.w=yt(this.w,e,n),this}clampLength(e,n){let r=this.length();return this.divideScalar(r||1).multiplyScalar(yt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},Fx=class extends is{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:br,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new wn(0,0,e,n),this.scissorTest=!1,this.viewport=new wn(0,0,e,n),this.textures=[];let a={width:e,height:n,depth:r.depth},i=new ia(a),o=r.count;for(let s=0;s<o;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){let n={minFilter:br,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let a=0,i=this.textures.length;a<i;a++)this.textures[a].image.width=e,this.textures[a].image.height=n,this.textures[a].image.depth=r,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;let a=Object.assign({},e.textures[n].image);this.textures[n].source=new Zf(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Ea=class extends Fx{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}},Zh=class extends ia{constructor(e=null,n=1,r=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:a},this.magFilter=sr,this.minFilter=sr,this.wrapR=so,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}};var zx=class extends ia{constructor(e=null,n=1,r=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:a},this.magFilter=sr,this.minFilter=sr,this.wrapR=so,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var xn=class t{constructor(e,n,r,a,i,o,s,l,u,c,f,d,p,m,y,v){t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,a,i,o,s,l,u,c,f,d,p,m,y,v)}set(e,n,r,a,i,o,s,l,u,c,f,d,p,m,y,v){let h=this.elements;return h[0]=e,h[4]=n,h[8]=r,h[12]=a,h[1]=i,h[5]=o,h[9]=s,h[13]=l,h[2]=u,h[6]=c,h[10]=f,h[14]=d,h[3]=p,h[7]=m,h[11]=y,h[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new t().fromArray(this.elements)}copy(e){let n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){let n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){let n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();let n=this.elements,r=e.elements,a=1/Nf.setFromMatrixColumn(e,0).length(),i=1/Nf.setFromMatrixColumn(e,1).length(),o=1/Nf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*a,n[1]=r[1]*a,n[2]=r[2]*a,n[3]=0,n[4]=r[4]*i,n[5]=r[5]*i,n[6]=r[6]*i,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){let n=this.elements,r=e.x,a=e.y,i=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(a),u=Math.sin(a),c=Math.cos(i),f=Math.sin(i);if(e.order==="XYZ"){let d=o*c,p=o*f,m=s*c,y=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=p+m*u,n[5]=d-y*u,n[9]=-s*l,n[2]=y-d*u,n[6]=m+p*u,n[10]=o*l}else if(e.order==="YXZ"){let d=l*c,p=l*f,m=u*c,y=u*f;n[0]=d+y*s,n[4]=m*s-p,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-s,n[2]=p*s-m,n[6]=y+d*s,n[10]=o*l}else if(e.order==="ZXY"){let d=l*c,p=l*f,m=u*c,y=u*f;n[0]=d-y*s,n[4]=-o*f,n[8]=m+p*s,n[1]=p+m*s,n[5]=o*c,n[9]=y-d*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){let d=o*c,p=o*f,m=s*c,y=s*f;n[0]=l*c,n[4]=m*u-p,n[8]=d*u+y,n[1]=l*f,n[5]=y*u+d,n[9]=p*u-m,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){let d=o*l,p=o*u,m=s*l,y=s*u;n[0]=l*c,n[4]=y-d*f,n[8]=m*f+p,n[1]=f,n[5]=o*c,n[9]=-s*c,n[2]=-u*c,n[6]=p*f+m,n[10]=d-y*f}else if(e.order==="XZY"){let d=o*l,p=o*u,m=s*l,y=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+y,n[5]=o*c,n[9]=p*f-m,n[2]=m*f-p,n[6]=s*c,n[10]=y*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(PX,e,RX)}lookAt(e,n,r){let a=this.elements;return Ma.subVectors(e,n),Ma.lengthSq()===0&&(Ma.z=1),Ma.normalize(),pl.crossVectors(r,Ma),pl.lengthSq()===0&&(Math.abs(r.z)===1?Ma.x+=1e-4:Ma.z+=1e-4,Ma.normalize(),pl.crossVectors(r,Ma)),pl.normalize(),Qy.crossVectors(Ma,pl),a[0]=pl.x,a[4]=Qy.x,a[8]=Ma.x,a[1]=pl.y,a[5]=Qy.y,a[9]=Ma.y,a[2]=pl.z,a[6]=Qy.z,a[10]=Ma.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){let r=e.elements,a=n.elements,i=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],p=r[13],m=r[2],y=r[6],v=r[10],h=r[14],g=r[3],x=r[7],b=r[11],_=r[15],M=a[0],A=a[4],S=a[8],w=a[12],U=a[1],D=a[5],k=a[9],z=a[13],V=a[2],W=a[6],C=a[10],L=a[14],B=a[3],R=a[7],T=a[11],P=a[15];return i[0]=o*M+s*U+l*V+u*B,i[4]=o*A+s*D+l*W+u*R,i[8]=o*S+s*k+l*C+u*T,i[12]=o*w+s*z+l*L+u*P,i[1]=c*M+f*U+d*V+p*B,i[5]=c*A+f*D+d*W+p*R,i[9]=c*S+f*k+d*C+p*T,i[13]=c*w+f*z+d*L+p*P,i[2]=m*M+y*U+v*V+h*B,i[6]=m*A+y*D+v*W+h*R,i[10]=m*S+y*k+v*C+h*T,i[14]=m*w+y*z+v*L+h*P,i[3]=g*M+x*U+b*V+_*B,i[7]=g*A+x*D+b*W+_*R,i[11]=g*S+x*k+b*C+_*T,i[15]=g*w+x*z+b*L+_*P,this}multiplyScalar(e){let n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){let e=this.elements,n=e[0],r=e[4],a=e[8],i=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],p=e[14],m=e[3],y=e[7],v=e[11],h=e[15],g=l*p-u*d,x=s*p-u*f,b=s*d-l*f,_=o*p-u*c,M=o*d-l*c,A=o*f-s*c;return n*(y*g-v*x+h*b)-r*(m*g-v*_+h*M)+a*(m*x-y*_+h*A)-i*(m*b-y*M+v*A)}transpose(){let e=this.elements,n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){let a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=n,a[14]=r),this}invert(){let e=this.elements,n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],m=e[12],y=e[13],v=e[14],h=e[15],g=n*s-r*o,x=n*l-a*o,b=n*u-i*o,_=r*l-a*s,M=r*u-i*s,A=a*u-i*l,S=c*y-f*m,w=c*v-d*m,U=c*h-p*m,D=f*v-d*y,k=f*h-p*y,z=d*h-p*v,V=g*z-x*k+b*D+_*U-M*w+A*S;if(V===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let W=1/V;return e[0]=(s*z-l*k+u*D)*W,e[1]=(a*k-r*z-i*D)*W,e[2]=(y*A-v*M+h*_)*W,e[3]=(d*M-f*A-p*_)*W,e[4]=(l*U-o*z-u*w)*W,e[5]=(n*z-a*U+i*w)*W,e[6]=(v*b-m*A-h*x)*W,e[7]=(c*A-d*b+p*x)*W,e[8]=(o*k-s*U+u*S)*W,e[9]=(r*U-n*k-i*S)*W,e[10]=(m*M-y*b+h*g)*W,e[11]=(f*b-c*M-p*g)*W,e[12]=(s*w-o*D-l*S)*W,e[13]=(n*D-r*w+a*S)*W,e[14]=(y*x-m*_-v*g)*W,e[15]=(c*_-f*x+d*g)*W,this}scale(e){let n=this.elements,r=e.x,a=e.y,i=e.z;return n[0]*=r,n[4]*=a,n[8]*=i,n[1]*=r,n[5]*=a,n[9]*=i,n[2]*=r,n[6]*=a,n[10]*=i,n[3]*=r,n[7]*=a,n[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,a))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){let n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){let n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){let r=Math.cos(n),a=Math.sin(n),i=1-r,o=e.x,s=e.y,l=e.z,u=i*o,c=i*s;return this.set(u*o+r,u*s-a*l,u*l+a*s,0,u*s+a*l,c*s+r,c*l-a*o,0,u*l-a*s,c*l+a*o,i*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,a,i,o){return this.set(1,r,i,0,e,1,o,0,n,a,1,0,0,0,0,1),this}compose(e,n,r){let a=this.elements,i=n._x,o=n._y,s=n._z,l=n._w,u=i+i,c=o+o,f=s+s,d=i*u,p=i*c,m=i*f,y=o*c,v=o*f,h=s*f,g=l*u,x=l*c,b=l*f,_=r.x,M=r.y,A=r.z;return a[0]=(1-(y+h))*_,a[1]=(p+b)*_,a[2]=(m-x)*_,a[3]=0,a[4]=(p-b)*M,a[5]=(1-(d+h))*M,a[6]=(v+g)*M,a[7]=0,a[8]=(m+x)*A,a[9]=(v-g)*A,a[10]=(1-(d+y))*A,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,n,r){let a=this.elements;e.x=a[12],e.y=a[13],e.z=a[14];let i=this.determinant();if(i===0)return r.set(1,1,1),n.identity(),this;let o=Nf.set(a[0],a[1],a[2]).length(),s=Nf.set(a[4],a[5],a[6]).length(),l=Nf.set(a[8],a[9],a[10]).length();i<0&&(o=-o),Ri.copy(this);let u=1/o,c=1/s,f=1/l;return Ri.elements[0]*=u,Ri.elements[1]*=u,Ri.elements[2]*=u,Ri.elements[4]*=c,Ri.elements[5]*=c,Ri.elements[6]*=c,Ri.elements[8]*=f,Ri.elements[9]*=f,Ri.elements[10]*=f,n.setFromRotationMatrix(Ri),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,a,i,o,s=Ni,l=!1){let u=this.elements,c=2*i/(n-e),f=2*i/(r-a),d=(n+e)/(n-e),p=(r+a)/(r-a),m,y;if(l)m=i/(o-i),y=o*i/(o-i);else if(s===Ni)m=-(o+i)/(o-i),y=-2*o*i/(o-i);else if(s===Yf)m=-o/(o-i),y=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=d,u[12]=0,u[1]=0,u[5]=f,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=y,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,a,i,o,s=Ni,l=!1){let u=this.elements,c=2/(n-e),f=2/(r-a),d=-(n+e)/(n-e),p=-(r+a)/(r-a),m,y;if(l)m=1/(o-i),y=o/(o-i);else if(s===Ni)m=-2/(o-i),y=-(o+i)/(o-i);else if(s===Yf)m=-1/(o-i),y=-i/(o-i);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=d,u[1]=0,u[5]=f,u[9]=0,u[13]=p,u[2]=0,u[6]=0,u[10]=m,u[14]=y,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){let n=this.elements,r=e.elements;for(let a=0;a<16;a++)if(n[a]!==r[a])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){let r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}},Nf=new $,Ri=new xn,PX=new $(0,0,0),RX=new $(1,1,1),pl=new $,Qy=new $,Ma=new $,X3=new xn,Y3=new uo,ki=class t{constructor(e=0,n=0,r=0,a=t.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,a=this._order){return this._x=e,this._y=n,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){let a=e.elements,i=a[0],o=a[4],s=a[8],l=a[1],u=a[5],c=a[9],f=a[2],d=a[6],p=a[10];switch(n){case"XYZ":this._y=Math.asin(yt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-yt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,i),this._z=0);break;case"ZXY":this._x=Math.asin(yt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,i));break;case"ZYX":this._y=Math.asin(-yt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,i)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(yt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,i)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-yt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,p),this._y=0);break;default:Ze("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return X3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(X3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Y3.setFromEuler(this),this.setFromQuaternion(Y3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};ki.DEFAULT_ORDER="XYZ";var $h=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},OX=0,K3=new $,kf=new uo,$o=new xn,ex=new $,Fh=new $,DX=new $,NX=new uo,Z3=new $(1,0,0),$3=new $(0,1,0),J3=new $(0,0,1),Q3={type:"added"},kX={type:"removed"},Bf={type:"childadded",child:null},$w={type:"childremoved",child:null},Tr=class t extends is{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:OX++}),this.uuid=ud(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=t.DEFAULT_UP.clone();let e=new $,n=new ki,r=new uo,a=new $(1,1,1);function i(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(i),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new xn},normalMatrix:{value:new st}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=t.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $h,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return kf.setFromAxisAngle(e,n),this.quaternion.multiply(kf),this}rotateOnWorldAxis(e,n){return kf.setFromAxisAngle(e,n),this.quaternion.premultiply(kf),this}rotateX(e){return this.rotateOnAxis(Z3,e)}rotateY(e){return this.rotateOnAxis($3,e)}rotateZ(e){return this.rotateOnAxis(J3,e)}translateOnAxis(e,n){return K3.copy(e).applyQuaternion(this.quaternion),this.position.add(K3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Z3,e)}translateY(e){return this.translateOnAxis($3,e)}translateZ(e){return this.translateOnAxis(J3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($o.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ex.copy(e):ex.set(e,n,r);let a=this.parent;this.updateWorldMatrix(!0,!1),Fh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$o.lookAt(Fh,ex,this.up):$o.lookAt(ex,Fh,this.up),this.quaternion.setFromRotationMatrix($o),a&&($o.extractRotation(a.matrixWorld),kf.setFromRotationMatrix($o),this.quaternion.premultiply(kf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(Ke("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Q3),Bf.child=e,this.dispatchEvent(Bf),Bf.child=null):Ke("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(kX),$w.child=e,this.dispatchEvent($w),$w.child=null),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),$o.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$o.multiply(e.parent.matrixWorld)),e.applyMatrix4($o),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Q3),Bf.child=e,this.dispatchEvent(Bf),Bf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,a=this.children.length;r<a;r++){let o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);let a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fh,e,DX),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Fh,NX,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);let n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverseVisible(e)}traverseAncestors(e){let n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);let e=this.pivot;if(e!==null){let n=e.x,r=e.y,a=e.z,i=this.matrix.elements;i[12]+=n-i[0]*n-i[4]*r-i[8]*a,i[13]+=r-i[1]*n-i[5]*r-i[9]*a,i[14]+=a-i[2]*n-i[6]*r-i[10]*a}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);let n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){let a=this.children;for(let i=0,o=a.length;i<o;i++)a[i].updateWorldMatrix(!1,!0)}}toJSON(e){let n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});let a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),this.static!==!1&&(a.static=this.static),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.pivot!==null&&(a.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(a.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(a.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(s=>({...s})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function i(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=i(e.geometries,this.geometry);let s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){let l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){let f=l[u];i(e.shapes,f)}else i(e.shapes,l)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(i(e.materials,this.material[l]));a.material=s}else a.material=i(e.materials,this.material);if(this.children.length>0){a.children=[];for(let s=0;s<this.children.length;s++)a.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let s=0;s<this.animations.length;s++){let l=this.animations[s];a.animations.push(i(e.animations,l))}}if(n){let s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),m=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=a,r;function o(s){let l=[];for(let u in s){let c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){let a=e.children[r];this.add(a.clone())}return this}};Tr.DEFAULT_UP=new $(0,1,0);Tr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Tr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var ns=class extends Tr{constructor(){super(),this.isGroup=!0,this.type="Group"}},BX={type:"move"},$f=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ns,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ns,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ns,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let n=this._hand;if(n)for(let r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let a=null,i=null,o=null,s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(let y of e.hand.values()){let v=n.getJointPose(y,r),h=this._getHandJoint(u,y);v!==null&&(h.matrix.fromArray(v.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,h.jointRadius=v.radius),h.visible=v!==null}let c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),p=.02,m=.005;u.inputState.pinching&&d>p+m?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=p-m&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(i=n.getPose(e.gripSpace,r),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(a=n.getPose(e.targetRaySpace,r),a===null&&i!==null&&(a=i),a!==null&&(s.matrix.fromArray(a.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,a.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(a.linearVelocity)):s.hasLinearVelocity=!1,a.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(a.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(BX)))}return s!==null&&(s.visible=a!==null),l!==null&&(l.visible=i!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){let r=new ns;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}},$k={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hl={h:0,s:0,l:0},tx={h:0,s:0,l:0};function Jw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}var lt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){let a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Et.colorSpaceToWorking(this,n),this}setRGB(e,n,r,a=Et.workingColorSpace){return this.r=e,this.g=n,this.b=r,Et.colorSpaceToWorking(this,a),this}setHSL(e,n,r,a=Et.workingColorSpace){if(e=EX(e,1),n=yt(n,0,1),r=yt(r,0,1),n===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+n):r+n-r*n,o=2*r-i;this.r=Jw(o,i,e+1/3),this.g=Jw(o,i,e),this.b=Jw(o,i,e-1/3)}return Et.colorSpaceToWorking(this,a),this}setStyle(e,n=wa){function r(i){i!==void 0&&parseFloat(i)<1&&Ze("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let i,o=a[1],s=a[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:Ze("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=a[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(i,16),n);Ze("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wa){let r=$k[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Ze("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rs(e.r),this.g=rs(e.g),this.b=rs(e.b),this}copyLinearToSRGB(e){return this.r=jf(e.r),this.g=jf(e.g),this.b=jf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wa){return Et.workingToColorSpace(Cr.copy(this),e),Math.round(yt(Cr.r*255,0,255))*65536+Math.round(yt(Cr.g*255,0,255))*256+Math.round(yt(Cr.b*255,0,255))}getHexString(e=wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Et.workingColorSpace){Et.workingToColorSpace(Cr.copy(this),n);let r=Cr.r,a=Cr.g,i=Cr.b,o=Math.max(r,a,i),s=Math.min(r,a,i),l,u,c=(s+o)/2;if(s===o)l=0,u=0;else{let f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(a-i)/f+(a<i?6:0);break;case a:l=(i-r)/f+2;break;case i:l=(r-a)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Et.workingColorSpace){return Et.workingToColorSpace(Cr.copy(this),n),e.r=Cr.r,e.g=Cr.g,e.b=Cr.b,e}getStyle(e=wa){Et.workingToColorSpace(Cr.copy(this),e);let n=Cr.r,r=Cr.g,a=Cr.b;return e!==wa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(a*255)})`}offsetHSL(e,n,r){return this.getHSL(hl),this.setHSL(hl.h+e,hl.s+n,hl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(hl),e.getHSL(tx);let r=jw(hl.h,tx.h,n),a=jw(hl.s,tx.s,n),i=jw(hl.l,tx.l,n);return this.setHSL(r,a,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let n=this.r,r=this.g,a=this.b,i=e.elements;return this.r=i[0]*n+i[3]*r+i[6]*a,this.g=i[1]*n+i[4]*r+i[7]*a,this.b=i[2]*n+i[5]*r+i[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}},Cr=new lt;lt.NAMES=$k;var Jh=class t{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=n,this.far=r}clone(){return new t(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}},Qh=class extends Tr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ki,this.environmentIntensity=1,this.environmentRotation=new ki,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}},Oi=new $,Jo=new $,Qw=new $,Qo=new $,Uf=new $,Ff=new $,ek=new $,eC=new $,tC=new $,nC=new $,rC=new wn,aC=new wn,iC=new wn,xl=class t{constructor(e=new $,n=new $,r=new $){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,a){a.subVectors(r,n),Oi.subVectors(e,n),a.cross(Oi);let i=a.lengthSq();return i>0?a.multiplyScalar(1/Math.sqrt(i)):a.set(0,0,0)}static getBarycoord(e,n,r,a,i){Oi.subVectors(a,n),Jo.subVectors(r,n),Qw.subVectors(e,n);let o=Oi.dot(Oi),s=Oi.dot(Jo),l=Oi.dot(Qw),u=Jo.dot(Jo),c=Jo.dot(Qw),f=o*u-s*s;if(f===0)return i.set(0,0,0),null;let d=1/f,p=(u*l-s*c)*d,m=(o*c-s*l)*d;return i.set(1-p-m,m,p)}static containsPoint(e,n,r,a){return this.getBarycoord(e,n,r,a,Qo)===null?!1:Qo.x>=0&&Qo.y>=0&&Qo.x+Qo.y<=1}static getInterpolation(e,n,r,a,i,o,s,l){return this.getBarycoord(e,n,r,a,Qo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(i,Qo.x),l.addScaledVector(o,Qo.y),l.addScaledVector(s,Qo.z),l)}static getInterpolatedAttribute(e,n,r,a,i,o){return rC.setScalar(0),aC.setScalar(0),iC.setScalar(0),rC.fromBufferAttribute(e,n),aC.fromBufferAttribute(e,r),iC.fromBufferAttribute(e,a),o.setScalar(0),o.addScaledVector(rC,i.x),o.addScaledVector(aC,i.y),o.addScaledVector(iC,i.z),o}static isFrontFacing(e,n,r,a){return Oi.subVectors(r,n),Jo.subVectors(e,n),Oi.cross(Jo).dot(a)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,a){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,n,r,a){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Oi.subVectors(this.c,this.b),Jo.subVectors(this.a,this.b),Oi.cross(Jo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return t.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,a,i){return t.getInterpolation(e,this.a,this.b,this.c,n,r,a,i)}containsPoint(e){return t.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return t.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){let r=this.a,a=this.b,i=this.c,o,s;Uf.subVectors(a,r),Ff.subVectors(i,r),eC.subVectors(e,r);let l=Uf.dot(eC),u=Ff.dot(eC);if(l<=0&&u<=0)return n.copy(r);tC.subVectors(e,a);let c=Uf.dot(tC),f=Ff.dot(tC);if(c>=0&&f<=c)return n.copy(a);let d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Uf,o);nC.subVectors(e,i);let p=Uf.dot(nC),m=Ff.dot(nC);if(m>=0&&p<=m)return n.copy(i);let y=p*u-l*m;if(y<=0&&u>=0&&m<=0)return s=u/(u-m),n.copy(r).addScaledVector(Ff,s);let v=c*m-p*f;if(v<=0&&f-c>=0&&p-m>=0)return ek.subVectors(i,a),s=(f-c)/(f-c+(p-m)),n.copy(a).addScaledVector(ek,s);let h=1/(v+y+d);return o=y*h,s=d*h,n.copy(r).addScaledVector(Uf,o).addScaledVector(Ff,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Sl=class{constructor(e=new $(1/0,1/0,1/0),n=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Di.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Di.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){let r=Di.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0){let i=r.getAttribute("position");if(n===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=i.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Di):Di.fromBufferAttribute(i,o),Di.applyMatrix4(e.matrixWorld),this.expandByPoint(Di);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),nx.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),nx.copy(r.boundingBox)),nx.applyMatrix4(e.matrixWorld),this.union(nx)}let a=e.children;for(let i=0,o=a.length;i<o;i++)this.expandByObject(a[i],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Di),Di.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(zh),rx.subVectors(this.max,zh),zf.subVectors(e.a,zh),Hf.subVectors(e.b,zh),Vf.subVectors(e.c,zh),ml.subVectors(Hf,zf),gl.subVectors(Vf,Hf),Au.subVectors(zf,Vf);let n=[0,-ml.z,ml.y,0,-gl.z,gl.y,0,-Au.z,Au.y,ml.z,0,-ml.x,gl.z,0,-gl.x,Au.z,0,-Au.x,-ml.y,ml.x,0,-gl.y,gl.x,0,-Au.y,Au.x,0];return!oC(n,zf,Hf,Vf,rx)||(n=[1,0,0,0,1,0,0,0,1],!oC(n,zf,Hf,Vf,rx))?!1:(ax.crossVectors(ml,gl),n=[ax.x,ax.y,ax.z],oC(n,zf,Hf,Vf,rx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Di).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Di).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(es[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),es[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),es[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),es[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),es[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),es[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),es[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),es[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(es),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}},es=[new $,new $,new $,new $,new $,new $,new $,new $],Di=new $,nx=new Sl,zf=new $,Hf=new $,Vf=new $,ml=new $,gl=new $,Au=new $,zh=new $,rx=new $,ax=new $,wu=new $;function oC(t,e,n,r,a){for(let i=0,o=t.length-3;i<=o;i+=3){wu.fromArray(t,i);let s=a.x*Math.abs(wu.x)+a.y*Math.abs(wu.y)+a.z*Math.abs(wu.z),l=e.dot(wu),u=n.dot(wu),c=r.dot(wu);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Wn=new $,ix=new Ue,UX=0,Ca=class{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:UX++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=MC,this.updateRanges=[],this.gpuType=Fi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let a=0,i=this.itemSize;a<i;a++)this.array[e+a]=n.array[r+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ix.fromBufferAttribute(this,n),ix.applyMatrix3(e),this.setXY(n,ix.x,ix.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyMatrix3(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyMatrix4(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.applyNormalMatrix(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wn.fromBufferAttribute(this,n),Wn.transformDirection(e),this.setXYZ(n,Wn.x,Wn.y,Wn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Uh(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=aa(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Uh(n,this.array)),n}setX(e,n){return this.normalized&&(n=aa(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Uh(n,this.array)),n}setY(e,n){return this.normalized&&(n=aa(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Uh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=aa(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Uh(n,this.array)),n}setW(e,n){return this.normalized&&(n=aa(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=aa(n,this.array),r=aa(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,a){return e*=this.itemSize,this.normalized&&(n=aa(n,this.array),r=aa(r,this.array),a=aa(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=a,this}setXYZW(e,n,r,a,i){return e*=this.itemSize,this.normalized&&(n=aa(n,this.array),r=aa(r,this.array),a=aa(a,this.array),i=aa(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=a,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==MC&&(e.usage=this.usage),e}};var em=class extends Ca{constructor(e,n,r){super(new Uint16Array(e),n,r)}};var tm=class extends Ca{constructor(e,n,r){super(new Uint32Array(e),n,r)}};var Kt=class extends Ca{constructor(e,n,r){super(new Float32Array(e),n,r)}},FX=new Sl,Hh=new $,sC=new $,Ru=class{constructor(e=new $,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){let r=this.center;n!==void 0?r.copy(n):FX.setFromPoints(e).getCenter(r);let a=0;for(let i=0,o=e.length;i<o;i++)a=Math.max(a,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){let r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hh.subVectors(e,this.center);let n=Hh.lengthSq();if(n>this.radius*this.radius){let r=Math.sqrt(n),a=(r-this.radius)*.5;this.center.addScaledVector(Hh,a/r),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hh.copy(e.center).add(sC)),this.expandByPoint(Hh.copy(e.center).sub(sC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}},zX=0,ti=new xn,lC=new Tr,Gf=new $,Aa=new Sl,Vh=new Sl,or=new $,lr=class t extends is{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zX++}),this.uuid=ud(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wX(e)?tm:em)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){let n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let i=new st().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}let a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ti.makeRotationFromQuaternion(e),this.applyMatrix4(ti),this}rotateX(e){return ti.makeRotationX(e),this.applyMatrix4(ti),this}rotateY(e){return ti.makeRotationY(e),this.applyMatrix4(ti),this}rotateZ(e){return ti.makeRotationZ(e),this.applyMatrix4(ti),this}translate(e,n,r){return ti.makeTranslation(e,n,r),this.applyMatrix4(ti),this}scale(e,n,r){return ti.makeScale(e,n,r),this.applyMatrix4(ti),this}lookAt(e){return lC.lookAt(e),lC.updateMatrix(),this.applyMatrix4(lC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gf).negate(),this.translate(Gf.x,Gf.y,Gf.z),this}setFromPoints(e){let n=this.getAttribute("position");if(n===void 0){let r=[];for(let a=0,i=e.length;a<i;a++){let o=e[a];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Kt(r,3))}else{let r=Math.min(e.length,n.count);for(let a=0;a<r;a++){let i=e[a];n.setXYZ(a,i.x,i.y,i.z||0)}e.length>n.count&&Ze("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sl);let e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ke("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,a=n.length;r<a;r++){let i=n[r];Aa.setFromBufferAttribute(i),this.morphTargetsRelative?(or.addVectors(this.boundingBox.min,Aa.min),this.boundingBox.expandByPoint(or),or.addVectors(this.boundingBox.max,Aa.max),this.boundingBox.expandByPoint(or)):(this.boundingBox.expandByPoint(Aa.min),this.boundingBox.expandByPoint(Aa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ke('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ru);let e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ke("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new $,1/0);return}if(e){let r=this.boundingSphere.center;if(Aa.setFromBufferAttribute(e),n)for(let i=0,o=n.length;i<o;i++){let s=n[i];Vh.setFromBufferAttribute(s),this.morphTargetsRelative?(or.addVectors(Aa.min,Vh.min),Aa.expandByPoint(or),or.addVectors(Aa.max,Vh.max),Aa.expandByPoint(or)):(Aa.expandByPoint(Vh.min),Aa.expandByPoint(Vh.max))}Aa.getCenter(r);let a=0;for(let i=0,o=e.count;i<o;i++)or.fromBufferAttribute(e,i),a=Math.max(a,r.distanceToSquared(or));if(n)for(let i=0,o=n.length;i<o;i++){let s=n[i],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)or.fromBufferAttribute(s,u),l&&(Gf.fromBufferAttribute(e,u),or.add(Gf)),a=Math.max(a,r.distanceToSquared(or))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&Ke('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){Ke("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=n.position,a=n.normal,i=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ca(new Float32Array(4*r.count),4));let o=this.getAttribute("tangent"),s=[],l=[];for(let S=0;S<r.count;S++)s[S]=new $,l[S]=new $;let u=new $,c=new $,f=new $,d=new Ue,p=new Ue,m=new Ue,y=new $,v=new $;function h(S,w,U){u.fromBufferAttribute(r,S),c.fromBufferAttribute(r,w),f.fromBufferAttribute(r,U),d.fromBufferAttribute(i,S),p.fromBufferAttribute(i,w),m.fromBufferAttribute(i,U),c.sub(u),f.sub(u),p.sub(d),m.sub(d);let D=1/(p.x*m.y-m.x*p.y);isFinite(D)&&(y.copy(c).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(D),v.copy(f).multiplyScalar(p.x).addScaledVector(c,-m.x).multiplyScalar(D),s[S].add(y),s[w].add(y),s[U].add(y),l[S].add(v),l[w].add(v),l[U].add(v))}let g=this.groups;g.length===0&&(g=[{start:0,count:e.count}]);for(let S=0,w=g.length;S<w;++S){let U=g[S],D=U.start,k=U.count;for(let z=D,V=D+k;z<V;z+=3)h(e.getX(z+0),e.getX(z+1),e.getX(z+2))}let x=new $,b=new $,_=new $,M=new $;function A(S){_.fromBufferAttribute(a,S),M.copy(_);let w=s[S];x.copy(w),x.sub(_.multiplyScalar(_.dot(w))).normalize(),b.crossVectors(M,w);let D=b.dot(l[S])<0?-1:1;o.setXYZW(S,x.x,x.y,x.z,D)}for(let S=0,w=g.length;S<w;++S){let U=g[S],D=U.start,k=U.count;for(let z=D,V=D+k;z<V;z+=3)A(e.getX(z+0)),A(e.getX(z+1)),A(e.getX(z+2))}}computeVertexNormals(){let e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Ca(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);let a=new $,i=new $,o=new $,s=new $,l=new $,u=new $,c=new $,f=new $;if(e)for(let d=0,p=e.count;d<p;d+=3){let m=e.getX(d+0),y=e.getX(d+1),v=e.getX(d+2);a.fromBufferAttribute(n,m),i.fromBufferAttribute(n,y),o.fromBufferAttribute(n,v),c.subVectors(o,i),f.subVectors(a,i),c.cross(f),s.fromBufferAttribute(r,m),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,v),s.add(c),l.add(c),u.add(c),r.setXYZ(m,s.x,s.y,s.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let d=0,p=n.count;d<p;d+=3)a.fromBufferAttribute(n,d+0),i.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),c.subVectors(o,i),f.subVectors(a,i),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){let e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)or.fromBufferAttribute(e,n),or.normalize(),e.setXYZ(n,or.x,or.y,or.z)}toNonIndexed(){function e(s,l){let u=s.array,c=s.itemSize,f=s.normalized,d=new u.constructor(l.length*c),p=0,m=0;for(let y=0,v=l.length;y<v;y++){s.isInterleavedBufferAttribute?p=l[y]*s.data.stride+s.offset:p=l[y]*c;for(let h=0;h<c;h++)d[m++]=u[p++]}return new Ca(d,c,f)}if(this.index===null)return Ze("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let n=new t,r=this.index.array,a=this.attributes;for(let s in a){let l=a[s],u=e(l,r);n.setAttribute(s,u)}let i=this.morphAttributes;for(let s in i){let l=[],u=i[s];for(let c=0,f=u.length;c<f;c++){let d=u[c],p=e(d,r);l.push(p)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let s=0,l=o.length;s<l;s++){let u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){let e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};let n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});let r=this.attributes;for(let l in r){let u=r[l];e.data.attributes[l]=u.toJSON(e.data)}let a={},i=!1;for(let l in this.morphAttributes){let u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){let p=u[f];c.push(p.toJSON(e.data))}c.length>0&&(a[l]=c,i=!0)}i&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let n={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone());let a=e.attributes;for(let u in a){let c=a[u];this.setAttribute(u,c.clone(n))}let i=e.morphAttributes;for(let u in i){let c=[],f=i[u];for(let d=0,p=f.length;d<p;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let u=0,c=o.length;u<c;u++){let f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}};var HX=0,os=class extends is{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:HX++}),this.uuid=ud(),this.name="",this.type="Material",this.blending=Iu,this.side=as,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wx,this.blendDst=Cx,this.blendEquation=bl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new lt(0,0,0),this.blendAlpha=0,this.depthFunc=Lu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_C,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Tu,this.stencilZFail=Tu,this.stencilZPass=Tu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let n in e){let r=e[n];if(r===void 0){Ze(`Material: parameter '${n}' has value of undefined.`);continue}let a=this[n];if(a===void 0){Ze(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(r):a&&a.isVector3&&r&&r.isVector3?a.copy(r):this[n]=r}}toJSON(e){let n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});let r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Iu&&(r.blending=this.blending),this.side!==as&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==wx&&(r.blendSrc=this.blendSrc),this.blendDst!==Cx&&(r.blendDst=this.blendDst),this.blendEquation!==bl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Lu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_C&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Tu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Tu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Tu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function a(i){let o=[];for(let s in i){let l=i[s];delete l.metadata,o.push(l)}return o}if(n){let i=a(e.textures),o=a(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let n=e.clippingPlanes,r=null;if(n!==null){let a=n.length;r=new Array(a);for(let i=0;i!==a;++i)r[i]=n[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};var ts=new $,uC=new $,ox=new $,vl=new $,cC=new $,sx=new $,fC=new $,nm=class{constructor(e=new $,n=new $(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ts)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);let r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let n=ts.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ts.copy(this.origin).addScaledVector(this.direction,n),ts.distanceToSquared(e))}distanceSqToSegment(e,n,r,a){uC.copy(e).add(n).multiplyScalar(.5),ox.copy(n).sub(e).normalize(),vl.copy(this.origin).sub(uC);let i=e.distanceTo(n)*.5,o=-this.direction.dot(ox),s=vl.dot(this.direction),l=-vl.dot(ox),u=vl.lengthSq(),c=Math.abs(1-o*o),f,d,p,m;if(c>0)if(f=o*l-s,d=o*s-l,m=i*c,f>=0)if(d>=-m)if(d<=m){let y=1/c;f*=y,d*=y,p=f*(f+o*d+2*s)+d*(o*f+d+2*l)+u}else d=i,f=Math.max(0,-(o*d+s)),p=-f*f+d*(d+2*l)+u;else d=-i,f=Math.max(0,-(o*d+s)),p=-f*f+d*(d+2*l)+u;else d<=-m?(f=Math.max(0,-(-o*i+s)),d=f>0?-i:Math.min(Math.max(-i,-l),i),p=-f*f+d*(d+2*l)+u):d<=m?(f=0,d=Math.min(Math.max(-i,-l),i),p=d*(d+2*l)+u):(f=Math.max(0,-(o*i+s)),d=f>0?i:Math.min(Math.max(-i,-l),i),p=-f*f+d*(d+2*l)+u);else d=o>0?-i:i,f=Math.max(0,-(o*d+s)),p=-f*f+d*(d+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),a&&a.copy(uC).addScaledVector(ox,d),p}intersectSphere(e,n){ts.subVectors(e.center,this.origin);let r=ts.dot(this.direction),a=ts.dot(ts)-r*r,i=e.radius*e.radius;if(a>i)return null;let o=Math.sqrt(i-a),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){let r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){let n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,a,i,o,s,l,u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,a=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,a=(e.min.x-d.x)*u),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||i>a||((i>r||isNaN(r))&&(r=i),(o<a||isNaN(a))&&(a=o),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>a)||((s>r||r!==r)&&(r=s),(l<a||a!==a)&&(a=l),a<0)?null:this.at(r>=0?r:a,n)}intersectsBox(e){return this.intersectBox(e,ts)!==null}intersectTriangle(e,n,r,a,i){cC.subVectors(n,e),sx.subVectors(r,e),fC.crossVectors(cC,sx);let o=this.direction.dot(fC),s;if(o>0){if(a)return null;s=1}else if(o<0)s=-1,o=-o;else return null;vl.subVectors(this.origin,e);let l=s*this.direction.dot(sx.crossVectors(vl,sx));if(l<0)return null;let u=s*this.direction.dot(cC.cross(vl));if(u<0||l+u>o)return null;let c=-s*vl.dot(fC);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Ou=class extends os{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ki,this.combine=c0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},tk=new xn,Cu=new nm,lx=new Ru,nk=new $,ux=new $,cx=new $,fx=new $,dC=new $,dx=new $,rk=new $,px=new $,hn=class extends Tr{constructor(e=new lr,n=new Ou){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){let n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){let a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){let s=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}getVertexPosition(e,n){let r=this.geometry,a=r.attributes.position,i=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(a,e);let s=this.morphTargetInfluences;if(i&&s){dx.set(0,0,0);for(let l=0,u=i.length;l<u;l++){let c=s[l],f=i[l];c!==0&&(dC.fromBufferAttribute(f,e),o?dx.addScaledVector(dC,c):dx.addScaledVector(dC.sub(n),c))}n.add(dx)}return n}raycast(e,n){let r=this.geometry,a=this.material,i=this.matrixWorld;a!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),lx.copy(r.boundingSphere),lx.applyMatrix4(i),Cu.copy(e.ray).recast(e.near),!(lx.containsPoint(Cu.origin)===!1&&(Cu.intersectSphere(lx,nk)===null||Cu.origin.distanceToSquared(nk)>(e.far-e.near)**2))&&(tk.copy(i).invert(),Cu.copy(e.ray).applyMatrix4(tk),!(r.boundingBox!==null&&Cu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Cu)))}_computeIntersections(e,n,r){let a,i=this.geometry,o=this.material,s=i.index,l=i.attributes.position,u=i.attributes.uv,c=i.attributes.uv1,f=i.attributes.normal,d=i.groups,p=i.drawRange;if(s!==null)if(Array.isArray(o))for(let m=0,y=d.length;m<y;m++){let v=d[m],h=o[v.materialIndex],g=Math.max(v.start,p.start),x=Math.min(s.count,Math.min(v.start+v.count,p.start+p.count));for(let b=g,_=x;b<_;b+=3){let M=s.getX(b),A=s.getX(b+1),S=s.getX(b+2);a=hx(this,h,e,r,u,c,f,M,A,S),a&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=v.materialIndex,n.push(a))}}else{let m=Math.max(0,p.start),y=Math.min(s.count,p.start+p.count);for(let v=m,h=y;v<h;v+=3){let g=s.getX(v),x=s.getX(v+1),b=s.getX(v+2);a=hx(this,o,e,r,u,c,f,g,x,b),a&&(a.faceIndex=Math.floor(v/3),n.push(a))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,y=d.length;m<y;m++){let v=d[m],h=o[v.materialIndex],g=Math.max(v.start,p.start),x=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let b=g,_=x;b<_;b+=3){let M=b,A=b+1,S=b+2;a=hx(this,h,e,r,u,c,f,M,A,S),a&&(a.faceIndex=Math.floor(b/3),a.face.materialIndex=v.materialIndex,n.push(a))}}else{let m=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);for(let v=m,h=y;v<h;v+=3){let g=v,x=v+1,b=v+2;a=hx(this,o,e,r,u,c,f,g,x,b),a&&(a.faceIndex=Math.floor(v/3),n.push(a))}}}};function VX(t,e,n,r,a,i,o,s){let l;if(e.side===Hr?l=r.intersectTriangle(o,i,a,!0,s):l=r.intersectTriangle(a,i,o,e.side===as,s),l===null)return null;px.copy(s),px.applyMatrix4(t.matrixWorld);let u=n.ray.origin.distanceTo(px);return u<n.near||u>n.far?null:{distance:u,point:px.clone(),object:t}}function hx(t,e,n,r,a,i,o,s,l,u){t.getVertexPosition(s,ux),t.getVertexPosition(l,cx),t.getVertexPosition(u,fx);let c=VX(t,e,n,r,ux,cx,fx,rk);if(c){let f=new $;xl.getBarycoord(rk,ux,cx,fx,f),a&&(c.uv=xl.getInterpolatedAttribute(a,s,l,u,f,new Ue)),i&&(c.uv1=xl.getInterpolatedAttribute(i,s,l,u,f,new Ue)),o&&(c.normal=xl.getInterpolatedAttribute(o,s,l,u,f,new $),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));let d={a:s,b:l,c:u,normal:new $,materialIndex:0};xl.getNormal(ux,cx,fx,d.normal),c.face=d,c.barycoord=f}return c}var Hx=class extends ia{constructor(e=null,n=1,r=1,a,i,o,s,l,u=sr,c=sr,f,d){super(null,o,s,l,u,c,a,i,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};var pC=new $,GX=new $,qX=new st,oo=class{constructor(e=new $(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,a){return this.normal.set(e,n,r),this.constant=a,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){let a=pC.subVectors(r,n).cross(GX.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){let r=e.delta(pC),a=this.normal.dot(r);if(a===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;let i=-(e.start.dot(this.normal)+this.constant)/a;return i<0||i>1?null:n.copy(e.start).addScaledVector(r,i)}intersectsLine(e){let n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){let r=n||qX.getNormalMatrix(e),a=this.coplanarPoint(pC).applyMatrix4(e),i=this.normal.applyMatrix3(r).normalize();return this.constant=-a.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}},Eu=new Ru,WX=new Ue(.5,.5),mx=new $,Jf=class{constructor(e=new oo,n=new oo,r=new oo,a=new oo,i=new oo,o=new oo){this.planes=[e,n,r,a,i,o]}set(e,n,r,a,i,o){let s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(a),s[4].copy(i),s[5].copy(o),this}copy(e){let n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ni,r=!1){let a=this.planes,i=e.elements,o=i[0],s=i[1],l=i[2],u=i[3],c=i[4],f=i[5],d=i[6],p=i[7],m=i[8],y=i[9],v=i[10],h=i[11],g=i[12],x=i[13],b=i[14],_=i[15];if(a[0].setComponents(u-o,p-c,h-m,_-g).normalize(),a[1].setComponents(u+o,p+c,h+m,_+g).normalize(),a[2].setComponents(u+s,p+f,h+y,_+x).normalize(),a[3].setComponents(u-s,p-f,h-y,_-x).normalize(),r)a[4].setComponents(l,d,v,b).normalize(),a[5].setComponents(u-l,p-d,h-v,_-b).normalize();else if(a[4].setComponents(u-l,p-d,h-v,_-b).normalize(),n===Ni)a[5].setComponents(u+l,p+d,h+v,_+b).normalize();else if(n===Yf)a[5].setComponents(l,d,v,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Eu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Eu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Eu)}intersectsSprite(e){Eu.center.set(0,0,0);let n=WX.distanceTo(e.center);return Eu.radius=.7071067811865476+n,Eu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eu)}intersectsSphere(e){let n=this.planes,r=e.center,a=-e.radius;for(let i=0;i<6;i++)if(n[i].distanceToPoint(r)<a)return!1;return!0}intersectsBox(e){let n=this.planes;for(let r=0;r<6;r++){let a=n[r];if(mx.x=a.normal.x>0?e.max.x:e.min.x,mx.y=a.normal.y>0?e.max.y:e.min.y,mx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(mx)<0)return!1}return!0}containsPoint(e){let n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};var Qf=class extends os{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}},ak=new xn,AC=new nm,gx=new Ru,vx=new $,rm=class extends Tr{constructor(e=new lr,n=new Qf){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){let r=this.geometry,a=this.matrixWorld,i=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gx.copy(r.boundingSphere),gx.applyMatrix4(a),gx.radius+=i,e.ray.intersectsSphere(gx)===!1)return;ak.copy(a).invert(),AC.copy(e.ray).applyMatrix4(ak);let s=i/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){let d=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let m=d,y=p;m<y;m++){let v=u.getX(m);vx.fromBufferAttribute(f,v),ik(vx,v,l,a,e,n,this)}}else{let d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let m=d,y=p;m<y;m++)vx.fromBufferAttribute(f,m),ik(vx,m,l,a,e,n,this)}}updateMorphTargets(){let n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){let a=n[r[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=a.length;i<o;i++){let s=a[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=i}}}}};function ik(t,e,n,r,a,i,o){let s=AC.distanceSqToPoint(t);if(s<n){let l=new $;AC.closestPointToPoint(t,l),l.applyMatrix4(r);let u=a.ray.origin.distanceTo(l);if(u<a.near||u>a.far)return;i.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}var am=class extends ia{constructor(e=[],n=Cl,r,a,i,o,s,l,u,c){super(e,n,r,a,i,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};var _l=class extends ia{constructor(e,n,r=Ui,a,i,o,s=sr,l=sr,u,c=lo,f=1){if(c!==lo&&c!==Tl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");let d={width:e,height:n,depth:f};super(d,a,i,o,s,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Zf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){let n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}},Vx=class extends _l{constructor(e,n=Ui,r=Cl,a,i,o=sr,s=sr,l,u=lo){let c={width:e,height:e,depth:1},f=[c,c,c,c,c,c];super(e,e,n,r,a,i,o,s,l,u),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}},im=class extends ia{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}},co=class t extends lr{constructor(e=1,n=1,r=1,a=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:a,heightSegments:i,depthSegments:o};let s=this;a=Math.floor(a),i=Math.floor(i),o=Math.floor(o);let l=[],u=[],c=[],f=[],d=0,p=0;m("z","y","x",-1,-1,r,n,e,o,i,0),m("z","y","x",1,-1,r,n,-e,o,i,1),m("x","z","y",1,1,e,r,n,a,o,2),m("x","z","y",1,-1,e,r,-n,a,o,3),m("x","y","z",1,-1,e,n,r,a,i,4),m("x","y","z",-1,-1,e,n,-r,a,i,5),this.setIndex(l),this.setAttribute("position",new Kt(u,3)),this.setAttribute("normal",new Kt(c,3)),this.setAttribute("uv",new Kt(f,2));function m(y,v,h,g,x,b,_,M,A,S,w){let U=b/A,D=_/S,k=b/2,z=_/2,V=M/2,W=A+1,C=S+1,L=0,B=0,R=new $;for(let T=0;T<C;T++){let P=T*D-z;for(let H=0;H<W;H++){let K=H*U-k;R[y]=K*g,R[v]=P*x,R[h]=V,u.push(R.x,R.y,R.z),R[y]=0,R[v]=0,R[h]=M>0?1:-1,c.push(R.x,R.y,R.z),f.push(H/A),f.push(1-T/S),L+=1}}for(let T=0;T<S;T++)for(let P=0;P<A;P++){let H=d+P+W*T,K=d+P+W*(T+1),ee=d+(P+1)+W*(T+1),ne=d+(P+1)+W*T;l.push(H,K,ne),l.push(K,ee,ne),B+=6}s.addGroup(p,B,w),p+=B,d+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};var ed=class t extends lr{constructor(e=1,n=1,r=1,a=32,i=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:l};let u=this;a=Math.floor(a),i=Math.floor(i);let c=[],f=[],d=[],p=[],m=0,y=[],v=r/2,h=0;g(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(c),this.setAttribute("position",new Kt(f,3)),this.setAttribute("normal",new Kt(d,3)),this.setAttribute("uv",new Kt(p,2));function g(){let b=new $,_=new $,M=0,A=(n-e)/r;for(let S=0;S<=i;S++){let w=[],U=S/i,D=U*(n-e)+e;for(let k=0;k<=a;k++){let z=k/a,V=z*l+s,W=Math.sin(V),C=Math.cos(V);_.x=D*W,_.y=-U*r+v,_.z=D*C,f.push(_.x,_.y,_.z),b.set(W,A,C).normalize(),d.push(b.x,b.y,b.z),p.push(z,1-U),w.push(m++)}y.push(w)}for(let S=0;S<a;S++)for(let w=0;w<i;w++){let U=y[w][S],D=y[w+1][S],k=y[w+1][S+1],z=y[w][S+1];(e>0||w!==0)&&(c.push(U,D,z),M+=3),(n>0||w!==i-1)&&(c.push(D,k,z),M+=3)}u.addGroup(h,M,0),h+=M}function x(b){let _=m,M=new Ue,A=new $,S=0,w=b===!0?e:n,U=b===!0?1:-1;for(let k=1;k<=a;k++)f.push(0,v*U,0),d.push(0,U,0),p.push(.5,.5),m++;let D=m;for(let k=0;k<=a;k++){let V=k/a*l+s,W=Math.cos(V),C=Math.sin(V);A.x=w*C,A.y=v*U,A.z=w*W,f.push(A.x,A.y,A.z),d.push(0,U,0),M.x=W*.5+.5,M.y=C*.5*U+.5,p.push(M.x,M.y),m++}for(let k=0;k<a;k++){let z=_+k,V=D+k;b===!0?c.push(V,V+1,z):c.push(V+1,V,z),S+=3}u.addGroup(h,S,b===!0?1:2),h+=S}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}};var Ta=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ze("Curve: .getPoint() not implemented.")}getPointAt(e,n){let r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){let n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){let n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let n=[],r,a=this.getPoint(0),i=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),i+=r.distanceTo(a),n.push(i),a=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){let r=this.getLengths(),a=0,i=r.length,o;n?o=n:o=e*r[i-1];let s=0,l=i-1,u;for(;s<=l;)if(a=Math.floor(s+(l-s)/2),u=r[a]-o,u<0)s=a+1;else if(u>0)l=a-1;else{l=a;break}if(a=l,r[a]===o)return a/(i-1);let c=r[a],d=r[a+1]-c,p=(o-c)/d;return(a+p)/(i-1)}getTangent(e,n){let a=e-1e-4,i=e+1e-4;a<0&&(a=0),i>1&&(i=1);let o=this.getPoint(a),s=this.getPoint(i),l=n||(o.isVector2?new Ue:new $);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){let r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){let r=new $,a=[],i=[],o=[],s=new $,l=new xn;for(let p=0;p<=e;p++){let m=p/e;a[p]=this.getTangentAt(m,new $)}i[0]=new $,o[0]=new $;let u=Number.MAX_VALUE,c=Math.abs(a[0].x),f=Math.abs(a[0].y),d=Math.abs(a[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),s.crossVectors(a[0],r).normalize(),i[0].crossVectors(a[0],s),o[0].crossVectors(a[0],i[0]);for(let p=1;p<=e;p++){if(i[p]=i[p-1].clone(),o[p]=o[p-1].clone(),s.crossVectors(a[p-1],a[p]),s.length()>Number.EPSILON){s.normalize();let m=Math.acos(yt(a[p-1].dot(a[p]),-1,1));i[p].applyMatrix4(l.makeRotationAxis(s,m))}o[p].crossVectors(a[p],i[p])}if(n===!0){let p=Math.acos(yt(i[0].dot(i[e]),-1,1));p/=e,a[0].dot(s.crossVectors(i[0],i[e]))>0&&(p=-p);for(let m=1;m<=e;m++)i[m].applyMatrix4(l.makeRotationAxis(a[m],p*m)),o[m].crossVectors(a[m],i[m])}return{tangents:a,normals:i,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},td=class extends Ta{constructor(e=0,n=0,r=1,a=1,i=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=a,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Ue){let r=n,a=Math.PI*2,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=a;for(;i>a;)i-=a;i<Number.EPSILON&&(o?i=0:i=a),this.aClockwise===!0&&!o&&(i===a?i=-a:i=i-a);let s=this.aStartAngle+e*i,l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){let c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=u-this.aY;l=d*c-p*f+this.aX,u=d*f+p*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},Gx=class extends td{constructor(e,n,r,a,i,o){super(e,n,r,r,a,i,o),this.isArcCurve=!0,this.type="ArcCurve"}};function JC(){let t=0,e=0,n=0,r=0;function a(i,o,s,l){t=i,e=s,n=-3*i+3*o-2*s-l,r=2*i-2*o+s+l}return{initCatmullRom:function(i,o,s,l,u){a(o,s,u*(s-i),u*(l-o))},initNonuniformCatmullRom:function(i,o,s,l,u,c,f){let d=(o-i)/u-(s-i)/(u+c)+(s-o)/c,p=(s-o)/c-(l-o)/(c+f)+(l-s)/f;d*=c,p*=c,a(o,s,d,p)},calc:function(i){let o=i*i,s=o*i;return t+e*i+n*o+r*s}}}var yx=new $,hC=new JC,mC=new JC,gC=new JC,qx=class extends Ta{constructor(e=[],n=!1,r="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=a}getPoint(e,n=new $){let r=n,a=this.points,i=a.length,o=(i-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/i)+1)*i:l===0&&s===i-1&&(s=i-2,l=1);let u,c;this.closed||s>0?u=a[(s-1)%i]:(yx.subVectors(a[0],a[1]).add(a[0]),u=yx);let f=a[s%i],d=a[(s+1)%i];if(this.closed||s+2<i?c=a[(s+2)%i]:(yx.subVectors(a[i-1],a[i-2]).add(a[i-1]),c=yx),this.curveType==="centripetal"||this.curveType==="chordal"){let p=this.curveType==="chordal"?.5:.25,m=Math.pow(u.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(d),p),v=Math.pow(d.distanceToSquared(c),p);y<1e-4&&(y=1),m<1e-4&&(m=y),v<1e-4&&(v=y),hC.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,m,y,v),mC.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,m,y,v),gC.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,m,y,v)}else this.curveType==="catmullrom"&&(hC.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),mC.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),gC.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(hC.calc(l),mC.calc(l),gC.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let a=e.points[n];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){let a=this.points[n];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let a=e.points[n];this.points.push(new $().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function ok(t,e,n,r,a){let i=(r-e)*.5,o=(a-n)*.5,s=t*t,l=t*s;return(2*n-2*r+i+o)*l+(-3*n+3*r-2*i-o)*s+i*t+n}function jX(t,e){let n=1-t;return n*n*e}function XX(t,e){return 2*(1-t)*t*e}function YX(t,e){return t*t*e}function qh(t,e,n,r){return jX(t,e)+XX(t,n)+YX(t,r)}function KX(t,e){let n=1-t;return n*n*n*e}function ZX(t,e){let n=1-t;return 3*n*n*t*e}function $X(t,e){return 3*(1-t)*t*t*e}function JX(t,e){return t*t*t*e}function Wh(t,e,n,r,a){return KX(t,e)+ZX(t,n)+$X(t,r)+JX(t,a)}var om=class extends Ta{constructor(e=new Ue,n=new Ue,r=new Ue,a=new Ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=a}getPoint(e,n=new Ue){let r=n,a=this.v0,i=this.v1,o=this.v2,s=this.v3;return r.set(Wh(e,a.x,i.x,o.x,s.x),Wh(e,a.y,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Wx=class extends Ta{constructor(e=new $,n=new $,r=new $,a=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=a}getPoint(e,n=new $){let r=n,a=this.v0,i=this.v1,o=this.v2,s=this.v3;return r.set(Wh(e,a.x,i.x,o.x,s.x),Wh(e,a.y,i.y,o.y,s.y),Wh(e,a.z,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},sm=class extends Ta{constructor(e=new Ue,n=new Ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ue){let r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},jx=class extends Ta{constructor(e=new $,n=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new $){let r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},lm=class extends Ta{constructor(e=new Ue,n=new Ue,r=new Ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ue){let r=n,a=this.v0,i=this.v1,o=this.v2;return r.set(qh(e,a.x,i.x,o.x),qh(e,a.y,i.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Xx=class extends Ta{constructor(e=new $,n=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $){let r=n,a=this.v0,i=this.v1,o=this.v2;return r.set(qh(e,a.x,i.x,o.x),qh(e,a.y,i.y,o.y),qh(e,a.z,i.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},um=class extends Ta{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ue){let r=n,a=this.points,i=(a.length-1)*e,o=Math.floor(i),s=i-o,l=a[o===0?o:o-1],u=a[o],c=a[o>a.length-2?a.length-1:o+1],f=a[o>a.length-3?a.length-1:o+2];return r.set(ok(s,l.x,u.x,c.x,f.x),ok(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let a=e.points[n];this.points.push(a.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){let a=this.points[n];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){let a=e.points[n];this.points.push(new Ue().fromArray(a))}return this}},sk=Object.freeze({__proto__:null,ArcCurve:Gx,CatmullRomCurve3:qx,CubicBezierCurve:om,CubicBezierCurve3:Wx,EllipseCurve:td,LineCurve:sm,LineCurve3:jx,QuadraticBezierCurve:lm,QuadraticBezierCurve3:Xx,SplineCurve:um}),Yx=class extends Ta{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){let r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new sk[r](n,e))}return this}getPoint(e,n){let r=e*this.getLength(),a=this.getCurveLengths(),i=0;for(;i<a.length;){if(a[i]>=r){let o=a[i]-r,s=this.curves[i],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],n=0;for(let r=0,a=this.curves.length;r<a;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){let n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){let n=[],r;for(let a=0,i=this.curves;a<i.length;a++){let o=i[a],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){let c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){let a=e.curves[n];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){let a=this.curves[n];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){let a=e.curves[n];this.curves.push(new sk[a.type]().fromJSON(a))}return this}},cm=class extends Yx{constructor(e){super(),this.type="Path",this.currentPoint=new Ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){let r=new sm(this.currentPoint.clone(),new Ue(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,a){let i=new lm(this.currentPoint.clone(),new Ue(e,n),new Ue(r,a));return this.curves.push(i),this.currentPoint.set(r,a),this}bezierCurveTo(e,n,r,a,i,o){let s=new om(this.currentPoint.clone(),new Ue(e,n),new Ue(r,a),new Ue(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}splineThru(e){let n=[this.currentPoint.clone()].concat(e),r=new um(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,a,i,o){let s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,a,i,o),this}absarc(e,n,r,a,i,o){return this.absellipse(e,n,r,r,a,i,o),this}ellipse(e,n,r,a,i,o,s,l){let u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,a,i,o,s,l),this}absellipse(e,n,r,a,i,o,s,l){let u=new td(e,n,r,a,i,o,s,l);if(this.curves.length>0){let f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);let c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Du=class extends cm{constructor(e){super(e),this.uuid=ud(),this.type="Shape",this.holes=[]}getPointsHoles(e){let n=[];for(let r=0,a=this.holes.length;r<a;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){let a=e.holes[n];this.holes.push(a.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){let a=this.holes[n];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){let a=e.holes[n];this.holes.push(new cm().fromJSON(a))}return this}};function QX(t,e,n=2){let r=e&&e.length,a=r?e[0]*n:t.length,i=Jk(t,0,a,n,!0),o=[];if(!i||i.next===i.prev)return o;let s,l,u;if(r&&(i=a7(t,e,i,n)),t.length>80*n){s=t[0],l=t[1];let c=s,f=l;for(let d=n;d<a;d+=n){let p=t[d],m=t[d+1];p<s&&(s=p),m<l&&(l=m),p>c&&(c=p),m>f&&(f=m)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return fm(i,o,n,s,l,u,0),o}function Jk(t,e,n,r,a){let i;if(a===m7(t,e,n,r)>0)for(let o=e;o<n;o+=r)i=lk(o/r|0,t[o],t[o+1],i);else for(let o=n-r;o>=e;o-=r)i=lk(o/r|0,t[o],t[o+1],i);return i&&nd(i,i.next)&&(pm(i),i=i.next),i}function Nu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(nd(n,n.next)||An(n.prev,n,n.next)===0)){if(pm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function fm(t,e,n,r,a,i,o){if(!t)return;!o&&i&&u7(t,r,a,i);let s=t;for(;t.prev!==t.next;){let l=t.prev,u=t.next;if(i?t7(t,r,a,i):e7(t)){e.push(l.i,t.i,u.i),pm(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=n7(Nu(t),e),fm(t,e,n,r,a,i,2)):o===2&&r7(t,e,n,r,a,i):fm(Nu(t),e,n,r,a,i,1);break}}}function e7(t){let e=t.prev,n=t,r=t.next;if(An(e,n,r)>=0)return!1;let a=e.x,i=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=Math.min(a,i,o),f=Math.min(s,l,u),d=Math.max(a,i,o),p=Math.max(s,l,u),m=r.next;for(;m!==e;){if(m.x>=c&&m.x<=d&&m.y>=f&&m.y<=p&&Gh(a,s,i,l,o,u,m.x,m.y)&&An(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function t7(t,e,n,r){let a=t.prev,i=t,o=t.next;if(An(a,i,o)>=0)return!1;let s=a.x,l=i.x,u=o.x,c=a.y,f=i.y,d=o.y,p=Math.min(s,l,u),m=Math.min(c,f,d),y=Math.max(s,l,u),v=Math.max(c,f,d),h=wC(p,m,e,n,r),g=wC(y,v,e,n,r),x=t.prevZ,b=t.nextZ;for(;x&&x.z>=h&&b&&b.z<=g;){if(x.x>=p&&x.x<=y&&x.y>=m&&x.y<=v&&x!==a&&x!==o&&Gh(s,c,l,f,u,d,x.x,x.y)&&An(x.prev,x,x.next)>=0||(x=x.prevZ,b.x>=p&&b.x<=y&&b.y>=m&&b.y<=v&&b!==a&&b!==o&&Gh(s,c,l,f,u,d,b.x,b.y)&&An(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;x&&x.z>=h;){if(x.x>=p&&x.x<=y&&x.y>=m&&x.y<=v&&x!==a&&x!==o&&Gh(s,c,l,f,u,d,x.x,x.y)&&An(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=g;){if(b.x>=p&&b.x<=y&&b.y>=m&&b.y<=v&&b!==a&&b!==o&&Gh(s,c,l,f,u,d,b.x,b.y)&&An(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function n7(t,e){let n=t;do{let r=n.prev,a=n.next.next;!nd(r,a)&&eB(r,n,n.next,a)&&dm(r,a)&&dm(a,r)&&(e.push(r.i,n.i,a.i),pm(n),pm(n.next),n=t=a),n=n.next}while(n!==t);return Nu(n)}function r7(t,e,n,r,a,i){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&d7(o,s)){let l=tB(o,s);o=Nu(o,o.next),l=Nu(l,l.next),fm(o,e,n,r,a,i,0),fm(l,e,n,r,a,i,0);return}s=s.next}o=o.next}while(o!==t)}function a7(t,e,n,r){let a=[];for(let i=0,o=e.length;i<o;i++){let s=e[i]*r,l=i<o-1?e[i+1]*r:t.length,u=Jk(t,s,l,r,!1);u===u.next&&(u.steiner=!0),a.push(f7(u))}a.sort(i7);for(let i=0;i<a.length;i++)n=o7(a[i],n);return n}function i7(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){let r=(t.next.y-t.y)/(t.next.x-t.x),a=(e.next.y-e.y)/(e.next.x-e.x);n=r-a}return n}function o7(t,e){let n=s7(t,e);if(!n)return e;let r=tB(n,t);return Nu(r,r.next),Nu(n,n.next)}function s7(t,e){let n=e,r=t.x,a=t.y,i=-1/0,o;if(nd(t,n))return n;do{if(nd(t,n.next))return n.next;if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){let f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>i&&(i=f,o=n.x<n.next.x?n:n.next,f===r))return o}n=n.next}while(n!==e);if(!o)return null;let s=o,l=o.x,u=o.y,c=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Qk(a<u?r:i,a,l,u,a<u?i:r,a,n.x,n.y)){let f=Math.abs(a-n.y)/(r-n.x);dm(n,t)&&(f<c||f===c&&(n.x>o.x||n.x===o.x&&l7(o,n)))&&(o=n,c=f)}n=n.next}while(n!==s);return o}function l7(t,e){return An(t.prev,t,e.prev)<0&&An(e.next,t,t.next)<0}function u7(t,e,n,r){let a=t;do a.z===0&&(a.z=wC(a.x,a.y,e,n,r)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==t);a.prevZ.nextZ=null,a.prevZ=null,c7(a)}function c7(t){let e,n=1;do{let r=t,a;t=null;let i=null;for(e=0;r;){e++;let o=r,s=0;for(let u=0;u<n&&(s++,o=o.nextZ,!!o);u++);let l=n;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(a=r,r=r.nextZ,s--):(a=o,o=o.nextZ,l--),i?i.nextZ=a:t=a,a.prevZ=i,i=a;r=o}i.nextZ=null,n*=2}while(e>1);return t}function wC(t,e,n,r,a){return t=(t-n)*a|0,e=(e-r)*a|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function f7(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Qk(t,e,n,r,a,i,o,s){return(a-o)*(e-s)>=(t-o)*(i-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(i-s)>=(a-o)*(r-s)}function Gh(t,e,n,r,a,i,o,s){return!(t===o&&e===s)&&Qk(t,e,n,r,a,i,o,s)}function d7(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!p7(t,e)&&(dm(t,e)&&dm(e,t)&&h7(t,e)&&(An(t.prev,t,e.prev)||An(t,e.prev,e))||nd(t,e)&&An(t.prev,t,t.next)>0&&An(e.prev,e,e.next)>0)}function An(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function nd(t,e){return t.x===e.x&&t.y===e.y}function eB(t,e,n,r){let a=bx(An(t,e,n)),i=bx(An(t,e,r)),o=bx(An(n,r,t)),s=bx(An(n,r,e));return!!(a!==i&&o!==s||a===0&&xx(t,n,e)||i===0&&xx(t,r,e)||o===0&&xx(n,t,r)||s===0&&xx(n,e,r))}function xx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function bx(t){return t>0?1:t<0?-1:0}function p7(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&eB(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function dm(t,e){return An(t.prev,t,t.next)<0?An(t,e,t.next)>=0&&An(t,t.prev,e)>=0:An(t,e,t.prev)<0||An(t,t.next,e)<0}function h7(t,e){let n=t,r=!1,a=(t.x+e.x)/2,i=(t.y+e.y)/2;do n.y>i!=n.next.y>i&&n.next.y!==n.y&&a<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function tB(t,e){let n=CC(t.i,t.x,t.y),r=CC(e.i,e.x,e.y),a=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=a,a.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function lk(t,e,n,r){let a=CC(t,e,n);return r?(a.next=r.next,a.prev=r,r.next.prev=a,r.next=a):(a.prev=a,a.next=a),a}function pm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function CC(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function m7(t,e,n,r){let a=0;for(let i=e,o=n-r;i<n;i+=r)a+=(t[o]-t[i])*(t[i+1]+t[o+1]),o=i;return a}var EC=class{static triangulate(e,n,r=2){return QX(e,n,r)}},Xf=class t{static area(e){let n=e.length,r=0;for(let a=n-1,i=0;i<n;a=i++)r+=e[a].x*e[i].y-e[i].x*e[a].y;return r*.5}static isClockWise(e){return t.area(e)<0}static triangulateShape(e,n){let r=[],a=[],i=[];uk(e),ck(r,e);let o=e.length;n.forEach(uk);for(let l=0;l<n.length;l++)a.push(o),o+=n[l].length,ck(r,n[l]);let s=EC.triangulate(r,a);for(let l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};function uk(t){let e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ck(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var ku=class t extends lr{constructor(e=1,n=1,r=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:a};let i=e/2,o=n/2,s=Math.floor(r),l=Math.floor(a),u=s+1,c=l+1,f=e/s,d=n/l,p=[],m=[],y=[],v=[];for(let h=0;h<c;h++){let g=h*d-o;for(let x=0;x<u;x++){let b=x*f-i;m.push(b,-g,0),y.push(0,0,1),v.push(x/s),v.push(1-h/l)}}for(let h=0;h<l;h++)for(let g=0;g<s;g++){let x=g+u*h,b=g+u*(h+1),_=g+1+u*(h+1),M=g+1+u*h;p.push(x,b,M),p.push(b,_,M)}this.setIndex(p),this.setAttribute("position",new Kt(m,3)),this.setAttribute("normal",new Kt(y,3)),this.setAttribute("uv",new Kt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}};var rd=class t extends lr{constructor(e=new Du([new Ue(0,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};let r=[],a=[],i=[],o=[],s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new Kt(a,3)),this.setAttribute("normal",new Kt(i,3)),this.setAttribute("uv",new Kt(o,2));function u(c){let f=a.length/3,d=c.extractPoints(n),p=d.shape,m=d.holes;Xf.isClockWise(p)===!1&&(p=p.reverse());for(let v=0,h=m.length;v<h;v++){let g=m[v];Xf.isClockWise(g)===!0&&(m[v]=g.reverse())}let y=Xf.triangulateShape(p,m);for(let v=0,h=m.length;v<h;v++){let g=m[v];p=p.concat(g)}for(let v=0,h=p.length;v<h;v++){let g=p[v];a.push(g.x,g.y,0),i.push(0,0,1),o.push(g.x,g.y)}for(let v=0,h=y.length;v<h;v++){let g=y[v],x=g[0]+f,b=g[1]+f,_=g[2]+f;r.push(x,b,_),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON(),n=this.parameters.shapes;return g7(n,e)}static fromJSON(e,n){let r=[];for(let a=0,i=e.shapes.length;a<i;a++){let o=n[e.shapes[a]];r.push(o)}return new t(r,e.curveSegments)}};function g7(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){let a=t[n];e.shapes.push(a.uuid)}else e.shapes.push(t.uuid);return e}var ad=class t extends lr{constructor(e=1,n=32,r=16,a=0,i=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:a,phiLength:i,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));let l=Math.min(o+s,Math.PI),u=0,c=[],f=new $,d=new $,p=[],m=[],y=[],v=[];for(let h=0;h<=r;h++){let g=[],x=h/r,b=0;h===0&&o===0?b=.5/n:h===r&&l===Math.PI&&(b=-.5/n);for(let _=0;_<=n;_++){let M=_/n;f.x=-e*Math.cos(a+M*i)*Math.sin(o+x*s),f.y=e*Math.cos(o+x*s),f.z=e*Math.sin(a+M*i)*Math.sin(o+x*s),m.push(f.x,f.y,f.z),d.copy(f).normalize(),y.push(d.x,d.y,d.z),v.push(M+b,1-x),g.push(u++)}c.push(g)}for(let h=0;h<r;h++)for(let g=0;g<n;g++){let x=c[h][g+1],b=c[h][g],_=c[h+1][g],M=c[h+1][g+1];(h!==0||o>0)&&p.push(x,b,M),(h!==r-1||l<Math.PI)&&p.push(b,_,M)}this.setIndex(p),this.setAttribute("position",new Kt(m,3)),this.setAttribute("normal",new Kt(y,3)),this.setAttribute("uv",new Kt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};var hm=class t extends lr{constructor(e=1,n=.4,r=12,a=48,i=Math.PI*2,o=0,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:a,arc:i,thetaStart:o,thetaLength:s},r=Math.floor(r),a=Math.floor(a);let l=[],u=[],c=[],f=[],d=new $,p=new $,m=new $;for(let y=0;y<=r;y++){let v=o+y/r*s;for(let h=0;h<=a;h++){let g=h/a*i;p.x=(e+n*Math.cos(v))*Math.cos(g),p.y=(e+n*Math.cos(v))*Math.sin(g),p.z=n*Math.sin(v),u.push(p.x,p.y,p.z),d.x=e*Math.cos(g),d.y=e*Math.sin(g),m.subVectors(p,d).normalize(),c.push(m.x,m.y,m.z),f.push(h/a),f.push(y/r)}}for(let y=1;y<=r;y++)for(let v=1;v<=a;v++){let h=(a+1)*y+v-1,g=(a+1)*(y-1)+v-1,x=(a+1)*(y-1)+v,b=(a+1)*y+v;l.push(h,g,b),l.push(g,x,b)}this.setIndex(l),this.setAttribute("position",new Kt(u,3)),this.setAttribute("normal",new Kt(c,3)),this.setAttribute("uv",new Kt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}};function zu(t){let e={};for(let n in t){e[n]={};for(let r in t[n]){let a=t[n][r];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(Ze("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=a.clone():Array.isArray(a)?e[n][r]=a.slice():e[n][r]=a}}return e}function Ir(t){let e={};for(let n=0;n<t.length;n++){let r=zu(t[n]);for(let a in r)e[a]=r[a]}return e}function v7(t){let e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function QC(t){let e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Et.workingColorSpace}var nB={clone:zu,merge:Ir},y7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,x7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Ia=class extends os{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=y7,this.fragmentShader=x7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zu(e.uniforms),this.uniformsGroups=v7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){let n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(let a in this.uniforms){let o=this.uniforms[a].value;o&&o.isTexture?n.uniforms[a]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[a]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[a]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[a]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[a]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[a]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[a]={type:"m4",value:o.toArray()}:n.uniforms[a]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;let r={};for(let a in this.extensions)this.extensions[a]===!0&&(r[a]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}},Kx=class extends Ia{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}};var zr=class extends os{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new lt(16777215),this.specular=new lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=KC,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ki,this.combine=c0,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}};var Zx=class extends os{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Fk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},$x=class extends os{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};function Sx(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}var Ml=class{constructor(e,n,r,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let n=this.parameterPositions,r=this._cachedIndex,a=n[r],i=n[r-1];e:{t:{let o;n:{r:if(!(e<a)){for(let s=r+2;;){if(a===void 0){if(e<i)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(i=a,a=n[++r],e<a)break t}o=n.length;break n}if(!(e>=i)){let s=n[1];e<s&&(r=2,i=s);for(let l=r-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(a=i,i=n[--r-1],e>=i)break t}o=r,r=0;break n}break e}for(;r<o;){let s=r+o>>>1;e<n[s]?o=s:r=s+1}if(a=n[r],i=n[r-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,a)}return this.interpolate_(r,i,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let n=this.resultBuffer,r=this.sampleValues,a=this.valueSize,i=e*a;for(let o=0;o!==a;++o)n[o]=r[i+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},Jx=class extends Ml{constructor(e,n,r,a){super(e,n,r,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xC,endingEnd:xC}}intervalChanged_(e,n,r){let a=this.parameterPositions,i=e-2,o=e+1,s=a[i],l=a[o];if(s===void 0)switch(this.getSettings_().endingStart){case bC:i=e,s=2*n-r;break;case SC:i=a.length-2,s=n+a[i]-a[i+1];break;default:i=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case bC:o=e,l=2*r-n;break;case SC:o=1,l=r+a[1]-a[0];break;default:o=e-1,l=n}let u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,n,r,a){let i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,m=(r-n)/(a-n),y=m*m,v=y*m,h=-d*v+2*d*y-d*m,g=(1+d)*v+(-1.5-2*d)*y+(-.5+d)*m+1,x=(-1-p)*v+(1.5+p)*y+.5*m,b=p*v-p*y;for(let _=0;_!==s;++_)i[_]=h*o[c+_]+g*o[u+_]+x*o[l+_]+b*o[f+_];return i}},Qx=class extends Ml{constructor(e,n,r,a){super(e,n,r,a)}interpolate_(e,n,r,a){let i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(a-n),f=1-c;for(let d=0;d!==s;++d)i[d]=o[u+d]*f+o[l+d]*c;return i}},e0=class extends Ml{constructor(e,n,r,a){super(e,n,r,a)}interpolate_(e){return this.copySampleValue_(e-1)}},t0=class extends Ml{interpolate_(e,n,r,a){let i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this.settings||this.DefaultSettings_,f=c.inTangents,d=c.outTangents;if(!f||!d){let y=(r-n)/(a-n),v=1-y;for(let h=0;h!==s;++h)i[h]=o[u+h]*v+o[l+h]*y;return i}let p=s*2,m=e-1;for(let y=0;y!==s;++y){let v=o[u+y],h=o[l+y],g=m*p+y*2,x=d[g],b=d[g+1],_=e*p+y*2,M=f[_],A=f[_+1],S=(r-n)/(a-n),w,U,D,k,z;for(let V=0;V<8;V++){w=S*S,U=w*S,D=1-S,k=D*D,z=k*D;let C=z*n+3*k*S*x+3*D*w*M+U*a-r;if(Math.abs(C)<1e-10)break;let L=3*k*(x-n)+6*D*S*(M-x)+3*w*(a-M);if(Math.abs(L)<1e-10)break;S=S-C/L,S=Math.max(0,Math.min(1,S))}i[y]=z*v+3*k*S*b+3*D*w*A+U*h}return i}},La=class{constructor(e,n,r,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Sx(n,this.TimeBufferType),this.values=Sx(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){let n=e.constructor,r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Sx(e.times,Array),values:Sx(e.values,Array)};let a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new e0(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Qx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Jx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){let n=new t0(this.times,this.values,this.getValueSize(),e);return this.settings&&(n.settings=this.settings),n}setInterpolation(e){let n;switch(e){case jh:n=this.InterpolantFactoryMethodDiscrete;break;case kx:n=this.InterpolantFactoryMethodLinear;break;case Ax:n=this.InterpolantFactoryMethodSmooth;break;case yC:n=this.InterpolantFactoryMethodBezier;break}if(n===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Ze("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jh;case this.InterpolantFactoryMethodLinear:return kx;case this.InterpolantFactoryMethodSmooth:return Ax;case this.InterpolantFactoryMethodBezier:return yC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let n=this.times;for(let r=0,a=n.length;r!==a;++r)n[r]+=e}return this}scale(e){if(e!==1){let n=this.times;for(let r=0,a=n.length;r!==a;++r)n[r]*=e}return this}trim(e,n){let r=this.times,a=r.length,i=0,o=a-1;for(;i!==a&&r[i]<e;)++i;for(;o!==-1&&r[o]>n;)--o;if(++o,i!==0||o!==a){i>=o&&(o=Math.max(o,1),i=o-1);let s=this.getValueSize();this.times=r.slice(i,o),this.values=this.values.slice(i*s,o*s)}return this}validate(){let e=!0,n=this.getValueSize();n-Math.floor(n)!==0&&(Ke("KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,a=this.values,i=r.length;i===0&&(Ke("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==i;s++){let l=r[s];if(typeof l=="number"&&isNaN(l)){Ke("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){Ke("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(a!==void 0&&CX(a))for(let s=0,l=a.length;s!==l;++s){let u=a[s];if(isNaN(u)){Ke("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){let e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),a=this.getInterpolation()===Ax,i=e.length-1,o=1;for(let s=1;s<i;++s){let l=!1,u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(a)l=!0;else{let f=s*r,d=f-r,p=f+r;for(let m=0;m!==r;++m){let y=n[f+m];if(y!==n[d+m]||y!==n[p+m]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];let f=s*r,d=o*r;for(let p=0;p!==r;++p)n[d+p]=n[f+p]}++o}}if(i>0){e[o]=e[i];for(let s=i*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){let e=this.times.slice(),n=this.values.slice(),r=this.constructor,a=new r(this.name,e,n);return a.createInterpolant=this.createInterpolant,a}};La.prototype.ValueTypeName="";La.prototype.TimeBufferType=Float32Array;La.prototype.ValueBufferType=Float32Array;La.prototype.DefaultInterpolation=kx;var Al=class extends La{constructor(e,n,r){super(e,n,r)}};Al.prototype.ValueTypeName="bool";Al.prototype.ValueBufferType=Array;Al.prototype.DefaultInterpolation=jh;Al.prototype.InterpolantFactoryMethodLinear=void 0;Al.prototype.InterpolantFactoryMethodSmooth=void 0;var n0=class extends La{constructor(e,n,r,a){super(e,n,r,a)}};n0.prototype.ValueTypeName="color";var r0=class extends La{constructor(e,n,r,a){super(e,n,r,a)}};r0.prototype.ValueTypeName="number";var a0=class extends Ml{constructor(e,n,r,a){super(e,n,r,a)}interpolate_(e,n,r,a){let i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(a-n),u=e*s;for(let c=u+s;u!==c;u+=4)uo.slerpFlat(i,0,o,u-s,o,u,l);return i}},mm=class extends La{constructor(e,n,r,a){super(e,n,r,a)}InterpolantFactoryMethodLinear(e){return new a0(this.times,this.values,this.getValueSize(),e)}};mm.prototype.ValueTypeName="quaternion";mm.prototype.InterpolantFactoryMethodSmooth=void 0;var wl=class extends La{constructor(e,n,r){super(e,n,r)}};wl.prototype.ValueTypeName="string";wl.prototype.ValueBufferType=Array;wl.prototype.DefaultInterpolation=jh;wl.prototype.InterpolantFactoryMethodLinear=void 0;wl.prototype.InterpolantFactoryMethodSmooth=void 0;var i0=class extends La{constructor(e,n,r,a){super(e,n,r,a)}};i0.prototype.ValueTypeName="vector";var o0=class{constructor(e,n,r){let a=this,i=!1,o=0,s=0,l,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(c){s++,i===!1&&a.onStart!==void 0&&a.onStart(c,o,s),i=!0},this.itemEnd=function(c){o++,a.onProgress!==void 0&&a.onProgress(c,o,s),o===s&&(i=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(c){a.onError!==void 0&&a.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){let f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){let p=u[f],m=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return m}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}},rB=new o0,s0=class{constructor(e){this.manager=e!==void 0?e:rB,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,n){let r=this;return new Promise(function(a,i){r.load(e,a,n,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};s0.DEFAULT_MATERIAL_NAME="__DEFAULT";var gm=class extends Tr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}};var vC=new xn,fk=new $,dk=new $,TC=class{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.mapType=sa,this.map=null,this.mapPass=null,this.matrix=new xn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jf,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let n=this.camera,r=this.matrix;fk.setFromMatrixPosition(e.matrixWorld),n.position.copy(fk),dk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(dk),n.updateMatrixWorld(),vC.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vC,n.coordinateSystem,n.reversedDepth),n.coordinateSystem===Yf||n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},_x=new $,Mx=new uo,io=new $,vm=class extends Tr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=Ni,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(_x,Mx,io),io.x===1&&io.y===1&&io.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(_x,Mx,io.set(1,1,1)).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorld.decompose(_x,Mx,io),io.x===1&&io.y===1&&io.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(_x,Mx,io.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}},yl=new $,pk=new Ue,hk=new Ue,Er=class extends vm{constructor(e=50,n=1,r=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=a,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let n=.5*this.getFilmHeight()/e;this.fov=Bx*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Ww*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bx*2*Math.atan(Math.tan(Ww*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){yl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(yl.x,yl.y).multiplyScalar(-e/yl.z),yl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(yl.x,yl.y).multiplyScalar(-e/yl.z)}getViewSize(e,n){return this.getViewBounds(e,pk,hk),n.subVectors(hk,pk)}setViewOffset(e,n,r,a,i,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,n=e*Math.tan(Ww*.5*this.fov)/this.zoom,r=2*n,a=this.aspect*r,i=-.5*a,o=this.view;if(this.view!==null&&this.view.enabled){let l=o.fullWidth,u=o.fullHeight;i+=o.offsetX*a/l,n-=o.offsetY*r/u,a*=o.width/l,r*=o.height/u}let s=this.filmOffset;s!==0&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+a,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};var id=class extends vm{constructor(e=-1,n=1,r=1,a=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=a,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,a,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=a,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,a=(this.top+this.bottom)/2,i=r-e,o=r+e,s=a+n,l=a-n;if(this.view!==null&&this.view.enabled){let u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=u*this.view.offsetX,o=i+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}},IC=class extends TC{constructor(){super(new id(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},Bu=class extends gm{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Tr.DEFAULT_UP),this.updateMatrix(),this.target=new Tr,this.shadow=new IC}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){let n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}},ym=class extends gm{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}};var qf=-90,Wf=1,l0=class extends Tr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;let a=new Er(qf,Wf,e,n);a.layers=this.layers,this.add(a);let i=new Er(qf,Wf,e,n);i.layers=this.layers,this.add(i);let o=new Er(qf,Wf,e,n);o.layers=this.layers,this.add(o);let s=new Er(qf,Wf,e,n);s.layers=this.layers,this.add(s);let l=new Er(qf,Wf,e,n);l.layers=this.layers,this.add(l);let u=new Er(qf,Wf,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){let e=this.coordinateSystem,n=this.children.concat(),[r,a,i,o,s,l]=n;for(let u of n)this.remove(u);if(e===Ni)r.up.set(0,1,0),r.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Yf)r.up.set(0,-1,0),r.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(let u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();let{renderTarget:r,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());let[i,o,s,l,u,c]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;let y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1;let v=!1;e.isWebGLRenderer===!0?v=e.state.buffers.depth.getReversed():v=e.reversedDepthBuffer,e.setRenderTarget(r,0,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,i),e.setRenderTarget(r,1,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,o),e.setRenderTarget(r,2,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,s),e.setRenderTarget(r,3,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,l),e.setRenderTarget(r,4,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,a),v&&e.autoClear===!1&&e.clearDepth(),e.render(n,c),e.setRenderTarget(f,d,p),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}},u0=class extends Er{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}};var eE="\\[\\]\\.:\\/",b7=new RegExp("["+eE+"]","g"),tE="[^"+eE+"]",S7="[^"+eE.replace("\\.","")+"]",_7=/((?:WC+[\/:])*)/.source.replace("WC",tE),M7=/(WCOD+)?/.source.replace("WCOD",S7),A7=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tE),w7=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tE),C7=new RegExp("^"+_7+M7+A7+w7+"$"),E7=["material","materials","bones","map"],LC=class{constructor(e,n,r){let a=r||pn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,a)}getValue(e,n){this.bind();let r=this._targetGroup.nCachedObjects_,a=this._bindings[r];a!==void 0&&a.getValue(e,n)}setValue(e,n){let r=this._bindings;for(let a=this._targetGroup.nCachedObjects_,i=r.length;a!==i;++a)r[a].setValue(e,n)}bind(){let e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){let e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}},pn=class t{constructor(e,n,r){this.path=n,this.parsedPath=r||t.parseTrackName(n),this.node=t.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new t.Composite(e,n,r):new t(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(b7,"")}static parseTrackName(e){let n=C7.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){let i=r.nodeName.substring(a+1);E7.indexOf(i)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=i)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){let r=function(i){for(let o=0;o<i.length;o++){let s=i[o];if(s.name===n||s.uuid===n)return s;let l=r(s.children);if(l)return l}return null},a=r(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){let r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)e[n++]=r[a]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){let r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[n++]}_setValue_array_setNeedsUpdate(e,n){let r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){let r=this.resolvedProperty;for(let a=0,i=r.length;a!==i;++a)r[a]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node,n=this.parsedPath,r=n.objectName,a=n.propertyName,i=n.propertyIndex;if(e||(e=t.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ze("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){Ke("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ke("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ke("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ke("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ke("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){Ke("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){Ke("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}let o=e[a];if(o===void 0){let u=n.nodeName;Ke("PropertyBinding: Trying to update property for track: "+u+"."+a+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(i!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){Ke("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ke("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[i]!==void 0&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=a;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};pn.Composite=LC;pn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};pn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};pn.prototype.GetterByBindingType=[pn.prototype._getValue_direct,pn.prototype._getValue_array,pn.prototype._getValue_arrayElement,pn.prototype._getValue_toArray];pn.prototype.SetterByBindingTypeAndVersioning=[[pn.prototype._setValue_direct,pn.prototype._setValue_direct_setNeedsUpdate,pn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_array,pn.prototype._setValue_array_setNeedsUpdate,pn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_arrayElement,pn.prototype._setValue_arrayElement_setNeedsUpdate,pn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[pn.prototype._setValue_fromArray,pn.prototype._setValue_fromArray_setNeedsUpdate,pn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var fve=new Float32Array(1);function nE(t,e,n,r){let a=T7(r);switch(n){case jC:return t*e;case YC:return t*e/a.components*a.byteLength;case v0:return t*e/a.components*a.byteLength;case Fu:return t*e*2/a.components*a.byteLength;case y0:return t*e*2/a.components*a.byteLength;case XC:return t*e*3/a.components*a.byteLength;case ni:return t*e*4/a.components*a.byteLength;case x0:return t*e*4/a.components*a.byteLength;case Mm:case Am:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case wm:case Cm:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case S0:case M0:return Math.max(t,16)*Math.max(e,8)/4;case b0:case _0:return Math.max(t,8)*Math.max(e,8)/2;case A0:case w0:case E0:case T0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case C0:case I0:case L0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case P0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case R0:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case O0:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case D0:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case N0:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case k0:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case B0:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case U0:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case F0:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case z0:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case H0:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case V0:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case G0:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case q0:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case W0:case j0:case X0:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Y0:case K0:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Z0:case $0:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function T7(t){switch(t){case sa:case VC:return{byteLength:1,components:1};case sd:case GC:case po:return{byteLength:2,components:1};case m0:case g0:return{byteLength:2,components:4};case Ui:case h0:case Fi:return{byteLength:4,components:1};case qC:case WC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"183"}}));typeof window<"u"&&(window.__THREE__?Ze("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="183");function CB(){let t=null,e=!1,n=null,r=null;function a(i,o){n(i,o),r=t.requestAnimationFrame(a)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(a),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(i){n=i},setContext:function(i){t=i}}}function L7(t){let e=new WeakMap;function n(s,l){let u=s.array,c=s.usage,f=u.byteLength,d=t.createBuffer();t.bindBuffer(l,d),t.bufferData(l,u,c),s.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)p=t.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:d,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){let c=l.array,f=l.updateRanges;if(t.bindBuffer(u,s),f.length===0)t.bufferSubData(u,0,c);else{f.sort((p,m)=>p.start-m.start);let d=0;for(let p=1;p<f.length;p++){let m=f[d],y=f[p];y.start<=m.start+m.count+1?m.count=Math.max(m.count,y.start+y.count-m.start):(++d,f[d]=y)}f.length=d+1;for(let p=0,m=f.length;p<m;p++){let y=f[p];t.bufferSubData(u,y.start*c.BYTES_PER_ELEMENT,c,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function a(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function i(s){s.isInterleavedBufferAttribute&&(s=s.data);let l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){let c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}let u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:a,remove:i,update:o}}var P7=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,R7=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,O7=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,D7=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,N7=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,k7=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,B7=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,U7=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,F7=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,z7=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,H7=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,V7=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,G7=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,q7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,W7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,j7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,X7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Y7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,K7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Z7=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,$7=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,J7=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,Q7=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,eY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,tY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,nY=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,iY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,oY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sY="gl_FragColor = linearToOutputTexel( gl_FragColor );",lY=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,uY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,cY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,fY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,dY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,pY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,hY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,mY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,bY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,SY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_Y=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,MY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,AY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,wY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,CY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,EY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,TY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,IY=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,LY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,PY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,RY=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,OY=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,DY=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,NY=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kY=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,BY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,UY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,FY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,zY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,HY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,VY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,GY=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,qY=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,WY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,jY=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,XY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,YY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,KY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ZY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$Y=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,QY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,eK=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,tK=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,nK=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,rK=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,aK=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iK=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,oK=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sK=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,lK=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,uK=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cK=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,fK=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,dK=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,pK=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hK=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,mK=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,gK=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vK=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,yK=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xK=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,bK=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,SK=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_K=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MK=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,AK=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,wK=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,CK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TK=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,IK=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,LK=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,PK=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,OK=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NK=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,BK=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,UK=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,FK=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,zK=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,HK=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VK=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,GK=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qK=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,WK=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jK=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XK=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YK=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,KK=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZK=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,$K=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,JK=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QK=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rZ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aZ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oZ=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sZ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,lZ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,uZ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dt={alphahash_fragment:P7,alphahash_pars_fragment:R7,alphamap_fragment:O7,alphamap_pars_fragment:D7,alphatest_fragment:N7,alphatest_pars_fragment:k7,aomap_fragment:B7,aomap_pars_fragment:U7,batching_pars_vertex:F7,batching_vertex:z7,begin_vertex:H7,beginnormal_vertex:V7,bsdfs:G7,iridescence_fragment:q7,bumpmap_pars_fragment:W7,clipping_planes_fragment:j7,clipping_planes_pars_fragment:X7,clipping_planes_pars_vertex:Y7,clipping_planes_vertex:K7,color_fragment:Z7,color_pars_fragment:$7,color_pars_vertex:J7,color_vertex:Q7,common:eY,cube_uv_reflection_fragment:tY,defaultnormal_vertex:nY,displacementmap_pars_vertex:rY,displacementmap_vertex:aY,emissivemap_fragment:iY,emissivemap_pars_fragment:oY,colorspace_fragment:sY,colorspace_pars_fragment:lY,envmap_fragment:uY,envmap_common_pars_fragment:cY,envmap_pars_fragment:fY,envmap_pars_vertex:dY,envmap_physical_pars_fragment:MY,envmap_vertex:pY,fog_vertex:hY,fog_pars_vertex:mY,fog_fragment:gY,fog_pars_fragment:vY,gradientmap_pars_fragment:yY,lightmap_pars_fragment:xY,lights_lambert_fragment:bY,lights_lambert_pars_fragment:SY,lights_pars_begin:_Y,lights_toon_fragment:AY,lights_toon_pars_fragment:wY,lights_phong_fragment:CY,lights_phong_pars_fragment:EY,lights_physical_fragment:TY,lights_physical_pars_fragment:IY,lights_fragment_begin:LY,lights_fragment_maps:PY,lights_fragment_end:RY,logdepthbuf_fragment:OY,logdepthbuf_pars_fragment:DY,logdepthbuf_pars_vertex:NY,logdepthbuf_vertex:kY,map_fragment:BY,map_pars_fragment:UY,map_particle_fragment:FY,map_particle_pars_fragment:zY,metalnessmap_fragment:HY,metalnessmap_pars_fragment:VY,morphinstance_vertex:GY,morphcolor_vertex:qY,morphnormal_vertex:WY,morphtarget_pars_vertex:jY,morphtarget_vertex:XY,normal_fragment_begin:YY,normal_fragment_maps:KY,normal_pars_fragment:ZY,normal_pars_vertex:$Y,normal_vertex:JY,normalmap_pars_fragment:QY,clearcoat_normal_fragment_begin:eK,clearcoat_normal_fragment_maps:tK,clearcoat_pars_fragment:nK,iridescence_pars_fragment:rK,opaque_fragment:aK,packing:iK,premultiplied_alpha_fragment:oK,project_vertex:sK,dithering_fragment:lK,dithering_pars_fragment:uK,roughnessmap_fragment:cK,roughnessmap_pars_fragment:fK,shadowmap_pars_fragment:dK,shadowmap_pars_vertex:pK,shadowmap_vertex:hK,shadowmask_pars_fragment:mK,skinbase_vertex:gK,skinning_pars_vertex:vK,skinning_vertex:yK,skinnormal_vertex:xK,specularmap_fragment:bK,specularmap_pars_fragment:SK,tonemapping_fragment:_K,tonemapping_pars_fragment:MK,transmission_fragment:AK,transmission_pars_fragment:wK,uv_pars_fragment:CK,uv_pars_vertex:EK,uv_vertex:TK,worldpos_vertex:IK,background_vert:LK,background_frag:PK,backgroundCube_vert:RK,backgroundCube_frag:OK,cube_vert:DK,cube_frag:NK,depth_vert:kK,depth_frag:BK,distance_vert:UK,distance_frag:FK,equirect_vert:zK,equirect_frag:HK,linedashed_vert:VK,linedashed_frag:GK,meshbasic_vert:qK,meshbasic_frag:WK,meshlambert_vert:jK,meshlambert_frag:XK,meshmatcap_vert:YK,meshmatcap_frag:KK,meshnormal_vert:ZK,meshnormal_frag:$K,meshphong_vert:JK,meshphong_frag:QK,meshphysical_vert:eZ,meshphysical_frag:tZ,meshtoon_vert:nZ,meshtoon_frag:rZ,points_vert:aZ,points_frag:iZ,shadow_vert:oZ,shadow_frag:sZ,sprite_vert:lZ,sprite_frag:uZ},we={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new st},alphaMap:{value:null},alphaMapTransform:{value:new st},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new st}},envmap:{envMap:{value:null},envMapRotation:{value:new st},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new st}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new st}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new st},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new st},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new st},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new st}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new st}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new st}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new st},alphaTest:{value:0},uvTransform:{value:new st}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new st},alphaMap:{value:null},alphaMapTransform:{value:new st},alphaTest:{value:0}}},mo={basic:{uniforms:Ir([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:dt.meshbasic_vert,fragmentShader:dt.meshbasic_frag},lambert:{uniforms:Ir([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new lt(0)},envMapIntensity:{value:1}}]),vertexShader:dt.meshlambert_vert,fragmentShader:dt.meshlambert_frag},phong:{uniforms:Ir([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:dt.meshphong_vert,fragmentShader:dt.meshphong_frag},standard:{uniforms:Ir([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dt.meshphysical_vert,fragmentShader:dt.meshphysical_frag},toon:{uniforms:Ir([we.common,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new lt(0)}}]),vertexShader:dt.meshtoon_vert,fragmentShader:dt.meshtoon_frag},matcap:{uniforms:Ir([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:dt.meshmatcap_vert,fragmentShader:dt.meshmatcap_frag},points:{uniforms:Ir([we.points,we.fog]),vertexShader:dt.points_vert,fragmentShader:dt.points_frag},dashed:{uniforms:Ir([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dt.linedashed_vert,fragmentShader:dt.linedashed_frag},depth:{uniforms:Ir([we.common,we.displacementmap]),vertexShader:dt.depth_vert,fragmentShader:dt.depth_frag},normal:{uniforms:Ir([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:dt.meshnormal_vert,fragmentShader:dt.meshnormal_frag},sprite:{uniforms:Ir([we.sprite,we.fog]),vertexShader:dt.sprite_vert,fragmentShader:dt.sprite_frag},background:{uniforms:{uvTransform:{value:new st},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dt.background_vert,fragmentShader:dt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new st}},vertexShader:dt.backgroundCube_vert,fragmentShader:dt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dt.cube_vert,fragmentShader:dt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dt.equirect_vert,fragmentShader:dt.equirect_frag},distance:{uniforms:Ir([we.common,we.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dt.distance_vert,fragmentShader:dt.distance_frag},shadow:{uniforms:Ir([we.lights,we.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:dt.shadow_vert,fragmentShader:dt.shadow_frag}};mo.physical={uniforms:Ir([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new st},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new st},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new st},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new st},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new st},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new st},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new st},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new st},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new st},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new st},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new st},anisotropyVector:{value:new Ue},anisotropyMap:{value:null},anisotropyMapTransform:{value:new st}}]),vertexShader:dt.meshphysical_vert,fragmentShader:dt.meshphysical_frag};var eb={r:0,b:0,g:0},Hu=new ki,cZ=new xn;function fZ(t,e,n,r,a,i){let o=new lt(0),s=a===!0?0:1,l,u,c=null,f=0,d=null;function p(g){let x=g.isScene===!0?g.background:null;if(x&&x.isTexture){let b=g.backgroundBlurriness>0;x=e.get(x,b)}return x}function m(g){let x=!1,b=p(g);b===null?v(o,s):b&&b.isColor&&(v(b,1),x=!0);let _=t.xr.getEnvironmentBlendMode();_==="additive"?n.buffers.color.setClear(0,0,0,1,i):_==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,i),(t.autoClear||x)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function y(g,x){let b=p(x);b&&(b.isCubeTexture||b.mapping===Sm)?(u===void 0&&(u=new hn(new co(1,1,1),new Ia({name:"BackgroundCubeMaterial",uniforms:zu(mo.backgroundCube.uniforms),vertexShader:mo.backgroundCube.vertexShader,fragmentShader:mo.backgroundCube.fragmentShader,side:Hr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(_,M,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Hu.copy(x.backgroundRotation),Hu.x*=-1,Hu.y*=-1,Hu.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Hu.y*=-1,Hu.z*=-1),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(cZ.makeRotationFromEuler(Hu)),u.material.toneMapped=Et.getTransfer(b.colorSpace)!==Bt,(c!==b||f!==b.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,c=b,f=b.version,d=t.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new hn(new ku(2,2),new Ia({name:"BackgroundMaterial",uniforms:zu(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:as,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=b,l.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,l.material.toneMapped=Et.getTransfer(b.colorSpace)!==Bt,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(c!==b||f!==b.version||d!==t.toneMapping)&&(l.material.needsUpdate=!0,c=b,f=b.version,d=t.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}function v(g,x){g.getRGB(eb,QC(t)),n.buffers.color.setClear(eb.r,eb.g,eb.b,x,i)}function h(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return o},setClearColor:function(g,x=1){o.set(g),s=x,v(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(g){s=g,v(o,s)},render:m,addToRenderList:y,dispose:h}}function dZ(t,e){let n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},a=d(null),i=a,o=!1;function s(D,k,z,V,W){let C=!1,L=f(D,V,z,k);i!==L&&(i=L,u(i.object)),C=p(D,V,z,W),C&&m(D,V,z,W),W!==null&&e.update(W,t.ELEMENT_ARRAY_BUFFER),(C||o)&&(o=!1,b(D,k,z,V),W!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(W).buffer))}function l(){return t.createVertexArray()}function u(D){return t.bindVertexArray(D)}function c(D){return t.deleteVertexArray(D)}function f(D,k,z,V){let W=V.wireframe===!0,C=r[k.id];C===void 0&&(C={},r[k.id]=C);let L=D.isInstancedMesh===!0?D.id:0,B=C[L];B===void 0&&(B={},C[L]=B);let R=B[z.id];R===void 0&&(R={},B[z.id]=R);let T=R[W];return T===void 0&&(T=d(l()),R[W]=T),T}function d(D){let k=[],z=[],V=[];for(let W=0;W<n;W++)k[W]=0,z[W]=0,V[W]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:z,attributeDivisors:V,object:D,attributes:{},index:null}}function p(D,k,z,V){let W=i.attributes,C=k.attributes,L=0,B=z.getAttributes();for(let R in B)if(B[R].location>=0){let P=W[R],H=C[R];if(H===void 0&&(R==="instanceMatrix"&&D.instanceMatrix&&(H=D.instanceMatrix),R==="instanceColor"&&D.instanceColor&&(H=D.instanceColor)),P===void 0||P.attribute!==H||H&&P.data!==H.data)return!0;L++}return i.attributesNum!==L||i.index!==V}function m(D,k,z,V){let W={},C=k.attributes,L=0,B=z.getAttributes();for(let R in B)if(B[R].location>=0){let P=C[R];P===void 0&&(R==="instanceMatrix"&&D.instanceMatrix&&(P=D.instanceMatrix),R==="instanceColor"&&D.instanceColor&&(P=D.instanceColor));let H={};H.attribute=P,P&&P.data&&(H.data=P.data),W[R]=H,L++}i.attributes=W,i.attributesNum=L,i.index=V}function y(){let D=i.newAttributes;for(let k=0,z=D.length;k<z;k++)D[k]=0}function v(D){h(D,0)}function h(D,k){let z=i.newAttributes,V=i.enabledAttributes,W=i.attributeDivisors;z[D]=1,V[D]===0&&(t.enableVertexAttribArray(D),V[D]=1),W[D]!==k&&(t.vertexAttribDivisor(D,k),W[D]=k)}function g(){let D=i.newAttributes,k=i.enabledAttributes;for(let z=0,V=k.length;z<V;z++)k[z]!==D[z]&&(t.disableVertexAttribArray(z),k[z]=0)}function x(D,k,z,V,W,C,L){L===!0?t.vertexAttribIPointer(D,k,z,W,C):t.vertexAttribPointer(D,k,z,V,W,C)}function b(D,k,z,V){y();let W=V.attributes,C=z.getAttributes(),L=k.defaultAttributeValues;for(let B in C){let R=C[B];if(R.location>=0){let T=W[B];if(T===void 0&&(B==="instanceMatrix"&&D.instanceMatrix&&(T=D.instanceMatrix),B==="instanceColor"&&D.instanceColor&&(T=D.instanceColor)),T!==void 0){let P=T.normalized,H=T.itemSize,K=e.get(T);if(K===void 0)continue;let ee=K.buffer,ne=K.type,G=K.bytesPerElement,Q=ne===t.INT||ne===t.UNSIGNED_INT||T.gpuType===h0;if(T.isInterleavedBufferAttribute){let de=T.data,X=de.stride,pe=T.offset;if(de.isInstancedInterleavedBuffer){for(let ue=0;ue<R.locationSize;ue++)h(R.location+ue,de.meshPerAttribute);D.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let ue=0;ue<R.locationSize;ue++)v(R.location+ue);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let ue=0;ue<R.locationSize;ue++)x(R.location+ue,H/R.locationSize,ne,P,X*G,(pe+H/R.locationSize*ue)*G,Q)}else{if(T.isInstancedBufferAttribute){for(let de=0;de<R.locationSize;de++)h(R.location+de,T.meshPerAttribute);D.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=T.meshPerAttribute*T.count)}else for(let de=0;de<R.locationSize;de++)v(R.location+de);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let de=0;de<R.locationSize;de++)x(R.location+de,H/R.locationSize,ne,P,H*G,H/R.locationSize*de*G,Q)}}else if(L!==void 0){let P=L[B];if(P!==void 0)switch(P.length){case 2:t.vertexAttrib2fv(R.location,P);break;case 3:t.vertexAttrib3fv(R.location,P);break;case 4:t.vertexAttrib4fv(R.location,P);break;default:t.vertexAttrib1fv(R.location,P)}}}}g()}function _(){w();for(let D in r){let k=r[D];for(let z in k){let V=k[z];for(let W in V){let C=V[W];for(let L in C)c(C[L].object),delete C[L];delete V[W]}}delete r[D]}}function M(D){if(r[D.id]===void 0)return;let k=r[D.id];for(let z in k){let V=k[z];for(let W in V){let C=V[W];for(let L in C)c(C[L].object),delete C[L];delete V[W]}}delete r[D.id]}function A(D){for(let k in r){let z=r[k];for(let V in z){let W=z[V];if(W[D.id]===void 0)continue;let C=W[D.id];for(let L in C)c(C[L].object),delete C[L];delete W[D.id]}}}function S(D){for(let k in r){let z=r[k],V=D.isInstancedMesh===!0?D.id:0,W=z[V];if(W!==void 0){for(let C in W){let L=W[C];for(let B in L)c(L[B].object),delete L[B];delete W[C]}delete z[V],Object.keys(z).length===0&&delete r[k]}}}function w(){U(),o=!0,i!==a&&(i=a,u(i.object))}function U(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:s,reset:w,resetDefaultState:U,dispose:_,releaseStatesOfGeometry:M,releaseStatesOfObject:S,releaseStatesOfProgram:A,initAttributes:y,enableAttribute:v,disableUnusedAttributes:g}}function pZ(t,e,n){let r;function a(u){r=u}function i(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let p=0;for(let m=0;m<f;m++)p+=c[m];n.update(p,r,1)}function l(u,c,f,d){if(f===0)return;let p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<u.length;m++)o(u[m],c[m],d[m]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,c,0,d,0,f);let m=0;for(let y=0;y<f;y++)m+=c[y]*d[y];n.update(m,r,1)}}this.setMode=a,this.render=i,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function hZ(t,e,n,r){let a;function i(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){let A=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function o(A){return!(A!==ni&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(A){let S=A===po&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==sa&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Fi&&!S)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp",c=l(u);c!==u&&(Ze("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);let f=n.logarithmicDepthBuffer===!0,d=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),h=t.getParameter(t.MAX_VERTEX_ATTRIBS),g=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=t.getParameter(t.MAX_SAMPLES),M=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:d,maxTextures:p,maxVertexTextures:m,maxTextureSize:y,maxCubemapSize:v,maxAttributes:h,maxVertexUniforms:g,maxVaryings:x,maxFragmentUniforms:b,maxSamples:_,samples:M}}function mZ(t){let e=this,n=null,r=0,a=!1,i=!1,o=new oo,s=new st,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){let p=f.length!==0||d||r!==0||a;return a=d,r=f.length,p},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,p){let m=f.clippingPlanes,y=f.clipIntersection,v=f.clipShadows,h=t.get(f);if(!a||m===null||m.length===0||i&&!v)i?c(null):u();else{let g=i?0:r,x=g*4,b=h.clippingState||null;l.value=b,b=c(m,d,x,p);for(let _=0;_!==x;++_)b[_]=n[_];h.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=g}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,p,m){let y=f!==null?f.length:0,v=null;if(y!==0){if(v=l.value,m!==!0||v===null){let h=p+y*4,g=d.matrixWorldInverse;s.getNormalMatrix(g),(v===null||v.length<h)&&(v=new Float32Array(h));for(let x=0,b=p;x!==y;++x,b+=4)o.copy(f[x]).applyMatrix4(g,s),o.normal.toArray(v,b),v[b+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}var Il=4,aB=[.125,.215,.35,.446,.526,.582],Gu=20,gZ=256,Em=new id,iB=new lt,rE=null,aE=0,iE=0,oE=!1,vZ=new $,nb=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,a=100,i={}){let{size:o=256,position:s=vZ}=i;rE=this._renderer.getRenderTarget(),aE=this._renderer.getActiveCubeFace(),iE=this._renderer.getActiveMipmapLevel(),oE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);let l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,a,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=lB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(rE,aE,iE),this._renderer.xr.enabled=oE,e.scissorTest=!1,cd(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Cl||e.mapping===Uu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),rE=this._renderer.getRenderTarget(),aE=this._renderer.getActiveCubeFace(),iE=this._renderer.getActiveMipmapLevel(),oE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;let r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:br,minFilter:br,generateMipmaps:!1,type:po,format:ni,colorSpace:Pu,depthBuffer:!1},a=oB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=oB(e,n,r);let{_lodMax:i}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=yZ(i)),this._blurMaterial=bZ(i,e,n),this._ggxMaterial=xZ(i,e,n)}return a}_compileMaterial(e){let n=new hn(new lr,e);this._renderer.compile(n,Em)}_sceneToCubeUV(e,n,r,a,i){let l=new Er(90,1,n,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,d=f.autoClear,p=f.toneMapping;f.getClearColor(iB),f.toneMapping=Bi,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(a),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new hn(new co,new Ou({name:"PMREM.Background",side:Hr,depthWrite:!1,depthTest:!1})));let y=this._backgroundBox,v=y.material,h=!1,g=e.background;g?g.isColor&&(v.color.copy(g),e.background=null,h=!0):(v.color.copy(iB),h=!0);for(let x=0;x<6;x++){let b=x%3;b===0?(l.up.set(0,u[x],0),l.position.set(i.x,i.y,i.z),l.lookAt(i.x+c[x],i.y,i.z)):b===1?(l.up.set(0,0,u[x]),l.position.set(i.x,i.y,i.z),l.lookAt(i.x,i.y+c[x],i.z)):(l.up.set(0,u[x],0),l.position.set(i.x,i.y,i.z),l.lookAt(i.x,i.y,i.z+c[x]));let _=this._cubeSize;cd(a,b*_,x>2?_:0,_,_),f.setRenderTarget(a),h&&f.render(y,l),f.render(e,l)}f.toneMapping=p,f.autoClear=d,e.background=g}_textureToCubeUV(e,n){let r=this._renderer,a=e.mapping===Cl||e.mapping===Uu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=lB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sB());let i=a?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=i;let s=i.uniforms;s.envMap.value=e;let l=this._cubeSize;cd(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,Em)}_applyPMREM(e){let n=this._renderer,r=n.autoClear;n.autoClear=!1;let a=this._lodMeshes.length;for(let i=1;i<a;i++)this._applyGGXFilter(e,i-1,i);n.autoClear=r}_applyGGXFilter(e,n,r){let a=this._renderer,i=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[r];s.material=o;let l=o.uniforms,u=r/(this._lodMeshes.length-1),c=n/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),d=0+u*1.25,p=f*d,{_lodMax:m}=this,y=this._sizeLods[r],v=3*y*(r>m-Il?r-m+Il:0),h=4*(this._cubeSize-y);l.envMap.value=e.texture,l.roughness.value=p,l.mipInt.value=m-n,cd(i,v,h,3*y,2*y),a.setRenderTarget(i),a.render(s,Em),l.envMap.value=i.texture,l.roughness.value=0,l.mipInt.value=m-r,cd(e,v,h,3*y,2*y),a.setRenderTarget(e),a.render(s,Em)}_blur(e,n,r,a,i){let o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,a,"latitudinal",i),this._halfBlur(o,e,r,r,a,"longitudinal",i)}_halfBlur(e,n,r,a,i,o,s){let l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&Ke("blur direction must be either latitudinal or longitudinal!");let c=3,f=this._lodMeshes[a];f.material=u;let d=u.uniforms,p=this._sizeLods[r]-1,m=isFinite(i)?Math.PI/(2*p):2*Math.PI/(2*Gu-1),y=i/m,v=isFinite(i)?1+Math.floor(c*y):Gu;v>Gu&&Ze(`sigmaRadians, ${i}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Gu}`);let h=[],g=0;for(let A=0;A<Gu;++A){let S=A/y,w=Math.exp(-S*S/2);h.push(w),A===0?g+=w:A<v&&(g+=2*w)}for(let A=0;A<h.length;A++)h[A]=h[A]/g;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=h,d.latitudinal.value=o==="latitudinal",s&&(d.poleAxis.value=s);let{_lodMax:x}=this;d.dTheta.value=m,d.mipInt.value=x-r;let b=this._sizeLods[a],_=3*b*(a>x-Il?a-x+Il:0),M=4*(this._cubeSize-b);cd(n,_,M,3*b,2*b),l.setRenderTarget(n),l.render(f,Em)}};function yZ(t){let e=[],n=[],r=[],a=t,i=t-Il+1+aB.length;for(let o=0;o<i;o++){let s=Math.pow(2,a);e.push(s);let l=1/s;o>t-Il?l=aB[o-t+Il-1]:o===0&&(l=0),n.push(l);let u=1/(s-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,m=6,y=3,v=2,h=1,g=new Float32Array(y*m*p),x=new Float32Array(v*m*p),b=new Float32Array(h*m*p);for(let M=0;M<p;M++){let A=M%3*2/3-1,S=M>2?0:-1,w=[A,S,0,A+2/3,S,0,A+2/3,S+1,0,A,S,0,A+2/3,S+1,0,A,S+1,0];g.set(w,y*m*M),x.set(d,v*m*M);let U=[M,M,M,M,M,M];b.set(U,h*m*M)}let _=new lr;_.setAttribute("position",new Ca(g,y)),_.setAttribute("uv",new Ca(x,v)),_.setAttribute("faceIndex",new Ca(b,h)),r.push(new hn(_,null)),a>Il&&a--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function oB(t,e,n){let r=new Ea(t,e,n);return r.texture.mapping=Sm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function cd(t,e,n,r,a){t.viewport.set(e,n,r,a),t.scissor.set(e,n,r,a)}function xZ(t,e,n){return new Ia({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:gZ,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:ib(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function bZ(t,e,n){let r=new Float32Array(Gu),a=new $(0,1,0);return new Ia({name:"SphericalGaussianBlur",defines:{n:Gu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function sB(){return new Ia({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function lB(){return new Ia({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ib(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function ib(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}var rb=class extends Ea{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},a=[r,r,r,r,r,r];this.texture=new am(a),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new co(5,5,5),i=new Ia({name:"CubemapFromEquirect",uniforms:zu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Hr,blending:fo});i.uniforms.tEquirect.value=n;let o=new hn(a,i),s=n.minFilter;return n.minFilter===El&&(n.minFilter=br),new l0(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,a=!0){let i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,a);e.setRenderTarget(i)}};function SZ(t){let e=new WeakMap,n=new WeakMap,r=null;function a(d,p=!1){return d==null?null:p?o(d):i(d)}function i(d){if(d&&d.isTexture){let p=d.mapping;if(p===f0||p===d0)if(e.has(d)){let m=e.get(d).texture;return s(m,d.mapping)}else{let m=d.image;if(m&&m.height>0){let y=new rb(m.height);return y.fromEquirectangularTexture(t,d),e.set(d,y),d.addEventListener("dispose",u),s(y.texture,d.mapping)}else return null}}return d}function o(d){if(d&&d.isTexture){let p=d.mapping,m=p===f0||p===d0,y=p===Cl||p===Uu;if(m||y){let v=n.get(d),h=v!==void 0?v.texture.pmremVersion:0;if(d.isRenderTargetTexture&&d.pmremVersion!==h)return r===null&&(r=new nb(t)),v=m?r.fromEquirectangular(d,v):r.fromCubemap(d,v),v.texture.pmremVersion=d.pmremVersion,n.set(d,v),v.texture;if(v!==void 0)return v.texture;{let g=d.image;return m&&g&&g.height>0||y&&g&&l(g)?(r===null&&(r=new nb(t)),v=m?r.fromEquirectangular(d):r.fromCubemap(d),v.texture.pmremVersion=d.pmremVersion,n.set(d,v),d.addEventListener("dispose",c),v.texture):null}}}return d}function s(d,p){return p===f0?d.mapping=Cl:p===d0&&(d.mapping=Uu),d}function l(d){let p=0,m=6;for(let y=0;y<m;y++)d[y]!==void 0&&p++;return p===m}function u(d){let p=d.target;p.removeEventListener("dispose",u);let m=e.get(p);m!==void 0&&(e.delete(p),m.dispose())}function c(d){let p=d.target;p.removeEventListener("dispose",c);let m=n.get(p);m!==void 0&&(n.delete(p),m.dispose())}function f(){e=new WeakMap,n=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:a,dispose:f}}function _Z(t){let e={};function n(r){if(e[r]!==void 0)return e[r];let a=t.getExtension(r);return e[r]=a,a}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){let a=n(r);return a===null&&Kh("WebGLRenderer: "+r+" extension not supported."),a}}}function MZ(t,e,n,r){let a={},i=new WeakMap;function o(f){let d=f.target;d.index!==null&&e.remove(d.index);for(let m in d.attributes)e.remove(d.attributes[m]);d.removeEventListener("dispose",o),delete a[d.id];let p=i.get(d);p&&(e.remove(p),i.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return a[d.id]===!0||(d.addEventListener("dispose",o),a[d.id]=!0,n.memory.geometries++),d}function l(f){let d=f.attributes;for(let p in d)e.update(d[p],t.ARRAY_BUFFER)}function u(f){let d=[],p=f.index,m=f.attributes.position,y=0;if(m===void 0)return;if(p!==null){let g=p.array;y=p.version;for(let x=0,b=g.length;x<b;x+=3){let _=g[x+0],M=g[x+1],A=g[x+2];d.push(_,M,M,A,A,_)}}else{let g=m.array;y=m.version;for(let x=0,b=g.length/3-1;x<b;x+=3){let _=x+0,M=x+1,A=x+2;d.push(_,M,M,A,A,_)}}let v=new(m.count>=65535?tm:em)(d,1);v.version=y;let h=i.get(f);h&&e.remove(h),i.set(f,v)}function c(f){let d=i.get(f);if(d){let p=f.index;p!==null&&d.version<p.version&&u(f)}else u(f);return i.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function AZ(t,e,n){let r;function a(d){r=d}let i,o;function s(d){i=d.type,o=d.bytesPerElement}function l(d,p){t.drawElements(r,p,i,d*o),n.update(p,r,1)}function u(d,p,m){m!==0&&(t.drawElementsInstanced(r,p,i,d*o,m),n.update(p,r,m))}function c(d,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,i,d,0,m);let v=0;for(let h=0;h<m;h++)v+=p[h];n.update(v,r,1)}function f(d,p,m,y){if(m===0)return;let v=e.get("WEBGL_multi_draw");if(v===null)for(let h=0;h<d.length;h++)u(d[h]/o,p[h],y[h]);else{v.multiDrawElementsInstancedWEBGL(r,p,0,i,d,0,y,0,m);let h=0;for(let g=0;g<m;g++)h+=p[g]*y[g];n.update(h,r,1)}}this.setMode=a,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function wZ(t){let e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(i,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(i/3);break;case t.LINES:n.lines+=s*(i/2);break;case t.LINE_STRIP:n.lines+=s*(i-1);break;case t.LINE_LOOP:n.lines+=s*i;break;case t.POINTS:n.points+=s*i;break;default:Ke("WebGLInfo: Unknown draw mode:",o);break}}function a(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:a,update:r}}function CZ(t,e,n){let r=new WeakMap,a=new wn;function i(o,s,l){let u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0,d=r.get(s);if(d===void 0||d.count!==f){let w=function(){A.dispose(),r.delete(s),s.removeEventListener("dispose",w)};d!==void 0&&d.texture.dispose();let p=s.morphAttributes.position!==void 0,m=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,v=s.morphAttributes.position||[],h=s.morphAttributes.normal||[],g=s.morphAttributes.color||[],x=0;p===!0&&(x=1),m===!0&&(x=2),y===!0&&(x=3);let b=s.attributes.position.count*x,_=1;b>e.maxTextureSize&&(_=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);let M=new Float32Array(b*_*4*f),A=new Zh(M,b,_,f);A.type=Fi,A.needsUpdate=!0;let S=x*4;for(let U=0;U<f;U++){let D=v[U],k=h[U],z=g[U],V=b*_*4*U;for(let W=0;W<D.count;W++){let C=W*S;p===!0&&(a.fromBufferAttribute(D,W),M[V+C+0]=a.x,M[V+C+1]=a.y,M[V+C+2]=a.z,M[V+C+3]=0),m===!0&&(a.fromBufferAttribute(k,W),M[V+C+4]=a.x,M[V+C+5]=a.y,M[V+C+6]=a.z,M[V+C+7]=0),y===!0&&(a.fromBufferAttribute(z,W),M[V+C+8]=a.x,M[V+C+9]=a.y,M[V+C+10]=a.z,M[V+C+11]=z.itemSize===4?a.w:1)}}d={count:f,texture:A,size:new Ue(b,_)},r.set(s,d),s.addEventListener("dispose",w)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let p=0;for(let y=0;y<u.length;y++)p+=u[y];let m=s.morphTargetsRelative?1:1-p;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}return{update:i}}function EZ(t,e,n,r,a){let i=new WeakMap;function o(u){let c=a.render.frame,f=u.geometry,d=e.get(u,f);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),i.get(u)!==c&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),i.set(u,c))),u.isSkinnedMesh){let p=u.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return d}function s(){i=new WeakMap}function l(u){let c=u.target;c.removeEventListener("dispose",l),r.releaseStatesOfObject(c),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}var TZ={[NC]:"LINEAR_TONE_MAPPING",[kC]:"REINHARD_TONE_MAPPING",[BC]:"CINEON_TONE_MAPPING",[bm]:"ACES_FILMIC_TONE_MAPPING",[FC]:"AGX_TONE_MAPPING",[zC]:"NEUTRAL_TONE_MAPPING",[UC]:"CUSTOM_TONE_MAPPING"};function IZ(t,e,n,r,a){let i=new Ea(e,n,{type:t,depthBuffer:r,stencilBuffer:a}),o=new Ea(e,n,{type:po,depthBuffer:!1,stencilBuffer:!1}),s=new lr;s.setAttribute("position",new Kt([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new Kt([0,2,0,0,2,0],2));let l=new Kx({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new hn(s,l),c=new id(-1,1,1,-1,0,1),f=null,d=null,p=!1,m,y=null,v=[],h=!1;this.setSize=function(g,x){i.setSize(g,x),o.setSize(g,x);for(let b=0;b<v.length;b++){let _=v[b];_.setSize&&_.setSize(g,x)}},this.setEffects=function(g){v=g,h=v.length>0&&v[0].isRenderPass===!0;let x=i.width,b=i.height;for(let _=0;_<v.length;_++){let M=v[_];M.setSize&&M.setSize(x,b)}},this.begin=function(g,x){if(p||g.toneMapping===Bi&&v.length===0)return!1;if(y=x,x!==null){let b=x.width,_=x.height;(i.width!==b||i.height!==_)&&this.setSize(b,_)}return h===!1&&g.setRenderTarget(i),m=g.toneMapping,g.toneMapping=Bi,!0},this.hasRenderPass=function(){return h},this.end=function(g,x){g.toneMapping=m,p=!0;let b=i,_=o;for(let M=0;M<v.length;M++){let A=v[M];if(A.enabled!==!1&&(A.render(g,_,b,x),A.needsSwap!==!1)){let S=b;b=_,_=S}}if(f!==g.outputColorSpace||d!==g.toneMapping){f=g.outputColorSpace,d=g.toneMapping,l.defines={},Et.getTransfer(f)===Bt&&(l.defines.SRGB_TRANSFER="");let M=TZ[d];M&&(l.defines[M]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=b.texture,g.setRenderTarget(y),g.render(u,c),y=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){i.dispose(),o.dispose(),s.dispose(),l.dispose()}}var EB=new ia,uE=new _l(1,1),TB=new Zh,IB=new zx,LB=new am,uB=[],cB=[],fB=new Float32Array(16),dB=new Float32Array(9),pB=new Float32Array(4);function dd(t,e,n){let r=t[0];if(r<=0||r>0)return t;let a=e*n,i=uB[a];if(i===void 0&&(i=new Float32Array(a),uB[a]=i),e!==0){r.toArray(i,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(i,s)}return i}function $n(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Jn(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function ob(t,e){let n=cB[e];n===void 0&&(n=new Int32Array(e),cB[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function LZ(t,e){let n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function PZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2fv(this.addr,e),Jn(n,e)}}function RZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if($n(n,e))return;t.uniform3fv(this.addr,e),Jn(n,e)}}function OZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4fv(this.addr,e),Jn(n,e)}}function DZ(t,e){let n=this.cache,r=e.elements;if(r===void 0){if($n(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Jn(n,e)}else{if($n(n,r))return;pB.set(r),t.uniformMatrix2fv(this.addr,!1,pB),Jn(n,r)}}function NZ(t,e){let n=this.cache,r=e.elements;if(r===void 0){if($n(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Jn(n,e)}else{if($n(n,r))return;dB.set(r),t.uniformMatrix3fv(this.addr,!1,dB),Jn(n,r)}}function kZ(t,e){let n=this.cache,r=e.elements;if(r===void 0){if($n(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Jn(n,e)}else{if($n(n,r))return;fB.set(r),t.uniformMatrix4fv(this.addr,!1,fB),Jn(n,r)}}function BZ(t,e){let n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function UZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2iv(this.addr,e),Jn(n,e)}}function FZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($n(n,e))return;t.uniform3iv(this.addr,e),Jn(n,e)}}function zZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4iv(this.addr,e),Jn(n,e)}}function HZ(t,e){let n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function VZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($n(n,e))return;t.uniform2uiv(this.addr,e),Jn(n,e)}}function GZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($n(n,e))return;t.uniform3uiv(this.addr,e),Jn(n,e)}}function qZ(t,e){let n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($n(n,e))return;t.uniform4uiv(this.addr,e),Jn(n,e)}}function WZ(t,e,n){let r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a);let i;this.type===t.SAMPLER_2D_SHADOW?(uE.compareFunction=n.isReversedDepthBuffer()?Q0:J0,i=uE):i=EB,n.setTexture2D(e||i,a)}function jZ(t,e,n){let r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTexture3D(e||IB,a)}function XZ(t,e,n){let r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTextureCube(e||LB,a)}function YZ(t,e,n){let r=this.cache,a=n.allocateTextureUnit();r[0]!==a&&(t.uniform1i(this.addr,a),r[0]=a),n.setTexture2DArray(e||TB,a)}function KZ(t){switch(t){case 5126:return LZ;case 35664:return PZ;case 35665:return RZ;case 35666:return OZ;case 35674:return DZ;case 35675:return NZ;case 35676:return kZ;case 5124:case 35670:return BZ;case 35667:case 35671:return UZ;case 35668:case 35672:return FZ;case 35669:case 35673:return zZ;case 5125:return HZ;case 36294:return VZ;case 36295:return GZ;case 36296:return qZ;case 35678:case 36198:case 36298:case 36306:case 35682:return WZ;case 35679:case 36299:case 36307:return jZ;case 35680:case 36300:case 36308:case 36293:return XZ;case 36289:case 36303:case 36311:case 36292:return YZ}}function ZZ(t,e){t.uniform1fv(this.addr,e)}function $Z(t,e){let n=dd(e,this.size,2);t.uniform2fv(this.addr,n)}function JZ(t,e){let n=dd(e,this.size,3);t.uniform3fv(this.addr,n)}function QZ(t,e){let n=dd(e,this.size,4);t.uniform4fv(this.addr,n)}function e$(t,e){let n=dd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function t$(t,e){let n=dd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function n$(t,e){let n=dd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function r$(t,e){t.uniform1iv(this.addr,e)}function a$(t,e){t.uniform2iv(this.addr,e)}function i$(t,e){t.uniform3iv(this.addr,e)}function o$(t,e){t.uniform4iv(this.addr,e)}function s$(t,e){t.uniform1uiv(this.addr,e)}function l$(t,e){t.uniform2uiv(this.addr,e)}function u$(t,e){t.uniform3uiv(this.addr,e)}function c$(t,e){t.uniform4uiv(this.addr,e)}function f$(t,e,n){let r=this.cache,a=e.length,i=ob(n,a);$n(r,i)||(t.uniform1iv(this.addr,i),Jn(r,i));let o;this.type===t.SAMPLER_2D_SHADOW?o=uE:o=EB;for(let s=0;s!==a;++s)n.setTexture2D(e[s]||o,i[s])}function d$(t,e,n){let r=this.cache,a=e.length,i=ob(n,a);$n(r,i)||(t.uniform1iv(this.addr,i),Jn(r,i));for(let o=0;o!==a;++o)n.setTexture3D(e[o]||IB,i[o])}function p$(t,e,n){let r=this.cache,a=e.length,i=ob(n,a);$n(r,i)||(t.uniform1iv(this.addr,i),Jn(r,i));for(let o=0;o!==a;++o)n.setTextureCube(e[o]||LB,i[o])}function h$(t,e,n){let r=this.cache,a=e.length,i=ob(n,a);$n(r,i)||(t.uniform1iv(this.addr,i),Jn(r,i));for(let o=0;o!==a;++o)n.setTexture2DArray(e[o]||TB,i[o])}function m$(t){switch(t){case 5126:return ZZ;case 35664:return $Z;case 35665:return JZ;case 35666:return QZ;case 35674:return e$;case 35675:return t$;case 35676:return n$;case 5124:case 35670:return r$;case 35667:case 35671:return a$;case 35668:case 35672:return i$;case 35669:case 35673:return o$;case 5125:return s$;case 36294:return l$;case 36295:return u$;case 36296:return c$;case 35678:case 36198:case 36298:case 36306:case 35682:return f$;case 35679:case 36299:case 36307:return d$;case 35680:case 36300:case 36308:case 36293:return p$;case 36289:case 36303:case 36311:case 36292:return h$}}var cE=class{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=KZ(n.type)}},fE=class{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=m$(n.type)}},dE=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){let a=this.seq;for(let i=0,o=a.length;i!==o;++i){let s=a[i];s.setValue(e,n[s.id],r)}}},sE=/(\w+)(\])?(\[|\.)?/g;function hB(t,e){t.seq.push(e),t.map[e.id]=e}function g$(t,e,n){let r=t.name,a=r.length;for(sE.lastIndex=0;;){let i=sE.exec(r),o=sE.lastIndex,s=i[1],l=i[2]==="]",u=i[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===a){hB(n,u===void 0?new cE(s,t,e):new fE(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new dE(s),hB(n,f)),n=f}}}var fd=class{constructor(e,n){this.seq=[],this.map={};let r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){let s=e.getActiveUniform(n,o),l=e.getUniformLocation(n,s.name);g$(s,l,this)}let a=[],i=[];for(let o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?a.push(o):i.push(o);a.length>0&&(this.seq=a.concat(i))}setValue(e,n,r,a){let i=this.map[n];i!==void 0&&i.setValue(e,r,a)}setOptional(e,n,r){let a=n[r];a!==void 0&&this.setValue(e,r,a)}static upload(e,n,r,a){for(let i=0,o=n.length;i!==o;++i){let s=n[i],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,a)}}static seqWithValue(e,n){let r=[];for(let a=0,i=e.length;a!==i;++a){let o=e[a];o.id in n&&r.push(o)}return r}};function mB(t,e,n){let r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}var v$=37297,y$=0;function x$(t,e){let n=t.split(`
`),r=[],a=Math.max(e-6,0),i=Math.min(e+6,n.length);for(let o=a;o<i;o++){let s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}var gB=new st;function b$(t){Et._getMatrix(gB,Et.workingColorSpace,t);let e=`mat3( ${gB.elements.map(n=>n.toFixed(4))} )`;switch(Et.getTransfer(t)){case Xh:return[e,"LinearTransferOETF"];case Bt:return[e,"sRGBTransferOETF"];default:return Ze("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function vB(t,e,n){let r=t.getShaderParameter(e,t.COMPILE_STATUS),i=(t.getShaderInfoLog(e)||"").trim();if(r&&i==="")return"";let o=/ERROR: 0:(\d+)/.exec(i);if(o){let s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+x$(t.getShaderSource(e),s)}else return i}function S$(t,e){let n=b$(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}var _$={[NC]:"Linear",[kC]:"Reinhard",[BC]:"Cineon",[bm]:"ACESFilmic",[FC]:"AgX",[zC]:"Neutral",[UC]:"Custom"};function M$(t,e){let n=_$[e];return n===void 0?(Ze("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}var tb=new $;function A$(){Et.getLuminanceCoefficients(tb);let t=tb.x.toFixed(4),e=tb.y.toFixed(4),n=tb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function w$(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Im).join(`
`)}function C$(t){let e=[];for(let n in t){let r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function E$(t,e){let n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){let i=t.getActiveAttrib(e,a),o=i.name,s=1;i.type===t.FLOAT_MAT2&&(s=2),i.type===t.FLOAT_MAT3&&(s=3),i.type===t.FLOAT_MAT4&&(s=4),n[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function Im(t){return t!==""}function yB(t,e){let n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var T$=/^[ \t]*#include +<([\w\d./]+)>/gm;function pE(t){return t.replace(T$,L$)}var I$=new Map;function L$(t,e){let n=dt[e];if(n===void 0){let r=I$.get(e);if(r!==void 0)n=dt[r],Ze('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return pE(n)}var P$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bB(t){return t.replace(P$,R$)}function R$(t,e,n,r){let a="";for(let i=parseInt(e);i<parseInt(n);i++)a+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return a}function SB(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}var O$={[xm]:"SHADOWMAP_TYPE_PCF",[od]:"SHADOWMAP_TYPE_VSM"};function D$(t){return O$[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}var N$={[Cl]:"ENVMAP_TYPE_CUBE",[Uu]:"ENVMAP_TYPE_CUBE",[Sm]:"ENVMAP_TYPE_CUBE_UV"};function k$(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":N$[t.envMapMode]||"ENVMAP_TYPE_CUBE"}var B$={[Uu]:"ENVMAP_MODE_REFRACTION"};function U$(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":B$[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}var F$={[c0]:"ENVMAP_BLENDING_MULTIPLY",[kk]:"ENVMAP_BLENDING_MIX",[Bk]:"ENVMAP_BLENDING_ADD"};function z$(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":F$[t.combine]||"ENVMAP_BLENDING_NONE"}function H$(t){let e=t.envMapCubeUVHeight;if(e===null)return null;let n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function V$(t,e,n,r){let a=t.getContext(),i=n.defines,o=n.vertexShader,s=n.fragmentShader,l=D$(n),u=k$(n),c=U$(n),f=z$(n),d=H$(n),p=w$(n),m=C$(i),y=a.createProgram(),v,h,g=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Im).join(`
`),v.length>0&&(v+=`
`),h=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Im).join(`
`),h.length>0&&(h+=`
`)):(v=[SB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Im).join(`
`),h=[SB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas||n.batchingColor?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Bi?"#define TONE_MAPPING":"",n.toneMapping!==Bi?dt.tonemapping_pars_fragment:"",n.toneMapping!==Bi?M$("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",dt.colorspace_pars_fragment,S$("linearToOutputTexel",n.outputColorSpace),A$(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Im).join(`
`)),o=pE(o),o=yB(o,n),o=xB(o,n),s=pE(s),s=yB(s,n),s=xB(s,n),o=bB(o),s=bB(s),n.isRawShaderMaterial!==!0&&(g=`#version 300 es
`,v=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,h=["#define varying in",n.glslVersion===ZC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===ZC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h);let x=g+v+o,b=g+h+s,_=mB(a,a.VERTEX_SHADER,x),M=mB(a,a.FRAGMENT_SHADER,b);a.attachShader(y,_),a.attachShader(y,M),n.index0AttributeName!==void 0?a.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&a.bindAttribLocation(y,0,"position"),a.linkProgram(y);function A(D){if(t.debug.checkShaderErrors){let k=a.getProgramInfoLog(y)||"",z=a.getShaderInfoLog(_)||"",V=a.getShaderInfoLog(M)||"",W=k.trim(),C=z.trim(),L=V.trim(),B=!0,R=!0;if(a.getProgramParameter(y,a.LINK_STATUS)===!1)if(B=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(a,y,_,M);else{let T=vB(a,_,"vertex"),P=vB(a,M,"fragment");Ke("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(y,a.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+W+`
`+T+`
`+P)}else W!==""?Ze("WebGLProgram: Program Info Log:",W):(C===""||L==="")&&(R=!1);R&&(D.diagnostics={runnable:B,programLog:W,vertexShader:{log:C,prefix:v},fragmentShader:{log:L,prefix:h}})}a.deleteShader(_),a.deleteShader(M),S=new fd(a,y),w=E$(a,y)}let S;this.getUniforms=function(){return S===void 0&&A(this),S};let w;this.getAttributes=function(){return w===void 0&&A(this),w};let U=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=a.getProgramParameter(y,v$)),U},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=y$++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=_,this.fragmentShader=M,this}var G$=0,hE=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let n=e.vertexShader,r=e.fragmentShader,a=this._getShaderStage(n),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(a)===!1&&(o.add(a),a.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){let n=this.materialCache.get(e);for(let r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let n=this.materialCache,r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){let n=this.shaderCache,r=n.get(e);return r===void 0&&(r=new mE(e),n.set(e,r)),r}},mE=class{constructor(e){this.id=G$++,this.code=e,this.usedTimes=0}};function q$(t,e,n,r,a,i){let o=new $h,s=new hE,l=new Set,u=[],c=new Map,f=r.logarithmicDepthBuffer,d=r.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return l.add(S),S===0?"uv":`uv${S}`}function y(S,w,U,D,k){let z=D.fog,V=k.geometry,W=S.isMeshStandardMaterial||S.isMeshLambertMaterial||S.isMeshPhongMaterial?D.environment:null,C=S.isMeshStandardMaterial||S.isMeshLambertMaterial&&!S.envMap||S.isMeshPhongMaterial&&!S.envMap,L=e.get(S.envMap||W,C),B=L&&L.mapping===Sm?L.image.height:null,R=p[S.type];S.precision!==null&&(d=r.getMaxPrecision(S.precision),d!==S.precision&&Ze("WebGLProgram.getParameters:",S.precision,"not supported, using",d,"instead."));let T=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,P=T!==void 0?T.length:0,H=0;V.morphAttributes.position!==void 0&&(H=1),V.morphAttributes.normal!==void 0&&(H=2),V.morphAttributes.color!==void 0&&(H=3);let K,ee,ne,G;if(R){let zt=mo[R];K=zt.vertexShader,ee=zt.fragmentShader}else K=S.vertexShader,ee=S.fragmentShader,s.update(S),ne=s.getVertexShaderID(S),G=s.getFragmentShaderID(S);let Q=t.getRenderTarget(),de=t.state.buffers.depth.getReversed(),X=k.isInstancedMesh===!0,pe=k.isBatchedMesh===!0,ue=!!S.map,oe=!!S.matcap,qe=!!L,Ie=!!S.aoMap,et=!!S.lightMap,He=!!S.bumpMap,Ct=!!S.normalMap,q=!!S.displacementMap,Lt=!!S.emissiveMap,_t=!!S.metalnessMap,Dt=!!S.roughnessMap,Re=S.anisotropy>0,F=S.clearcoat>0,I=S.dispersion>0,Z=S.iridescence>0,fe=S.sheen>0,me=S.transmission>0,le=Re&&!!S.anisotropyMap,Oe=F&&!!S.clearcoatMap,_e=F&&!!S.clearcoatNormalMap,je=F&&!!S.clearcoatRoughnessMap,Xe=Z&&!!S.iridescenceMap,ve=Z&&!!S.iridescenceThicknessMap,be=fe&&!!S.sheenColorMap,De=fe&&!!S.sheenRoughnessMap,ke=!!S.specularMap,Te=!!S.specularColorMap,ht=!!S.specularIntensityMap,j=me&&!!S.transmissionMap,Me=me&&!!S.thicknessMap,Se=!!S.gradientMap,Pe=!!S.alphaMap,ye=S.alphaTest>0,se=!!S.alphaHash,Ne=!!S.extensions,tt=Bi;S.toneMapped&&(Q===null||Q.isXRRenderTarget===!0)&&(tt=t.toneMapping);let on={shaderID:R,shaderType:S.type,shaderName:S.name,vertexShader:K,fragmentShader:ee,defines:S.defines,customVertexShaderID:ne,customFragmentShaderID:G,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:d,batching:pe,batchingColor:pe&&k._colorsTexture!==null,instancing:X,instancingColor:X&&k.instanceColor!==null,instancingMorph:X&&k.morphTexture!==null,outputColorSpace:Q===null?t.outputColorSpace:Q.isXRRenderTarget===!0?Q.texture.colorSpace:Pu,alphaToCoverage:!!S.alphaToCoverage,map:ue,matcap:oe,envMap:qe,envMapMode:qe&&L.mapping,envMapCubeUVHeight:B,aoMap:Ie,lightMap:et,bumpMap:He,normalMap:Ct,displacementMap:q,emissiveMap:Lt,normalMapObjectSpace:Ct&&S.normalMapType===zk,normalMapTangentSpace:Ct&&S.normalMapType===KC,metalnessMap:_t,roughnessMap:Dt,anisotropy:Re,anisotropyMap:le,clearcoat:F,clearcoatMap:Oe,clearcoatNormalMap:_e,clearcoatRoughnessMap:je,dispersion:I,iridescence:Z,iridescenceMap:Xe,iridescenceThicknessMap:ve,sheen:fe,sheenColorMap:be,sheenRoughnessMap:De,specularMap:ke,specularColorMap:Te,specularIntensityMap:ht,transmission:me,transmissionMap:j,thicknessMap:Me,gradientMap:Se,opaque:S.transparent===!1&&S.blending===Iu&&S.alphaToCoverage===!1,alphaMap:Pe,alphaTest:ye,alphaHash:se,combine:S.combine,mapUv:ue&&m(S.map.channel),aoMapUv:Ie&&m(S.aoMap.channel),lightMapUv:et&&m(S.lightMap.channel),bumpMapUv:He&&m(S.bumpMap.channel),normalMapUv:Ct&&m(S.normalMap.channel),displacementMapUv:q&&m(S.displacementMap.channel),emissiveMapUv:Lt&&m(S.emissiveMap.channel),metalnessMapUv:_t&&m(S.metalnessMap.channel),roughnessMapUv:Dt&&m(S.roughnessMap.channel),anisotropyMapUv:le&&m(S.anisotropyMap.channel),clearcoatMapUv:Oe&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:_e&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:je&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:ve&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:be&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:De&&m(S.sheenRoughnessMap.channel),specularMapUv:ke&&m(S.specularMap.channel),specularColorMapUv:Te&&m(S.specularColorMap.channel),specularIntensityMapUv:ht&&m(S.specularIntensityMap.channel),transmissionMapUv:j&&m(S.transmissionMap.channel),thicknessMapUv:Me&&m(S.thicknessMap.channel),alphaMapUv:Pe&&m(S.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(Ct||Re),vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:k.isPoints===!0&&!!V.attributes.uv&&(ue||Pe),fog:!!z,useFog:S.fog===!0,fogExp2:!!z&&z.isFogExp2,flatShading:S.wireframe===!1&&(S.flatShading===!0||V.attributes.normal===void 0&&Ct===!1&&(S.isMeshLambertMaterial||S.isMeshPhongMaterial||S.isMeshStandardMaterial||S.isMeshPhysicalMaterial)),sizeAttenuation:S.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:de,skinning:k.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:P,morphTextureStride:H,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:i.numPlanes,numClipIntersection:i.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&U.length>0,shadowMapType:t.shadowMap.type,toneMapping:tt,decodeVideoTexture:ue&&S.map.isVideoTexture===!0&&Et.getTransfer(S.map.colorSpace)===Bt,decodeVideoTextureEmissive:Lt&&S.emissiveMap.isVideoTexture===!0&&Et.getTransfer(S.emissiveMap.colorSpace)===Bt,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===oa,flipSided:S.side===Hr,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:Ne&&S.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ne&&S.extensions.multiDraw===!0||pe)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return on.vertexUv1s=l.has(1),on.vertexUv2s=l.has(2),on.vertexUv3s=l.has(3),l.clear(),on}function v(S){let w=[];if(S.shaderID?w.push(S.shaderID):(w.push(S.customVertexShaderID),w.push(S.customFragmentShaderID)),S.defines!==void 0)for(let U in S.defines)w.push(U),w.push(S.defines[U]);return S.isRawShaderMaterial===!1&&(h(w,S),g(w,S),w.push(t.outputColorSpace)),w.push(S.customProgramCacheKey),w.join()}function h(S,w){S.push(w.precision),S.push(w.outputColorSpace),S.push(w.envMapMode),S.push(w.envMapCubeUVHeight),S.push(w.mapUv),S.push(w.alphaMapUv),S.push(w.lightMapUv),S.push(w.aoMapUv),S.push(w.bumpMapUv),S.push(w.normalMapUv),S.push(w.displacementMapUv),S.push(w.emissiveMapUv),S.push(w.metalnessMapUv),S.push(w.roughnessMapUv),S.push(w.anisotropyMapUv),S.push(w.clearcoatMapUv),S.push(w.clearcoatNormalMapUv),S.push(w.clearcoatRoughnessMapUv),S.push(w.iridescenceMapUv),S.push(w.iridescenceThicknessMapUv),S.push(w.sheenColorMapUv),S.push(w.sheenRoughnessMapUv),S.push(w.specularMapUv),S.push(w.specularColorMapUv),S.push(w.specularIntensityMapUv),S.push(w.transmissionMapUv),S.push(w.thicknessMapUv),S.push(w.combine),S.push(w.fogExp2),S.push(w.sizeAttenuation),S.push(w.morphTargetsCount),S.push(w.morphAttributeCount),S.push(w.numDirLights),S.push(w.numPointLights),S.push(w.numSpotLights),S.push(w.numSpotLightMaps),S.push(w.numHemiLights),S.push(w.numRectAreaLights),S.push(w.numDirLightShadows),S.push(w.numPointLightShadows),S.push(w.numSpotLightShadows),S.push(w.numSpotLightShadowsWithMaps),S.push(w.numLightProbes),S.push(w.shadowMapType),S.push(w.toneMapping),S.push(w.numClippingPlanes),S.push(w.numClipIntersection),S.push(w.depthPacking)}function g(S,w){o.disableAll(),w.instancing&&o.enable(0),w.instancingColor&&o.enable(1),w.instancingMorph&&o.enable(2),w.matcap&&o.enable(3),w.envMap&&o.enable(4),w.normalMapObjectSpace&&o.enable(5),w.normalMapTangentSpace&&o.enable(6),w.clearcoat&&o.enable(7),w.iridescence&&o.enable(8),w.alphaTest&&o.enable(9),w.vertexColors&&o.enable(10),w.vertexAlphas&&o.enable(11),w.vertexUv1s&&o.enable(12),w.vertexUv2s&&o.enable(13),w.vertexUv3s&&o.enable(14),w.vertexTangents&&o.enable(15),w.anisotropy&&o.enable(16),w.alphaHash&&o.enable(17),w.batching&&o.enable(18),w.dispersion&&o.enable(19),w.batchingColor&&o.enable(20),w.gradientMap&&o.enable(21),S.push(o.mask),o.disableAll(),w.fog&&o.enable(0),w.useFog&&o.enable(1),w.flatShading&&o.enable(2),w.logarithmicDepthBuffer&&o.enable(3),w.reversedDepthBuffer&&o.enable(4),w.skinning&&o.enable(5),w.morphTargets&&o.enable(6),w.morphNormals&&o.enable(7),w.morphColors&&o.enable(8),w.premultipliedAlpha&&o.enable(9),w.shadowMapEnabled&&o.enable(10),w.doubleSided&&o.enable(11),w.flipSided&&o.enable(12),w.useDepthPacking&&o.enable(13),w.dithering&&o.enable(14),w.transmission&&o.enable(15),w.sheen&&o.enable(16),w.opaque&&o.enable(17),w.pointsUvs&&o.enable(18),w.decodeVideoTexture&&o.enable(19),w.decodeVideoTextureEmissive&&o.enable(20),w.alphaToCoverage&&o.enable(21),S.push(o.mask)}function x(S){let w=p[S.type],U;if(w){let D=mo[w];U=nB.clone(D.uniforms)}else U=S.uniforms;return U}function b(S,w){let U=c.get(w);return U!==void 0?++U.usedTimes:(U=new V$(t,w,S,a),u.push(U),c.set(w,U)),U}function _(S){if(--S.usedTimes===0){let w=u.indexOf(S);u[w]=u[u.length-1],u.pop(),c.delete(S.cacheKey),S.destroy()}}function M(S){s.remove(S)}function A(){s.dispose()}return{getParameters:y,getProgramCacheKey:v,getUniforms:x,acquireProgram:b,releaseProgram:_,releaseShaderCache:M,programs:u,dispose:A}}function W$(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function r(o){t.delete(o)}function a(o,s,l){t.get(o)[s]=l}function i(){t=new WeakMap}return{has:e,get:n,remove:r,update:a,dispose:i}}function j$(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.materialVariant!==e.materialVariant?t.materialVariant-e.materialVariant:t.z!==e.z?t.z-e.z:t.id-e.id}function _B(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function MB(){let t=[],e=0,n=[],r=[],a=[];function i(){e=0,n.length=0,r.length=0,a.length=0}function o(d){let p=0;return d.isInstancedMesh&&(p+=2),d.isSkinnedMesh&&(p+=1),p}function s(d,p,m,y,v,h){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:p,material:m,materialVariant:o(d),groupOrder:y,renderOrder:d.renderOrder,z:v,group:h},t[e]=g):(g.id=d.id,g.object=d,g.geometry=p,g.material=m,g.materialVariant=o(d),g.groupOrder=y,g.renderOrder=d.renderOrder,g.z=v,g.group=h),e++,g}function l(d,p,m,y,v,h){let g=s(d,p,m,y,v,h);m.transmission>0?r.push(g):m.transparent===!0?a.push(g):n.push(g)}function u(d,p,m,y,v,h){let g=s(d,p,m,y,v,h);m.transmission>0?r.unshift(g):m.transparent===!0?a.unshift(g):n.unshift(g)}function c(d,p){n.length>1&&n.sort(d||j$),r.length>1&&r.sort(p||_B),a.length>1&&a.sort(p||_B)}function f(){for(let d=e,p=t.length;d<p;d++){let m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:a,init:i,push:l,unshift:u,finish:f,sort:c}}function X$(){let t=new WeakMap;function e(r,a){let i=t.get(r),o;return i===void 0?(o=new MB,t.set(r,[o])):a>=i.length?(o=new MB,i.push(o)):o=i[a],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Y$(){let t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new $,color:new lt};break;case"SpotLight":n={position:new $,direction:new $,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $,color:new lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":n={color:new lt,position:new $,halfWidth:new $,halfHeight:new $};break}return t[e.id]=n,n}}}function K$(){let t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}var Z$=0;function $$(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function J$(t){let e=new Y$,n=K$(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new $);let a=new $,i=new xn,o=new xn;function s(u){let c=0,f=0,d=0;for(let w=0;w<9;w++)r.probe[w].set(0,0,0);let p=0,m=0,y=0,v=0,h=0,g=0,x=0,b=0,_=0,M=0,A=0;u.sort($$);for(let w=0,U=u.length;w<U;w++){let D=u[w],k=D.color,z=D.intensity,V=D.distance,W=null;if(D.shadow&&D.shadow.map&&(D.shadow.map.texture.format===Fu?W=D.shadow.map.texture:W=D.shadow.map.depthTexture||D.shadow.map.texture),D.isAmbientLight)c+=k.r*z,f+=k.g*z,d+=k.b*z;else if(D.isLightProbe){for(let C=0;C<9;C++)r.probe[C].addScaledVector(D.sh.coefficients[C],z);A++}else if(D.isDirectionalLight){let C=e.get(D);if(C.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){let L=D.shadow,B=n.get(D);B.shadowIntensity=L.intensity,B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,r.directionalShadow[p]=B,r.directionalShadowMap[p]=W,r.directionalShadowMatrix[p]=D.shadow.matrix,g++}r.directional[p]=C,p++}else if(D.isSpotLight){let C=e.get(D);C.position.setFromMatrixPosition(D.matrixWorld),C.color.copy(k).multiplyScalar(z),C.distance=V,C.coneCos=Math.cos(D.angle),C.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),C.decay=D.decay,r.spot[y]=C;let L=D.shadow;if(D.map&&(r.spotLightMap[_]=D.map,_++,L.updateMatrices(D),D.castShadow&&M++),r.spotLightMatrix[y]=L.matrix,D.castShadow){let B=n.get(D);B.shadowIntensity=L.intensity,B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,r.spotShadow[y]=B,r.spotShadowMap[y]=W,b++}y++}else if(D.isRectAreaLight){let C=e.get(D);C.color.copy(k).multiplyScalar(z),C.halfWidth.set(D.width*.5,0,0),C.halfHeight.set(0,D.height*.5,0),r.rectArea[v]=C,v++}else if(D.isPointLight){let C=e.get(D);if(C.color.copy(D.color).multiplyScalar(D.intensity),C.distance=D.distance,C.decay=D.decay,D.castShadow){let L=D.shadow,B=n.get(D);B.shadowIntensity=L.intensity,B.shadowBias=L.bias,B.shadowNormalBias=L.normalBias,B.shadowRadius=L.radius,B.shadowMapSize=L.mapSize,B.shadowCameraNear=L.camera.near,B.shadowCameraFar=L.camera.far,r.pointShadow[m]=B,r.pointShadowMap[m]=W,r.pointShadowMatrix[m]=D.shadow.matrix,x++}r.point[m]=C,m++}else if(D.isHemisphereLight){let C=e.get(D);C.skyColor.copy(D.color).multiplyScalar(z),C.groundColor.copy(D.groundColor).multiplyScalar(z),r.hemi[h]=C,h++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=we.LTC_FLOAT_1,r.rectAreaLTC2=we.LTC_FLOAT_2):(r.rectAreaLTC1=we.LTC_HALF_1,r.rectAreaLTC2=we.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=d;let S=r.hash;(S.directionalLength!==p||S.pointLength!==m||S.spotLength!==y||S.rectAreaLength!==v||S.hemiLength!==h||S.numDirectionalShadows!==g||S.numPointShadows!==x||S.numSpotShadows!==b||S.numSpotMaps!==_||S.numLightProbes!==A)&&(r.directional.length=p,r.spot.length=y,r.rectArea.length=v,r.point.length=m,r.hemi.length=h,r.directionalShadow.length=g,r.directionalShadowMap.length=g,r.pointShadow.length=x,r.pointShadowMap.length=x,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=g,r.pointShadowMatrix.length=x,r.spotLightMatrix.length=b+_-M,r.spotLightMap.length=_,r.numSpotLightShadowsWithMaps=M,r.numLightProbes=A,S.directionalLength=p,S.pointLength=m,S.spotLength=y,S.rectAreaLength=v,S.hemiLength=h,S.numDirectionalShadows=g,S.numPointShadows=x,S.numSpotShadows=b,S.numSpotMaps=_,S.numLightProbes=A,r.version=Z$++)}function l(u,c){let f=0,d=0,p=0,m=0,y=0,v=c.matrixWorldInverse;for(let h=0,g=u.length;h<g;h++){let x=u[h];if(x.isDirectionalLight){let b=r.directional[f];b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(v),f++}else if(x.isSpotLight){let b=r.spot[p];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),b.direction.sub(a),b.direction.transformDirection(v),p++}else if(x.isRectAreaLight){let b=r.rectArea[m];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),o.identity(),i.copy(x.matrixWorld),i.premultiply(v),o.extractRotation(i),b.halfWidth.set(x.width*.5,0,0),b.halfHeight.set(0,x.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),m++}else if(x.isPointLight){let b=r.point[d];b.position.setFromMatrixPosition(x.matrixWorld),b.position.applyMatrix4(v),d++}else if(x.isHemisphereLight){let b=r.hemi[y];b.direction.setFromMatrixPosition(x.matrixWorld),b.direction.transformDirection(v),y++}}}return{setup:s,setupView:l,state:r}}function AB(t){let e=new J$(t),n=[],r=[];function a(c){u.camera=c,n.length=0,r.length=0}function i(c){n.push(c)}function o(c){r.push(c)}function s(){e.setup(n)}function l(c){e.setupView(n,c)}let u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:u,setupLights:s,setupLightsView:l,pushLight:i,pushShadow:o}}function Q$(t){let e=new WeakMap;function n(a,i=0){let o=e.get(a),s;return o===void 0?(s=new AB(t),e.set(a,[s])):i>=o.length?(s=new AB(t),o.push(s)):s=o[i],s}function r(){e=new WeakMap}return{get:n,dispose:r}}var eJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,tJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,nJ=[new $(1,0,0),new $(-1,0,0),new $(0,1,0),new $(0,-1,0),new $(0,0,1),new $(0,0,-1)],rJ=[new $(0,-1,0),new $(0,-1,0),new $(0,0,1),new $(0,0,-1),new $(0,-1,0),new $(0,-1,0)],wB=new xn,Tm=new $,lE=new $;function aJ(t,e,n){let r=new Jf,a=new Ue,i=new Ue,o=new wn,s=new Zx,l=new $x,u={},c=n.maxTextureSize,f={[as]:Hr,[Hr]:as,[oa]:oa},d=new Ia({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:eJ,fragmentShader:tJ}),p=d.clone();p.defines.HORIZONTAL_PASS=1;let m=new lr;m.setAttribute("position",new Ca(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new hn(m,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xm;let h=this.type;this.render=function(M,A,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;this.type===vk&&(Ze("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=xm);let w=t.getRenderTarget(),U=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),k=t.state;k.setBlending(fo),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);let z=h!==this.type;z&&A.traverse(function(V){V.material&&(Array.isArray(V.material)?V.material.forEach(W=>W.needsUpdate=!0):V.material.needsUpdate=!0)});for(let V=0,W=M.length;V<W;V++){let C=M[V],L=C.shadow;if(L===void 0){Ze("WebGLShadowMap:",C,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;a.copy(L.mapSize);let B=L.getFrameExtents();a.multiply(B),i.copy(L.mapSize),(a.x>c||a.y>c)&&(a.x>c&&(i.x=Math.floor(c/B.x),a.x=i.x*B.x,L.mapSize.x=i.x),a.y>c&&(i.y=Math.floor(c/B.y),a.y=i.y*B.y,L.mapSize.y=i.y));let R=t.state.buffers.depth.getReversed();if(L.camera._reversedDepth=R,L.map===null||z===!0){if(L.map!==null&&(L.map.depthTexture!==null&&(L.map.depthTexture.dispose(),L.map.depthTexture=null),L.map.dispose()),this.type===od){if(C.isPointLight){Ze("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}L.map=new Ea(a.x,a.y,{format:Fu,type:po,minFilter:br,magFilter:br,generateMipmaps:!1}),L.map.texture.name=C.name+".shadowMap",L.map.depthTexture=new _l(a.x,a.y,Fi),L.map.depthTexture.name=C.name+".shadowMapDepth",L.map.depthTexture.format=lo,L.map.depthTexture.compareFunction=null,L.map.depthTexture.minFilter=sr,L.map.depthTexture.magFilter=sr}else C.isPointLight?(L.map=new rb(a.x),L.map.depthTexture=new Vx(a.x,Ui)):(L.map=new Ea(a.x,a.y),L.map.depthTexture=new _l(a.x,a.y,Ui)),L.map.depthTexture.name=C.name+".shadowMap",L.map.depthTexture.format=lo,this.type===xm?(L.map.depthTexture.compareFunction=R?Q0:J0,L.map.depthTexture.minFilter=br,L.map.depthTexture.magFilter=br):(L.map.depthTexture.compareFunction=null,L.map.depthTexture.minFilter=sr,L.map.depthTexture.magFilter=sr);L.camera.updateProjectionMatrix()}let T=L.map.isWebGLCubeRenderTarget?6:1;for(let P=0;P<T;P++){if(L.map.isWebGLCubeRenderTarget)t.setRenderTarget(L.map,P),t.clear();else{P===0&&(t.setRenderTarget(L.map),t.clear());let H=L.getViewport(P);o.set(i.x*H.x,i.y*H.y,i.x*H.z,i.y*H.w),k.viewport(o)}if(C.isPointLight){let H=L.camera,K=L.matrix,ee=C.distance||H.far;ee!==H.far&&(H.far=ee,H.updateProjectionMatrix()),Tm.setFromMatrixPosition(C.matrixWorld),H.position.copy(Tm),lE.copy(H.position),lE.add(nJ[P]),H.up.copy(rJ[P]),H.lookAt(lE),H.updateMatrixWorld(),K.makeTranslation(-Tm.x,-Tm.y,-Tm.z),wB.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),L._frustum.setFromProjectionMatrix(wB,H.coordinateSystem,H.reversedDepth)}else L.updateMatrices(C);r=L.getFrustum(),b(A,S,L.camera,C,this.type)}L.isPointLightShadow!==!0&&this.type===od&&g(L,S),L.needsUpdate=!1}h=this.type,v.needsUpdate=!1,t.setRenderTarget(w,U,D)};function g(M,A){let S=e.update(y);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ea(a.x,a.y,{format:Fu,type:po})),d.uniforms.shadow_pass.value=M.map.depthTexture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(A,null,S,d,y,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(A,null,S,p,y,null)}function x(M,A,S,w){let U=null,D=S.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(D!==void 0)U=D;else if(U=S.isPointLight===!0?l:s,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0||A.alphaToCoverage===!0){let k=U.uuid,z=A.uuid,V=u[k];V===void 0&&(V={},u[k]=V);let W=V[z];W===void 0&&(W=U.clone(),V[z]=W,A.addEventListener("dispose",_)),U=W}if(U.visible=A.visible,U.wireframe=A.wireframe,w===od?U.side=A.shadowSide!==null?A.shadowSide:A.side:U.side=A.shadowSide!==null?A.shadowSide:f[A.side],U.alphaMap=A.alphaMap,U.alphaTest=A.alphaToCoverage===!0?.5:A.alphaTest,U.map=A.map,U.clipShadows=A.clipShadows,U.clippingPlanes=A.clippingPlanes,U.clipIntersection=A.clipIntersection,U.displacementMap=A.displacementMap,U.displacementScale=A.displacementScale,U.displacementBias=A.displacementBias,U.wireframeLinewidth=A.wireframeLinewidth,U.linewidth=A.linewidth,S.isPointLight===!0&&U.isMeshDistanceMaterial===!0){let k=t.properties.get(U);k.light=S}return U}function b(M,A,S,w,U){if(M.visible===!1)return;if(M.layers.test(A.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&U===od)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,M.matrixWorld);let z=e.update(M),V=M.material;if(Array.isArray(V)){let W=z.groups;for(let C=0,L=W.length;C<L;C++){let B=W[C],R=V[B.materialIndex];if(R&&R.visible){let T=x(M,R,w,U);M.onBeforeShadow(t,M,A,S,z,T,B),t.renderBufferDirect(S,null,z,T,M,B),M.onAfterShadow(t,M,A,S,z,T,B)}}}else if(V.visible){let W=x(M,V,w,U);M.onBeforeShadow(t,M,A,S,z,W,null),t.renderBufferDirect(S,null,z,W,M,null),M.onAfterShadow(t,M,A,S,z,W,null)}}let k=M.children;for(let z=0,V=k.length;z<V;z++)b(k[z],A,S,w,U)}function _(M){M.target.removeEventListener("dispose",_);for(let S in u){let w=u[S],U=M.target.uuid;U in w&&(w[U].dispose(),delete w[U])}}}function iJ(t,e){function n(){let j=!1,Me=new wn,Se=null,Pe=new wn(0,0,0,0);return{setMask:function(ye){Se!==ye&&!j&&(t.colorMask(ye,ye,ye,ye),Se=ye)},setLocked:function(ye){j=ye},setClear:function(ye,se,Ne,tt,on){on===!0&&(ye*=tt,se*=tt,Ne*=tt),Me.set(ye,se,Ne,tt),Pe.equals(Me)===!1&&(t.clearColor(ye,se,Ne,tt),Pe.copy(Me))},reset:function(){j=!1,Se=null,Pe.set(-1,0,0,0)}}}function r(){let j=!1,Me=!1,Se=null,Pe=null,ye=null;return{setReversed:function(se){if(Me!==se){let Ne=e.get("EXT_clip_control");se?Ne.clipControlEXT(Ne.LOWER_LEFT_EXT,Ne.ZERO_TO_ONE_EXT):Ne.clipControlEXT(Ne.LOWER_LEFT_EXT,Ne.NEGATIVE_ONE_TO_ONE_EXT),Me=se;let tt=ye;ye=null,this.setClear(tt)}},getReversed:function(){return Me},setTest:function(se){se?Q(t.DEPTH_TEST):de(t.DEPTH_TEST)},setMask:function(se){Se!==se&&!j&&(t.depthMask(se),Se=se)},setFunc:function(se){if(Me&&(se=Zk[se]),Pe!==se){switch(se){case Ex:t.depthFunc(t.NEVER);break;case Tx:t.depthFunc(t.ALWAYS);break;case Ix:t.depthFunc(t.LESS);break;case Lu:t.depthFunc(t.LEQUAL);break;case Lx:t.depthFunc(t.EQUAL);break;case Px:t.depthFunc(t.GEQUAL);break;case Rx:t.depthFunc(t.GREATER);break;case Ox:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pe=se}},setLocked:function(se){j=se},setClear:function(se){ye!==se&&(ye=se,Me&&(se=1-se),t.clearDepth(se))},reset:function(){j=!1,Se=null,Pe=null,ye=null,Me=!1}}}function a(){let j=!1,Me=null,Se=null,Pe=null,ye=null,se=null,Ne=null,tt=null,on=null;return{setTest:function(zt){j||(zt?Q(t.STENCIL_TEST):de(t.STENCIL_TEST))},setMask:function(zt){Me!==zt&&!j&&(t.stencilMask(zt),Me=zt)},setFunc:function(zt,Io,Lo){(Se!==zt||Pe!==Io||ye!==Lo)&&(t.stencilFunc(zt,Io,Lo),Se=zt,Pe=Io,ye=Lo)},setOp:function(zt,Io,Lo){(se!==zt||Ne!==Io||tt!==Lo)&&(t.stencilOp(zt,Io,Lo),se=zt,Ne=Io,tt=Lo)},setLocked:function(zt){j=zt},setClear:function(zt){on!==zt&&(t.clearStencil(zt),on=zt)},reset:function(){j=!1,Me=null,Se=null,Pe=null,ye=null,se=null,Ne=null,tt=null,on=null}}}let i=new n,o=new r,s=new a,l=new WeakMap,u=new WeakMap,c={},f={},d=new WeakMap,p=[],m=null,y=!1,v=null,h=null,g=null,x=null,b=null,_=null,M=null,A=new lt(0,0,0),S=0,w=!1,U=null,D=null,k=null,z=null,V=null,W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),C=!1,L=0,B=t.getParameter(t.VERSION);B.indexOf("WebGL")!==-1?(L=parseFloat(/^WebGL (\d)/.exec(B)[1]),C=L>=1):B.indexOf("OpenGL ES")!==-1&&(L=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),C=L>=2);let R=null,T={},P=t.getParameter(t.SCISSOR_BOX),H=t.getParameter(t.VIEWPORT),K=new wn().fromArray(P),ee=new wn().fromArray(H);function ne(j,Me,Se,Pe){let ye=new Uint8Array(4),se=t.createTexture();t.bindTexture(j,se),t.texParameteri(j,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(j,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ne=0;Ne<Se;Ne++)j===t.TEXTURE_3D||j===t.TEXTURE_2D_ARRAY?t.texImage3D(Me,0,t.RGBA,1,1,Pe,0,t.RGBA,t.UNSIGNED_BYTE,ye):t.texImage2D(Me+Ne,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ye);return se}let G={};G[t.TEXTURE_2D]=ne(t.TEXTURE_2D,t.TEXTURE_2D,1),G[t.TEXTURE_CUBE_MAP]=ne(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),G[t.TEXTURE_2D_ARRAY]=ne(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),G[t.TEXTURE_3D]=ne(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),Q(t.DEPTH_TEST),o.setFunc(Lu),He(!1),Ct(PC),Q(t.CULL_FACE),Ie(fo);function Q(j){c[j]!==!0&&(t.enable(j),c[j]=!0)}function de(j){c[j]!==!1&&(t.disable(j),c[j]=!1)}function X(j,Me){return f[j]!==Me?(t.bindFramebuffer(j,Me),f[j]=Me,j===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Me),j===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Me),!0):!1}function pe(j,Me){let Se=p,Pe=!1;if(j){Se=d.get(Me),Se===void 0&&(Se=[],d.set(Me,Se));let ye=j.textures;if(Se.length!==ye.length||Se[0]!==t.COLOR_ATTACHMENT0){for(let se=0,Ne=ye.length;se<Ne;se++)Se[se]=t.COLOR_ATTACHMENT0+se;Se.length=ye.length,Pe=!0}}else Se[0]!==t.BACK&&(Se[0]=t.BACK,Pe=!0);Pe&&t.drawBuffers(Se)}function ue(j){return m!==j?(t.useProgram(j),m=j,!0):!1}let oe={[bl]:t.FUNC_ADD,[xk]:t.FUNC_SUBTRACT,[bk]:t.FUNC_REVERSE_SUBTRACT};oe[Sk]=t.MIN,oe[_k]=t.MAX;let qe={[Mk]:t.ZERO,[Ak]:t.ONE,[wk]:t.SRC_COLOR,[wx]:t.SRC_ALPHA,[Pk]:t.SRC_ALPHA_SATURATE,[Ik]:t.DST_COLOR,[Ek]:t.DST_ALPHA,[Ck]:t.ONE_MINUS_SRC_COLOR,[Cx]:t.ONE_MINUS_SRC_ALPHA,[Lk]:t.ONE_MINUS_DST_COLOR,[Tk]:t.ONE_MINUS_DST_ALPHA,[Rk]:t.CONSTANT_COLOR,[Ok]:t.ONE_MINUS_CONSTANT_COLOR,[Dk]:t.CONSTANT_ALPHA,[Nk]:t.ONE_MINUS_CONSTANT_ALPHA};function Ie(j,Me,Se,Pe,ye,se,Ne,tt,on,zt){if(j===fo){y===!0&&(de(t.BLEND),y=!1);return}if(y===!1&&(Q(t.BLEND),y=!0),j!==yk){if(j!==v||zt!==w){if((h!==bl||b!==bl)&&(t.blendEquation(t.FUNC_ADD),h=bl,b=bl),zt)switch(j){case Iu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RC:t.blendFunc(t.ONE,t.ONE);break;case OC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DC:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:Ke("WebGLState: Invalid blending: ",j);break}else switch(j){case Iu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RC:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case OC:Ke("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case DC:Ke("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ke("WebGLState: Invalid blending: ",j);break}g=null,x=null,_=null,M=null,A.set(0,0,0),S=0,v=j,w=zt}return}ye=ye||Me,se=se||Se,Ne=Ne||Pe,(Me!==h||ye!==b)&&(t.blendEquationSeparate(oe[Me],oe[ye]),h=Me,b=ye),(Se!==g||Pe!==x||se!==_||Ne!==M)&&(t.blendFuncSeparate(qe[Se],qe[Pe],qe[se],qe[Ne]),g=Se,x=Pe,_=se,M=Ne),(tt.equals(A)===!1||on!==S)&&(t.blendColor(tt.r,tt.g,tt.b,on),A.copy(tt),S=on),v=j,w=!1}function et(j,Me){j.side===oa?de(t.CULL_FACE):Q(t.CULL_FACE);let Se=j.side===Hr;Me&&(Se=!Se),He(Se),j.blending===Iu&&j.transparent===!1?Ie(fo):Ie(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),o.setFunc(j.depthFunc),o.setTest(j.depthTest),o.setMask(j.depthWrite),i.setMask(j.colorWrite);let Pe=j.stencilWrite;s.setTest(Pe),Pe&&(s.setMask(j.stencilWriteMask),s.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),s.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),Lt(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?Q(t.SAMPLE_ALPHA_TO_COVERAGE):de(t.SAMPLE_ALPHA_TO_COVERAGE)}function He(j){U!==j&&(j?t.frontFace(t.CW):t.frontFace(t.CCW),U=j)}function Ct(j){j!==mk?(Q(t.CULL_FACE),j!==D&&(j===PC?t.cullFace(t.BACK):j===gk?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):de(t.CULL_FACE),D=j}function q(j){j!==k&&(C&&t.lineWidth(j),k=j)}function Lt(j,Me,Se){j?(Q(t.POLYGON_OFFSET_FILL),(z!==Me||V!==Se)&&(z=Me,V=Se,o.getReversed()&&(Me=-Me),t.polygonOffset(Me,Se))):de(t.POLYGON_OFFSET_FILL)}function _t(j){j?Q(t.SCISSOR_TEST):de(t.SCISSOR_TEST)}function Dt(j){j===void 0&&(j=t.TEXTURE0+W-1),R!==j&&(t.activeTexture(j),R=j)}function Re(j,Me,Se){Se===void 0&&(R===null?Se=t.TEXTURE0+W-1:Se=R);let Pe=T[Se];Pe===void 0&&(Pe={type:void 0,texture:void 0},T[Se]=Pe),(Pe.type!==j||Pe.texture!==Me)&&(R!==Se&&(t.activeTexture(Se),R=Se),t.bindTexture(j,Me||G[j]),Pe.type=j,Pe.texture=Me)}function F(){let j=T[R];j!==void 0&&j.type!==void 0&&(t.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function I(){try{t.compressedTexImage2D(...arguments)}catch(j){Ke("WebGLState:",j)}}function Z(){try{t.compressedTexImage3D(...arguments)}catch(j){Ke("WebGLState:",j)}}function fe(){try{t.texSubImage2D(...arguments)}catch(j){Ke("WebGLState:",j)}}function me(){try{t.texSubImage3D(...arguments)}catch(j){Ke("WebGLState:",j)}}function le(){try{t.compressedTexSubImage2D(...arguments)}catch(j){Ke("WebGLState:",j)}}function Oe(){try{t.compressedTexSubImage3D(...arguments)}catch(j){Ke("WebGLState:",j)}}function _e(){try{t.texStorage2D(...arguments)}catch(j){Ke("WebGLState:",j)}}function je(){try{t.texStorage3D(...arguments)}catch(j){Ke("WebGLState:",j)}}function Xe(){try{t.texImage2D(...arguments)}catch(j){Ke("WebGLState:",j)}}function ve(){try{t.texImage3D(...arguments)}catch(j){Ke("WebGLState:",j)}}function be(j){K.equals(j)===!1&&(t.scissor(j.x,j.y,j.z,j.w),K.copy(j))}function De(j){ee.equals(j)===!1&&(t.viewport(j.x,j.y,j.z,j.w),ee.copy(j))}function ke(j,Me){let Se=u.get(Me);Se===void 0&&(Se=new WeakMap,u.set(Me,Se));let Pe=Se.get(j);Pe===void 0&&(Pe=t.getUniformBlockIndex(Me,j.name),Se.set(j,Pe))}function Te(j,Me){let Pe=u.get(Me).get(j);l.get(Me)!==Pe&&(t.uniformBlockBinding(Me,Pe,j.__bindingPointIndex),l.set(Me,Pe))}function ht(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},R=null,T={},f={},d=new WeakMap,p=[],m=null,y=!1,v=null,h=null,g=null,x=null,b=null,_=null,M=null,A=new lt(0,0,0),S=0,w=!1,U=null,D=null,k=null,z=null,V=null,K.set(0,0,t.canvas.width,t.canvas.height),ee.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:Q,disable:de,bindFramebuffer:X,drawBuffers:pe,useProgram:ue,setBlending:Ie,setMaterial:et,setFlipSided:He,setCullFace:Ct,setLineWidth:q,setPolygonOffset:Lt,setScissorTest:_t,activeTexture:Dt,bindTexture:Re,unbindTexture:F,compressedTexImage2D:I,compressedTexImage3D:Z,texImage2D:Xe,texImage3D:ve,updateUBOMapping:ke,uniformBlockBinding:Te,texStorage2D:_e,texStorage3D:je,texSubImage2D:fe,texSubImage3D:me,compressedTexSubImage2D:le,compressedTexSubImage3D:Oe,scissor:be,viewport:De,reset:ht}}function oJ(t,e,n,r,a,i,o){let s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ue,c=new WeakMap,f,d=new WeakMap,p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(F,I){return p?new OffscreenCanvas(F,I):Yh("canvas")}function y(F,I,Z){let fe=1,me=Re(F);if((me.width>Z||me.height>Z)&&(fe=Z/Math.max(me.width,me.height)),fe<1)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap||typeof VideoFrame<"u"&&F instanceof VideoFrame){let le=Math.floor(fe*me.width),Oe=Math.floor(fe*me.height);f===void 0&&(f=m(le,Oe));let _e=I?m(le,Oe):f;return _e.width=le,_e.height=Oe,_e.getContext("2d").drawImage(F,0,0,le,Oe),Ze("WebGLRenderer: Texture has been resized from ("+me.width+"x"+me.height+") to ("+le+"x"+Oe+")."),_e}else return"data"in F&&Ze("WebGLRenderer: Image in DataTexture is too big ("+me.width+"x"+me.height+")."),F;return F}function v(F){return F.generateMipmaps}function h(F){t.generateMipmap(F)}function g(F){return F.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:F.isWebGL3DRenderTarget?t.TEXTURE_3D:F.isWebGLArrayRenderTarget||F.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function x(F,I,Z,fe,me=!1){if(F!==null){if(t[F]!==void 0)return t[F];Ze("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let le=I;if(I===t.RED&&(Z===t.FLOAT&&(le=t.R32F),Z===t.HALF_FLOAT&&(le=t.R16F),Z===t.UNSIGNED_BYTE&&(le=t.R8)),I===t.RED_INTEGER&&(Z===t.UNSIGNED_BYTE&&(le=t.R8UI),Z===t.UNSIGNED_SHORT&&(le=t.R16UI),Z===t.UNSIGNED_INT&&(le=t.R32UI),Z===t.BYTE&&(le=t.R8I),Z===t.SHORT&&(le=t.R16I),Z===t.INT&&(le=t.R32I)),I===t.RG&&(Z===t.FLOAT&&(le=t.RG32F),Z===t.HALF_FLOAT&&(le=t.RG16F),Z===t.UNSIGNED_BYTE&&(le=t.RG8)),I===t.RG_INTEGER&&(Z===t.UNSIGNED_BYTE&&(le=t.RG8UI),Z===t.UNSIGNED_SHORT&&(le=t.RG16UI),Z===t.UNSIGNED_INT&&(le=t.RG32UI),Z===t.BYTE&&(le=t.RG8I),Z===t.SHORT&&(le=t.RG16I),Z===t.INT&&(le=t.RG32I)),I===t.RGB_INTEGER&&(Z===t.UNSIGNED_BYTE&&(le=t.RGB8UI),Z===t.UNSIGNED_SHORT&&(le=t.RGB16UI),Z===t.UNSIGNED_INT&&(le=t.RGB32UI),Z===t.BYTE&&(le=t.RGB8I),Z===t.SHORT&&(le=t.RGB16I),Z===t.INT&&(le=t.RGB32I)),I===t.RGBA_INTEGER&&(Z===t.UNSIGNED_BYTE&&(le=t.RGBA8UI),Z===t.UNSIGNED_SHORT&&(le=t.RGBA16UI),Z===t.UNSIGNED_INT&&(le=t.RGBA32UI),Z===t.BYTE&&(le=t.RGBA8I),Z===t.SHORT&&(le=t.RGBA16I),Z===t.INT&&(le=t.RGBA32I)),I===t.RGB&&(Z===t.UNSIGNED_INT_5_9_9_9_REV&&(le=t.RGB9_E5),Z===t.UNSIGNED_INT_10F_11F_11F_REV&&(le=t.R11F_G11F_B10F)),I===t.RGBA){let Oe=me?Xh:Et.getTransfer(fe);Z===t.FLOAT&&(le=t.RGBA32F),Z===t.HALF_FLOAT&&(le=t.RGBA16F),Z===t.UNSIGNED_BYTE&&(le=Oe===Bt?t.SRGB8_ALPHA8:t.RGBA8),Z===t.UNSIGNED_SHORT_4_4_4_4&&(le=t.RGBA4),Z===t.UNSIGNED_SHORT_5_5_5_1&&(le=t.RGB5_A1)}return(le===t.R16F||le===t.R32F||le===t.RG16F||le===t.RG32F||le===t.RGBA16F||le===t.RGBA32F)&&e.get("EXT_color_buffer_float"),le}function b(F,I){let Z;return F?I===null||I===Ui||I===ld?Z=t.DEPTH24_STENCIL8:I===Fi?Z=t.DEPTH32F_STENCIL8:I===sd&&(Z=t.DEPTH24_STENCIL8,Ze("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):I===null||I===Ui||I===ld?Z=t.DEPTH_COMPONENT24:I===Fi?Z=t.DEPTH_COMPONENT32F:I===sd&&(Z=t.DEPTH_COMPONENT16),Z}function _(F,I){return v(F)===!0||F.isFramebufferTexture&&F.minFilter!==sr&&F.minFilter!==br?Math.log2(Math.max(I.width,I.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?I.mipmaps.length:1}function M(F){let I=F.target;I.removeEventListener("dispose",M),S(I),I.isVideoTexture&&c.delete(I)}function A(F){let I=F.target;I.removeEventListener("dispose",A),U(I)}function S(F){let I=r.get(F);if(I.__webglInit===void 0)return;let Z=F.source,fe=d.get(Z);if(fe){let me=fe[I.__cacheKey];me.usedTimes--,me.usedTimes===0&&w(F),Object.keys(fe).length===0&&d.delete(Z)}r.remove(F)}function w(F){let I=r.get(F);t.deleteTexture(I.__webglTexture);let Z=F.source,fe=d.get(Z);delete fe[I.__cacheKey],o.memory.textures--}function U(F){let I=r.get(F);if(F.depthTexture&&(F.depthTexture.dispose(),r.remove(F.depthTexture)),F.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(I.__webglFramebuffer[fe]))for(let me=0;me<I.__webglFramebuffer[fe].length;me++)t.deleteFramebuffer(I.__webglFramebuffer[fe][me]);else t.deleteFramebuffer(I.__webglFramebuffer[fe]);I.__webglDepthbuffer&&t.deleteRenderbuffer(I.__webglDepthbuffer[fe])}else{if(Array.isArray(I.__webglFramebuffer))for(let fe=0;fe<I.__webglFramebuffer.length;fe++)t.deleteFramebuffer(I.__webglFramebuffer[fe]);else t.deleteFramebuffer(I.__webglFramebuffer);if(I.__webglDepthbuffer&&t.deleteRenderbuffer(I.__webglDepthbuffer),I.__webglMultisampledFramebuffer&&t.deleteFramebuffer(I.__webglMultisampledFramebuffer),I.__webglColorRenderbuffer)for(let fe=0;fe<I.__webglColorRenderbuffer.length;fe++)I.__webglColorRenderbuffer[fe]&&t.deleteRenderbuffer(I.__webglColorRenderbuffer[fe]);I.__webglDepthRenderbuffer&&t.deleteRenderbuffer(I.__webglDepthRenderbuffer)}let Z=F.textures;for(let fe=0,me=Z.length;fe<me;fe++){let le=r.get(Z[fe]);le.__webglTexture&&(t.deleteTexture(le.__webglTexture),o.memory.textures--),r.remove(Z[fe])}r.remove(F)}let D=0;function k(){D=0}function z(){let F=D;return F>=a.maxTextures&&Ze("WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+a.maxTextures),D+=1,F}function V(F){let I=[];return I.push(F.wrapS),I.push(F.wrapT),I.push(F.wrapR||0),I.push(F.magFilter),I.push(F.minFilter),I.push(F.anisotropy),I.push(F.internalFormat),I.push(F.format),I.push(F.type),I.push(F.generateMipmaps),I.push(F.premultiplyAlpha),I.push(F.flipY),I.push(F.unpackAlignment),I.push(F.colorSpace),I.join()}function W(F,I){let Z=r.get(F);if(F.isVideoTexture&&_t(F),F.isRenderTargetTexture===!1&&F.isExternalTexture!==!0&&F.version>0&&Z.__version!==F.version){let fe=F.image;if(fe===null)Ze("WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)Ze("WebGLRenderer: Texture marked for update but image is incomplete");else{G(Z,F,I);return}}else F.isExternalTexture&&(Z.__webglTexture=F.sourceTexture?F.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Z.__webglTexture,t.TEXTURE0+I)}function C(F,I){let Z=r.get(F);if(F.isRenderTargetTexture===!1&&F.version>0&&Z.__version!==F.version){G(Z,F,I);return}else F.isExternalTexture&&(Z.__webglTexture=F.sourceTexture?F.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Z.__webglTexture,t.TEXTURE0+I)}function L(F,I){let Z=r.get(F);if(F.isRenderTargetTexture===!1&&F.version>0&&Z.__version!==F.version){G(Z,F,I);return}n.bindTexture(t.TEXTURE_3D,Z.__webglTexture,t.TEXTURE0+I)}function B(F,I){let Z=r.get(F);if(F.isCubeDepthTexture!==!0&&F.version>0&&Z.__version!==F.version){Q(Z,F,I);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Z.__webglTexture,t.TEXTURE0+I)}let R={[Dx]:t.REPEAT,[so]:t.CLAMP_TO_EDGE,[Nx]:t.MIRRORED_REPEAT},T={[sr]:t.NEAREST,[Uk]:t.NEAREST_MIPMAP_NEAREST,[_m]:t.NEAREST_MIPMAP_LINEAR,[br]:t.LINEAR,[p0]:t.LINEAR_MIPMAP_NEAREST,[El]:t.LINEAR_MIPMAP_LINEAR},P={[Hk]:t.NEVER,[jk]:t.ALWAYS,[Vk]:t.LESS,[J0]:t.LEQUAL,[Gk]:t.EQUAL,[Q0]:t.GEQUAL,[qk]:t.GREATER,[Wk]:t.NOTEQUAL};function H(F,I){if(I.type===Fi&&e.has("OES_texture_float_linear")===!1&&(I.magFilter===br||I.magFilter===p0||I.magFilter===_m||I.magFilter===El||I.minFilter===br||I.minFilter===p0||I.minFilter===_m||I.minFilter===El)&&Ze("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(F,t.TEXTURE_WRAP_S,R[I.wrapS]),t.texParameteri(F,t.TEXTURE_WRAP_T,R[I.wrapT]),(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)&&t.texParameteri(F,t.TEXTURE_WRAP_R,R[I.wrapR]),t.texParameteri(F,t.TEXTURE_MAG_FILTER,T[I.magFilter]),t.texParameteri(F,t.TEXTURE_MIN_FILTER,T[I.minFilter]),I.compareFunction&&(t.texParameteri(F,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(F,t.TEXTURE_COMPARE_FUNC,P[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(I.magFilter===sr||I.minFilter!==_m&&I.minFilter!==El||I.type===Fi&&e.has("OES_texture_float_linear")===!1)return;if(I.anisotropy>1||r.get(I).__currentAnisotropy){let Z=e.get("EXT_texture_filter_anisotropic");t.texParameterf(F,Z.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,a.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy}}}function K(F,I){let Z=!1;F.__webglInit===void 0&&(F.__webglInit=!0,I.addEventListener("dispose",M));let fe=I.source,me=d.get(fe);me===void 0&&(me={},d.set(fe,me));let le=V(I);if(le!==F.__cacheKey){me[le]===void 0&&(me[le]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Z=!0),me[le].usedTimes++;let Oe=me[F.__cacheKey];Oe!==void 0&&(me[F.__cacheKey].usedTimes--,Oe.usedTimes===0&&w(I)),F.__cacheKey=le,F.__webglTexture=me[le].texture}return Z}function ee(F,I,Z){return Math.floor(Math.floor(F/Z)/I)}function ne(F,I,Z,fe){let le=F.updateRanges;if(le.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,I.width,I.height,Z,fe,I.data);else{le.sort((ve,be)=>ve.start-be.start);let Oe=0;for(let ve=1;ve<le.length;ve++){let be=le[Oe],De=le[ve],ke=be.start+be.count,Te=ee(De.start,I.width,4),ht=ee(be.start,I.width,4);De.start<=ke+1&&Te===ht&&ee(De.start+De.count-1,I.width,4)===Te?be.count=Math.max(be.count,De.start+De.count-be.start):(++Oe,le[Oe]=De)}le.length=Oe+1;let _e=t.getParameter(t.UNPACK_ROW_LENGTH),je=t.getParameter(t.UNPACK_SKIP_PIXELS),Xe=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,I.width);for(let ve=0,be=le.length;ve<be;ve++){let De=le[ve],ke=Math.floor(De.start/4),Te=Math.ceil(De.count/4),ht=ke%I.width,j=Math.floor(ke/I.width),Me=Te,Se=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,j),n.texSubImage2D(t.TEXTURE_2D,0,ht,j,Me,Se,Z,fe,I.data)}F.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,_e),t.pixelStorei(t.UNPACK_SKIP_PIXELS,je),t.pixelStorei(t.UNPACK_SKIP_ROWS,Xe)}}function G(F,I,Z){let fe=t.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(fe=t.TEXTURE_2D_ARRAY),I.isData3DTexture&&(fe=t.TEXTURE_3D);let me=K(F,I),le=I.source;n.bindTexture(fe,F.__webglTexture,t.TEXTURE0+Z);let Oe=r.get(le);if(le.version!==Oe.__version||me===!0){n.activeTexture(t.TEXTURE0+Z);let _e=Et.getPrimaries(Et.workingColorSpace),je=I.colorSpace===ss?null:Et.getPrimaries(I.colorSpace),Xe=I.colorSpace===ss||_e===je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);let ve=y(I.image,!1,a.maxTextureSize);ve=Dt(I,ve);let be=i.convert(I.format,I.colorSpace),De=i.convert(I.type),ke=x(I.internalFormat,be,De,I.colorSpace,I.isVideoTexture);H(fe,I);let Te,ht=I.mipmaps,j=I.isVideoTexture!==!0,Me=Oe.__version===void 0||me===!0,Se=le.dataReady,Pe=_(I,ve);if(I.isDepthTexture)ke=b(I.format===Tl,I.type),Me&&(j?n.texStorage2D(t.TEXTURE_2D,1,ke,ve.width,ve.height):n.texImage2D(t.TEXTURE_2D,0,ke,ve.width,ve.height,0,be,De,null));else if(I.isDataTexture)if(ht.length>0){j&&Me&&n.texStorage2D(t.TEXTURE_2D,Pe,ke,ht[0].width,ht[0].height);for(let ye=0,se=ht.length;ye<se;ye++)Te=ht[ye],j?Se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Te.width,Te.height,be,De,Te.data):n.texImage2D(t.TEXTURE_2D,ye,ke,Te.width,Te.height,0,be,De,Te.data);I.generateMipmaps=!1}else j?(Me&&n.texStorage2D(t.TEXTURE_2D,Pe,ke,ve.width,ve.height),Se&&ne(I,ve,be,De)):n.texImage2D(t.TEXTURE_2D,0,ke,ve.width,ve.height,0,be,De,ve.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){j&&Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pe,ke,ht[0].width,ht[0].height,ve.depth);for(let ye=0,se=ht.length;ye<se;ye++)if(Te=ht[ye],I.format!==ni)if(be!==null)if(j){if(Se)if(I.layerUpdates.size>0){let Ne=nE(Te.width,Te.height,I.format,I.type);for(let tt of I.layerUpdates){let on=Te.data.subarray(tt*Ne/Te.data.BYTES_PER_ELEMENT,(tt+1)*Ne/Te.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,tt,Te.width,Te.height,1,be,on)}I.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Te.width,Te.height,ve.depth,be,Te.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ye,ke,Te.width,Te.height,ve.depth,0,Te.data,0,0);else Ze("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else j?Se&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,Te.width,Te.height,ve.depth,be,De,Te.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ye,ke,Te.width,Te.height,ve.depth,0,be,De,Te.data)}else{j&&Me&&n.texStorage2D(t.TEXTURE_2D,Pe,ke,ht[0].width,ht[0].height);for(let ye=0,se=ht.length;ye<se;ye++)Te=ht[ye],I.format!==ni?be!==null?j?Se&&n.compressedTexSubImage2D(t.TEXTURE_2D,ye,0,0,Te.width,Te.height,be,Te.data):n.compressedTexImage2D(t.TEXTURE_2D,ye,ke,Te.width,Te.height,0,Te.data):Ze("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):j?Se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,Te.width,Te.height,be,De,Te.data):n.texImage2D(t.TEXTURE_2D,ye,ke,Te.width,Te.height,0,be,De,Te.data)}else if(I.isDataArrayTexture)if(j){if(Me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Pe,ke,ve.width,ve.height,ve.depth),Se)if(I.layerUpdates.size>0){let ye=nE(ve.width,ve.height,I.format,I.type);for(let se of I.layerUpdates){let Ne=ve.data.subarray(se*ye/ve.data.BYTES_PER_ELEMENT,(se+1)*ye/ve.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,se,ve.width,ve.height,1,be,De,Ne)}I.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ve.width,ve.height,ve.depth,be,De,ve.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ke,ve.width,ve.height,ve.depth,0,be,De,ve.data);else if(I.isData3DTexture)j?(Me&&n.texStorage3D(t.TEXTURE_3D,Pe,ke,ve.width,ve.height,ve.depth),Se&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ve.width,ve.height,ve.depth,be,De,ve.data)):n.texImage3D(t.TEXTURE_3D,0,ke,ve.width,ve.height,ve.depth,0,be,De,ve.data);else if(I.isFramebufferTexture){if(Me)if(j)n.texStorage2D(t.TEXTURE_2D,Pe,ke,ve.width,ve.height);else{let ye=ve.width,se=ve.height;for(let Ne=0;Ne<Pe;Ne++)n.texImage2D(t.TEXTURE_2D,Ne,ke,ye,se,0,be,De,null),ye>>=1,se>>=1}}else if(ht.length>0){if(j&&Me){let ye=Re(ht[0]);n.texStorage2D(t.TEXTURE_2D,Pe,ke,ye.width,ye.height)}for(let ye=0,se=ht.length;ye<se;ye++)Te=ht[ye],j?Se&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,be,De,Te):n.texImage2D(t.TEXTURE_2D,ye,ke,be,De,Te);I.generateMipmaps=!1}else if(j){if(Me){let ye=Re(ve);n.texStorage2D(t.TEXTURE_2D,Pe,ke,ye.width,ye.height)}Se&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,be,De,ve)}else n.texImage2D(t.TEXTURE_2D,0,ke,be,De,ve);v(I)&&h(fe),Oe.__version=le.version,I.onUpdate&&I.onUpdate(I)}F.__version=I.version}function Q(F,I,Z){if(I.image.length!==6)return;let fe=K(F,I),me=I.source;n.bindTexture(t.TEXTURE_CUBE_MAP,F.__webglTexture,t.TEXTURE0+Z);let le=r.get(me);if(me.version!==le.__version||fe===!0){n.activeTexture(t.TEXTURE0+Z);let Oe=Et.getPrimaries(Et.workingColorSpace),_e=I.colorSpace===ss?null:Et.getPrimaries(I.colorSpace),je=I.colorSpace===ss||Oe===_e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,I.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,I.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,je);let Xe=I.isCompressedTexture||I.image[0].isCompressedTexture,ve=I.image[0]&&I.image[0].isDataTexture,be=[];for(let se=0;se<6;se++)!Xe&&!ve?be[se]=y(I.image[se],!0,a.maxCubemapSize):be[se]=ve?I.image[se].image:I.image[se],be[se]=Dt(I,be[se]);let De=be[0],ke=i.convert(I.format,I.colorSpace),Te=i.convert(I.type),ht=x(I.internalFormat,ke,Te,I.colorSpace),j=I.isVideoTexture!==!0,Me=le.__version===void 0||fe===!0,Se=me.dataReady,Pe=_(I,De);H(t.TEXTURE_CUBE_MAP,I);let ye;if(Xe){j&&Me&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Pe,ht,De.width,De.height);for(let se=0;se<6;se++){ye=be[se].mipmaps;for(let Ne=0;Ne<ye.length;Ne++){let tt=ye[Ne];I.format!==ni?ke!==null?j?Se&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne,0,0,tt.width,tt.height,ke,tt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne,ht,tt.width,tt.height,0,tt.data):Ze("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):j?Se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne,0,0,tt.width,tt.height,ke,Te,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne,ht,tt.width,tt.height,0,ke,Te,tt.data)}}}else{if(ye=I.mipmaps,j&&Me){ye.length>0&&Pe++;let se=Re(be[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Pe,ht,se.width,se.height)}for(let se=0;se<6;se++)if(ve){j?Se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,be[se].width,be[se].height,ke,Te,be[se].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,ht,be[se].width,be[se].height,0,ke,Te,be[se].data);for(let Ne=0;Ne<ye.length;Ne++){let on=ye[Ne].image[se].image;j?Se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne+1,0,0,on.width,on.height,ke,Te,on.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne+1,ht,on.width,on.height,0,ke,Te,on.data)}}else{j?Se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,ke,Te,be[se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,ht,ke,Te,be[se]);for(let Ne=0;Ne<ye.length;Ne++){let tt=ye[Ne];j?Se&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne+1,0,0,ke,Te,tt.image[se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,Ne+1,ht,ke,Te,tt.image[se])}}}v(I)&&h(t.TEXTURE_CUBE_MAP),le.__version=me.version,I.onUpdate&&I.onUpdate(I)}F.__version=I.version}function de(F,I,Z,fe,me,le){let Oe=i.convert(Z.format,Z.colorSpace),_e=i.convert(Z.type),je=x(Z.internalFormat,Oe,_e,Z.colorSpace),Xe=r.get(I),ve=r.get(Z);if(ve.__renderTarget=I,!Xe.__hasExternalTextures){let be=Math.max(1,I.width>>le),De=Math.max(1,I.height>>le);me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY?n.texImage3D(me,le,je,be,De,I.depth,0,Oe,_e,null):n.texImage2D(me,le,je,be,De,0,Oe,_e,null)}n.bindFramebuffer(t.FRAMEBUFFER,F),Lt(I)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,fe,me,ve.__webglTexture,0,q(I)):(me===t.TEXTURE_2D||me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,fe,me,ve.__webglTexture,le),n.bindFramebuffer(t.FRAMEBUFFER,null)}function X(F,I,Z){if(t.bindRenderbuffer(t.RENDERBUFFER,F),I.depthBuffer){let fe=I.depthTexture,me=fe&&fe.isDepthTexture?fe.type:null,le=b(I.stencilBuffer,me),Oe=I.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;Lt(I)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(I),le,I.width,I.height):Z?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(I),le,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,le,I.width,I.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Oe,t.RENDERBUFFER,F)}else{let fe=I.textures;for(let me=0;me<fe.length;me++){let le=fe[me],Oe=i.convert(le.format,le.colorSpace),_e=i.convert(le.type),je=x(le.internalFormat,Oe,_e,le.colorSpace);Lt(I)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(I),je,I.width,I.height):Z?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(I),je,I.width,I.height):t.renderbufferStorage(t.RENDERBUFFER,je,I.width,I.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function pe(F,I,Z){let fe=I.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,F),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");let me=r.get(I.depthTexture);if(me.__renderTarget=I,(!me.__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),fe){if(me.__webglInit===void 0&&(me.__webglInit=!0,I.depthTexture.addEventListener("dispose",M)),me.__webglTexture===void 0){me.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture),H(t.TEXTURE_CUBE_MAP,I.depthTexture);let Xe=i.convert(I.depthTexture.format),ve=i.convert(I.depthTexture.type),be;I.depthTexture.format===lo?be=t.DEPTH_COMPONENT24:I.depthTexture.format===Tl&&(be=t.DEPTH24_STENCIL8);for(let De=0;De<6;De++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0,be,I.width,I.height,0,Xe,ve,null)}}else W(I.depthTexture,0);let le=me.__webglTexture,Oe=q(I),_e=fe?t.TEXTURE_CUBE_MAP_POSITIVE_X+Z:t.TEXTURE_2D,je=I.depthTexture.format===Tl?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(I.depthTexture.format===lo)Lt(I)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,je,_e,le,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,je,_e,le,0);else if(I.depthTexture.format===Tl)Lt(I)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,je,_e,le,0,Oe):t.framebufferTexture2D(t.FRAMEBUFFER,je,_e,le,0);else throw new Error("Unknown depthTexture format")}function ue(F){let I=r.get(F),Z=F.isWebGLCubeRenderTarget===!0;if(I.__boundDepthTexture!==F.depthTexture){let fe=F.depthTexture;if(I.__depthDisposeCallback&&I.__depthDisposeCallback(),fe){let me=()=>{delete I.__boundDepthTexture,delete I.__depthDisposeCallback,fe.removeEventListener("dispose",me)};fe.addEventListener("dispose",me),I.__depthDisposeCallback=me}I.__boundDepthTexture=fe}if(F.depthTexture&&!I.__autoAllocateDepthBuffer)if(Z)for(let fe=0;fe<6;fe++)pe(I.__webglFramebuffer[fe],F,fe);else{let fe=F.texture.mipmaps;fe&&fe.length>0?pe(I.__webglFramebuffer[0],F,0):pe(I.__webglFramebuffer,F,0)}else if(Z){I.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)if(n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer[fe]),I.__webglDepthbuffer[fe]===void 0)I.__webglDepthbuffer[fe]=t.createRenderbuffer(),X(I.__webglDepthbuffer[fe],F,!1);else{let me=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,le=I.__webglDepthbuffer[fe];t.bindRenderbuffer(t.RENDERBUFFER,le),t.framebufferRenderbuffer(t.FRAMEBUFFER,me,t.RENDERBUFFER,le)}}else{let fe=F.texture.mipmaps;if(fe&&fe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer===void 0)I.__webglDepthbuffer=t.createRenderbuffer(),X(I.__webglDepthbuffer,F,!1);else{let me=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,le=I.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,le),t.framebufferRenderbuffer(t.FRAMEBUFFER,me,t.RENDERBUFFER,le)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function oe(F,I,Z){let fe=r.get(F);I!==void 0&&de(fe.__webglFramebuffer,F,F.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Z!==void 0&&ue(F)}function qe(F){let I=F.texture,Z=r.get(F),fe=r.get(I);F.addEventListener("dispose",A);let me=F.textures,le=F.isWebGLCubeRenderTarget===!0,Oe=me.length>1;if(Oe||(fe.__webglTexture===void 0&&(fe.__webglTexture=t.createTexture()),fe.__version=I.version,o.memory.textures++),le){Z.__webglFramebuffer=[];for(let _e=0;_e<6;_e++)if(I.mipmaps&&I.mipmaps.length>0){Z.__webglFramebuffer[_e]=[];for(let je=0;je<I.mipmaps.length;je++)Z.__webglFramebuffer[_e][je]=t.createFramebuffer()}else Z.__webglFramebuffer[_e]=t.createFramebuffer()}else{if(I.mipmaps&&I.mipmaps.length>0){Z.__webglFramebuffer=[];for(let _e=0;_e<I.mipmaps.length;_e++)Z.__webglFramebuffer[_e]=t.createFramebuffer()}else Z.__webglFramebuffer=t.createFramebuffer();if(Oe)for(let _e=0,je=me.length;_e<je;_e++){let Xe=r.get(me[_e]);Xe.__webglTexture===void 0&&(Xe.__webglTexture=t.createTexture(),o.memory.textures++)}if(F.samples>0&&Lt(F)===!1){Z.__webglMultisampledFramebuffer=t.createFramebuffer(),Z.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglMultisampledFramebuffer);for(let _e=0;_e<me.length;_e++){let je=me[_e];Z.__webglColorRenderbuffer[_e]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Z.__webglColorRenderbuffer[_e]);let Xe=i.convert(je.format,je.colorSpace),ve=i.convert(je.type),be=x(je.internalFormat,Xe,ve,je.colorSpace,F.isXRRenderTarget===!0),De=q(F);t.renderbufferStorageMultisample(t.RENDERBUFFER,De,be,F.width,F.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_e,t.RENDERBUFFER,Z.__webglColorRenderbuffer[_e])}t.bindRenderbuffer(t.RENDERBUFFER,null),F.depthBuffer&&(Z.__webglDepthRenderbuffer=t.createRenderbuffer(),X(Z.__webglDepthRenderbuffer,F,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(le){n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture),H(t.TEXTURE_CUBE_MAP,I);for(let _e=0;_e<6;_e++)if(I.mipmaps&&I.mipmaps.length>0)for(let je=0;je<I.mipmaps.length;je++)de(Z.__webglFramebuffer[_e][je],F,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,je);else de(Z.__webglFramebuffer[_e],F,I,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+_e,0);v(I)&&h(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Oe){for(let _e=0,je=me.length;_e<je;_e++){let Xe=me[_e],ve=r.get(Xe),be=t.TEXTURE_2D;(F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(be=F.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(be,ve.__webglTexture),H(be,Xe),de(Z.__webglFramebuffer,F,Xe,t.COLOR_ATTACHMENT0+_e,be,0),v(Xe)&&h(be)}n.unbindTexture()}else{let _e=t.TEXTURE_2D;if((F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(_e=F.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(_e,fe.__webglTexture),H(_e,I),I.mipmaps&&I.mipmaps.length>0)for(let je=0;je<I.mipmaps.length;je++)de(Z.__webglFramebuffer[je],F,I,t.COLOR_ATTACHMENT0,_e,je);else de(Z.__webglFramebuffer,F,I,t.COLOR_ATTACHMENT0,_e,0);v(I)&&h(_e),n.unbindTexture()}F.depthBuffer&&ue(F)}function Ie(F){let I=F.textures;for(let Z=0,fe=I.length;Z<fe;Z++){let me=I[Z];if(v(me)){let le=g(F),Oe=r.get(me).__webglTexture;n.bindTexture(le,Oe),h(le),n.unbindTexture()}}}let et=[],He=[];function Ct(F){if(F.samples>0){if(Lt(F)===!1){let I=F.textures,Z=F.width,fe=F.height,me=t.COLOR_BUFFER_BIT,le=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=r.get(F),_e=I.length>1;if(_e)for(let Xe=0;Xe<I.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer);let je=F.texture.mipmaps;je&&je.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglFramebuffer);for(let Xe=0;Xe<I.length;Xe++){if(F.resolveDepthBuffer&&(F.depthBuffer&&(me|=t.DEPTH_BUFFER_BIT),F.stencilBuffer&&F.resolveStencilBuffer&&(me|=t.STENCIL_BUFFER_BIT)),_e){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[Xe]);let ve=r.get(I[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ve,0)}t.blitFramebuffer(0,0,Z,fe,0,0,Z,fe,me,t.NEAREST),l===!0&&(et.length=0,He.length=0,et.push(t.COLOR_ATTACHMENT0+Xe),F.depthBuffer&&F.resolveDepthBuffer===!1&&(et.push(le),He.push(le),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,He)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,et))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),_e)for(let Xe=0;Xe<I.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,Oe.__webglColorRenderbuffer[Xe]);let ve=r.get(I[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Oe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,ve,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Oe.__webglMultisampledFramebuffer)}else if(F.depthBuffer&&F.resolveDepthBuffer===!1&&l){let I=F.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[I])}}}function q(F){return Math.min(a.maxSamples,F.samples)}function Lt(F){let I=r.get(F);return F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function _t(F){let I=o.render.frame;c.get(F)!==I&&(c.set(F,I),F.update())}function Dt(F,I){let Z=F.colorSpace,fe=F.format,me=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||Z!==Pu&&Z!==ss&&(Et.getTransfer(Z)===Bt?(fe!==ni||me!==sa)&&Ze("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ke("WebGLTextures: Unsupported texture color space:",Z)),I}function Re(F){return typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement?(u.width=F.naturalWidth||F.width,u.height=F.naturalHeight||F.height):typeof VideoFrame<"u"&&F instanceof VideoFrame?(u.width=F.displayWidth,u.height=F.displayHeight):(u.width=F.width,u.height=F.height),u}this.allocateTextureUnit=z,this.resetTextureUnits=k,this.setTexture2D=W,this.setTexture2DArray=C,this.setTexture3D=L,this.setTextureCube=B,this.rebindTextures=oe,this.setupRenderTarget=qe,this.updateRenderTargetMipmap=Ie,this.updateMultisampleRenderTarget=Ct,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=de,this.useMultisampledRTT=Lt,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function sJ(t,e){function n(r,a=ss){let i,o=Et.getTransfer(a);if(r===sa)return t.UNSIGNED_BYTE;if(r===m0)return t.UNSIGNED_SHORT_4_4_4_4;if(r===g0)return t.UNSIGNED_SHORT_5_5_5_1;if(r===qC)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===WC)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===VC)return t.BYTE;if(r===GC)return t.SHORT;if(r===sd)return t.UNSIGNED_SHORT;if(r===h0)return t.INT;if(r===Ui)return t.UNSIGNED_INT;if(r===Fi)return t.FLOAT;if(r===po)return t.HALF_FLOAT;if(r===jC)return t.ALPHA;if(r===XC)return t.RGB;if(r===ni)return t.RGBA;if(r===lo)return t.DEPTH_COMPONENT;if(r===Tl)return t.DEPTH_STENCIL;if(r===YC)return t.RED;if(r===v0)return t.RED_INTEGER;if(r===Fu)return t.RG;if(r===y0)return t.RG_INTEGER;if(r===x0)return t.RGBA_INTEGER;if(r===Mm||r===Am||r===wm||r===Cm)if(o===Bt)if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),i!==null){if(r===Mm)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Am)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===wm)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Cm)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(i=e.get("WEBGL_compressed_texture_s3tc"),i!==null){if(r===Mm)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Am)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===wm)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Cm)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===b0||r===S0||r===_0||r===M0)if(i=e.get("WEBGL_compressed_texture_pvrtc"),i!==null){if(r===b0)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===S0)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===_0)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===M0)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===A0||r===w0||r===C0||r===E0||r===T0||r===I0||r===L0)if(i=e.get("WEBGL_compressed_texture_etc"),i!==null){if(r===A0||r===w0)return o===Bt?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(r===C0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC;if(r===E0)return i.COMPRESSED_R11_EAC;if(r===T0)return i.COMPRESSED_SIGNED_R11_EAC;if(r===I0)return i.COMPRESSED_RG11_EAC;if(r===L0)return i.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===P0||r===R0||r===O0||r===D0||r===N0||r===k0||r===B0||r===U0||r===F0||r===z0||r===H0||r===V0||r===G0||r===q0)if(i=e.get("WEBGL_compressed_texture_astc"),i!==null){if(r===P0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===R0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===O0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===D0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===N0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===k0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===B0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===U0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===F0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===z0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===H0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===V0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===G0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===q0)return o===Bt?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===W0||r===j0||r===X0)if(i=e.get("EXT_texture_compression_bptc"),i!==null){if(r===W0)return o===Bt?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===j0)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===X0)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Y0||r===K0||r===Z0||r===$0)if(i=e.get("EXT_texture_compression_rgtc"),i!==null){if(r===Y0)return i.COMPRESSED_RED_RGTC1_EXT;if(r===K0)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Z0)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===$0)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===ld?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}var lJ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,uJ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`,gE=class{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){let r=new im(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){let n=e.cameras[0].viewport,r=new Ia({vertexShader:lJ,fragmentShader:uJ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new hn(new ku(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}},vE=class extends is{constructor(e,n){super();let r=this,a=null,i=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,d=null,p=null,m=null,y=typeof XRWebGLBinding<"u",v=new gE,h={},g=n.getContextAttributes(),x=null,b=null,_=[],M=[],A=new Ue,S=null,w=new Er;w.viewport=new wn;let U=new Er;U.viewport=new wn;let D=[w,U],k=new u0,z=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let Q=_[G];return Q===void 0&&(Q=new $f,_[G]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(G){let Q=_[G];return Q===void 0&&(Q=new $f,_[G]=Q),Q.getGripSpace()},this.getHand=function(G){let Q=_[G];return Q===void 0&&(Q=new $f,_[G]=Q),Q.getHandSpace()};function W(G){let Q=M.indexOf(G.inputSource);if(Q===-1)return;let de=_[Q];de!==void 0&&(de.update(G.inputSource,G.frame,u||o),de.dispatchEvent({type:G.type,data:G.inputSource}))}function C(){a.removeEventListener("select",W),a.removeEventListener("selectstart",W),a.removeEventListener("selectend",W),a.removeEventListener("squeeze",W),a.removeEventListener("squeezestart",W),a.removeEventListener("squeezeend",W),a.removeEventListener("end",C),a.removeEventListener("inputsourceschange",L);for(let G=0;G<_.length;G++){let Q=M[G];Q!==null&&(M[G]=null,_[G].disconnect(Q))}z=null,V=null,v.reset();for(let G in h)delete h[G];e.setRenderTarget(x),p=null,d=null,f=null,a=null,b=null,ne.stop(),r.isPresenting=!1,e.setPixelRatio(S),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){i=G,r.isPresenting===!0&&Ze("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){s=G,r.isPresenting===!0&&Ze("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(G){u=G},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f===null&&y&&(f=new XRWebGLBinding(a,n)),f},this.getFrame=function(){return m},this.getSession=function(){return a},this.setSession=async function(G){if(a=G,a!==null){if(x=e.getRenderTarget(),a.addEventListener("select",W),a.addEventListener("selectstart",W),a.addEventListener("selectend",W),a.addEventListener("squeeze",W),a.addEventListener("squeezestart",W),a.addEventListener("squeezeend",W),a.addEventListener("end",C),a.addEventListener("inputsourceschange",L),g.xrCompatible!==!0&&await n.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(A),y&&"createProjectionLayer"in XRWebGLBinding.prototype){let de=null,X=null,pe=null;g.depth&&(pe=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,de=g.stencil?Tl:lo,X=g.stencil?ld:Ui);let ue={colorFormat:n.RGBA8,depthFormat:pe,scaleFactor:i};f=this.getBinding(),d=f.createProjectionLayer(ue),a.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new Ea(d.textureWidth,d.textureHeight,{format:ni,type:sa,depthTexture:new _l(d.textureWidth,d.textureHeight,X,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:d.ignoreDepthValues===!1,resolveStencilBuffer:d.ignoreDepthValues===!1})}else{let de={antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};p=new XRWebGLLayer(a,n,de),a.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),b=new Ea(p.framebufferWidth,p.framebufferHeight,{format:ni,type:sa,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await a.requestReferenceSpace(s),ne.setContext(a),ne.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function L(G){for(let Q=0;Q<G.removed.length;Q++){let de=G.removed[Q],X=M.indexOf(de);X>=0&&(M[X]=null,_[X].disconnect(de))}for(let Q=0;Q<G.added.length;Q++){let de=G.added[Q],X=M.indexOf(de);if(X===-1){for(let ue=0;ue<_.length;ue++)if(ue>=M.length){M.push(de),X=ue;break}else if(M[ue]===null){M[ue]=de,X=ue;break}if(X===-1)break}let pe=_[X];pe&&pe.connect(de)}}let B=new $,R=new $;function T(G,Q,de){B.setFromMatrixPosition(Q.matrixWorld),R.setFromMatrixPosition(de.matrixWorld);let X=B.distanceTo(R),pe=Q.projectionMatrix.elements,ue=de.projectionMatrix.elements,oe=pe[14]/(pe[10]-1),qe=pe[14]/(pe[10]+1),Ie=(pe[9]+1)/pe[5],et=(pe[9]-1)/pe[5],He=(pe[8]-1)/pe[0],Ct=(ue[8]+1)/ue[0],q=oe*He,Lt=oe*Ct,_t=X/(-He+Ct),Dt=_t*-He;if(Q.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(Dt),G.translateZ(_t),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert(),pe[10]===-1)G.projectionMatrix.copy(Q.projectionMatrix),G.projectionMatrixInverse.copy(Q.projectionMatrixInverse);else{let Re=oe+_t,F=qe+_t,I=q-Dt,Z=Lt+(X-Dt),fe=Ie*qe/F*Re,me=et*qe/F*Re;G.projectionMatrix.makePerspective(I,Z,fe,me,Re,F),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}}function P(G,Q){Q===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(Q.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(a===null)return;let Q=G.near,de=G.far;v.texture!==null&&(v.depthNear>0&&(Q=v.depthNear),v.depthFar>0&&(de=v.depthFar)),k.near=U.near=w.near=Q,k.far=U.far=w.far=de,(z!==k.near||V!==k.far)&&(a.updateRenderState({depthNear:k.near,depthFar:k.far}),z=k.near,V=k.far),k.layers.mask=G.layers.mask|6,w.layers.mask=k.layers.mask&-5,U.layers.mask=k.layers.mask&-3;let X=G.parent,pe=k.cameras;P(k,X);for(let ue=0;ue<pe.length;ue++)P(pe[ue],X);pe.length===2?T(k,w,U):k.projectionMatrix.copy(w.projectionMatrix),H(G,k,X)};function H(G,Q,de){de===null?G.matrix.copy(Q.matrixWorld):(G.matrix.copy(de.matrixWorld),G.matrix.invert(),G.matrix.multiply(Q.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0),G.projectionMatrix.copy(Q.projectionMatrix),G.projectionMatrixInverse.copy(Q.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=Bx*2*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(G){l=G,d!==null&&(d.fixedFoveation=G),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=G)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(k)},this.getCameraTexture=function(G){return h[G]};let K=null;function ee(G,Q){if(c=Q.getViewerPose(u||o),m=Q,c!==null){let de=c.views;p!==null&&(e.setRenderTargetFramebuffer(b,p.framebuffer),e.setRenderTarget(b));let X=!1;de.length!==k.cameras.length&&(k.cameras.length=0,X=!0);for(let qe=0;qe<de.length;qe++){let Ie=de[qe],et=null;if(p!==null)et=p.getViewport(Ie);else{let Ct=f.getViewSubImage(d,Ie);et=Ct.viewport,qe===0&&(e.setRenderTargetTextures(b,Ct.colorTexture,Ct.depthStencilTexture),e.setRenderTarget(b))}let He=D[qe];He===void 0&&(He=new Er,He.layers.enable(qe),He.viewport=new wn,D[qe]=He),He.matrix.fromArray(Ie.transform.matrix),He.matrix.decompose(He.position,He.quaternion,He.scale),He.projectionMatrix.fromArray(Ie.projectionMatrix),He.projectionMatrixInverse.copy(He.projectionMatrix).invert(),He.viewport.set(et.x,et.y,et.width,et.height),qe===0&&(k.matrix.copy(He.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),X===!0&&k.cameras.push(He)}let pe=a.enabledFeatures;if(pe&&pe.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&y){f=r.getBinding();let qe=f.getDepthInformation(de[0]);qe&&qe.isValid&&qe.texture&&v.init(qe,a.renderState)}if(pe&&pe.includes("camera-access")&&y){e.state.unbindTexture(),f=r.getBinding();for(let qe=0;qe<de.length;qe++){let Ie=de[qe].camera;if(Ie){let et=h[Ie];et||(et=new im,h[Ie]=et);let He=f.getCameraImage(Ie);et.sourceTexture=He}}}}for(let de=0;de<_.length;de++){let X=M[de],pe=_[de];X!==null&&pe!==void 0&&pe.update(X,Q,u||o)}K&&K(G,Q),Q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Q}),m=null}let ne=new CB;ne.setAnimationLoop(ee),this.setAnimationLoop=function(G){K=G},this.dispose=function(){}}},Vu=new ki,cJ=new xn;function fJ(t,e){function n(v,h){v.matrixAutoUpdate===!0&&v.updateMatrix(),h.value.copy(v.matrix)}function r(v,h){h.color.getRGB(v.fogColor.value,QC(t)),h.isFog?(v.fogNear.value=h.near,v.fogFar.value=h.far):h.isFogExp2&&(v.fogDensity.value=h.density)}function a(v,h,g,x,b){h.isMeshBasicMaterial?i(v,h):h.isMeshLambertMaterial?(i(v,h),h.envMap&&(v.envMapIntensity.value=h.envMapIntensity)):h.isMeshToonMaterial?(i(v,h),f(v,h)):h.isMeshPhongMaterial?(i(v,h),c(v,h),h.envMap&&(v.envMapIntensity.value=h.envMapIntensity)):h.isMeshStandardMaterial?(i(v,h),d(v,h),h.isMeshPhysicalMaterial&&p(v,h,b)):h.isMeshMatcapMaterial?(i(v,h),m(v,h)):h.isMeshDepthMaterial?i(v,h):h.isMeshDistanceMaterial?(i(v,h),y(v,h)):h.isMeshNormalMaterial?i(v,h):h.isLineBasicMaterial?(o(v,h),h.isLineDashedMaterial&&s(v,h)):h.isPointsMaterial?l(v,h,g,x):h.isSpriteMaterial?u(v,h):h.isShadowMaterial?(v.color.value.copy(h.color),v.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}function i(v,h){v.opacity.value=h.opacity,h.color&&v.diffuse.value.copy(h.color),h.emissive&&v.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity),h.map&&(v.map.value=h.map,n(h.map,v.mapTransform)),h.alphaMap&&(v.alphaMap.value=h.alphaMap,n(h.alphaMap,v.alphaMapTransform)),h.bumpMap&&(v.bumpMap.value=h.bumpMap,n(h.bumpMap,v.bumpMapTransform),v.bumpScale.value=h.bumpScale,h.side===Hr&&(v.bumpScale.value*=-1)),h.normalMap&&(v.normalMap.value=h.normalMap,n(h.normalMap,v.normalMapTransform),v.normalScale.value.copy(h.normalScale),h.side===Hr&&v.normalScale.value.negate()),h.displacementMap&&(v.displacementMap.value=h.displacementMap,n(h.displacementMap,v.displacementMapTransform),v.displacementScale.value=h.displacementScale,v.displacementBias.value=h.displacementBias),h.emissiveMap&&(v.emissiveMap.value=h.emissiveMap,n(h.emissiveMap,v.emissiveMapTransform)),h.specularMap&&(v.specularMap.value=h.specularMap,n(h.specularMap,v.specularMapTransform)),h.alphaTest>0&&(v.alphaTest.value=h.alphaTest);let g=e.get(h),x=g.envMap,b=g.envMapRotation;x&&(v.envMap.value=x,Vu.copy(b),Vu.x*=-1,Vu.y*=-1,Vu.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(Vu.y*=-1,Vu.z*=-1),v.envMapRotation.value.setFromMatrix4(cJ.makeRotationFromEuler(Vu)),v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=h.reflectivity,v.ior.value=h.ior,v.refractionRatio.value=h.refractionRatio),h.lightMap&&(v.lightMap.value=h.lightMap,v.lightMapIntensity.value=h.lightMapIntensity,n(h.lightMap,v.lightMapTransform)),h.aoMap&&(v.aoMap.value=h.aoMap,v.aoMapIntensity.value=h.aoMapIntensity,n(h.aoMap,v.aoMapTransform))}function o(v,h){v.diffuse.value.copy(h.color),v.opacity.value=h.opacity,h.map&&(v.map.value=h.map,n(h.map,v.mapTransform))}function s(v,h){v.dashSize.value=h.dashSize,v.totalSize.value=h.dashSize+h.gapSize,v.scale.value=h.scale}function l(v,h,g,x){v.diffuse.value.copy(h.color),v.opacity.value=h.opacity,v.size.value=h.size*g,v.scale.value=x*.5,h.map&&(v.map.value=h.map,n(h.map,v.uvTransform)),h.alphaMap&&(v.alphaMap.value=h.alphaMap,n(h.alphaMap,v.alphaMapTransform)),h.alphaTest>0&&(v.alphaTest.value=h.alphaTest)}function u(v,h){v.diffuse.value.copy(h.color),v.opacity.value=h.opacity,v.rotation.value=h.rotation,h.map&&(v.map.value=h.map,n(h.map,v.mapTransform)),h.alphaMap&&(v.alphaMap.value=h.alphaMap,n(h.alphaMap,v.alphaMapTransform)),h.alphaTest>0&&(v.alphaTest.value=h.alphaTest)}function c(v,h){v.specular.value.copy(h.specular),v.shininess.value=Math.max(h.shininess,1e-4)}function f(v,h){h.gradientMap&&(v.gradientMap.value=h.gradientMap)}function d(v,h){v.metalness.value=h.metalness,h.metalnessMap&&(v.metalnessMap.value=h.metalnessMap,n(h.metalnessMap,v.metalnessMapTransform)),v.roughness.value=h.roughness,h.roughnessMap&&(v.roughnessMap.value=h.roughnessMap,n(h.roughnessMap,v.roughnessMapTransform)),h.envMap&&(v.envMapIntensity.value=h.envMapIntensity)}function p(v,h,g){v.ior.value=h.ior,h.sheen>0&&(v.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),v.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(v.sheenColorMap.value=h.sheenColorMap,n(h.sheenColorMap,v.sheenColorMapTransform)),h.sheenRoughnessMap&&(v.sheenRoughnessMap.value=h.sheenRoughnessMap,n(h.sheenRoughnessMap,v.sheenRoughnessMapTransform))),h.clearcoat>0&&(v.clearcoat.value=h.clearcoat,v.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(v.clearcoatMap.value=h.clearcoatMap,n(h.clearcoatMap,v.clearcoatMapTransform)),h.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap,n(h.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),h.clearcoatNormalMap&&(v.clearcoatNormalMap.value=h.clearcoatNormalMap,n(h.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),h.side===Hr&&v.clearcoatNormalScale.value.negate())),h.dispersion>0&&(v.dispersion.value=h.dispersion),h.iridescence>0&&(v.iridescence.value=h.iridescence,v.iridescenceIOR.value=h.iridescenceIOR,v.iridescenceThicknessMinimum.value=h.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=h.iridescenceThicknessRange[1],h.iridescenceMap&&(v.iridescenceMap.value=h.iridescenceMap,n(h.iridescenceMap,v.iridescenceMapTransform)),h.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=h.iridescenceThicknessMap,n(h.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),h.transmission>0&&(v.transmission.value=h.transmission,v.transmissionSamplerMap.value=g.texture,v.transmissionSamplerSize.value.set(g.width,g.height),h.transmissionMap&&(v.transmissionMap.value=h.transmissionMap,n(h.transmissionMap,v.transmissionMapTransform)),v.thickness.value=h.thickness,h.thicknessMap&&(v.thicknessMap.value=h.thicknessMap,n(h.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=h.attenuationDistance,v.attenuationColor.value.copy(h.attenuationColor)),h.anisotropy>0&&(v.anisotropyVector.value.set(h.anisotropy*Math.cos(h.anisotropyRotation),h.anisotropy*Math.sin(h.anisotropyRotation)),h.anisotropyMap&&(v.anisotropyMap.value=h.anisotropyMap,n(h.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=h.specularIntensity,v.specularColor.value.copy(h.specularColor),h.specularColorMap&&(v.specularColorMap.value=h.specularColorMap,n(h.specularColorMap,v.specularColorMapTransform)),h.specularIntensityMap&&(v.specularIntensityMap.value=h.specularIntensityMap,n(h.specularIntensityMap,v.specularIntensityMapTransform))}function m(v,h){h.matcap&&(v.matcap.value=h.matcap)}function y(v,h){let g=e.get(h).light;v.referencePosition.value.setFromMatrixPosition(g.matrixWorld),v.nearDistance.value=g.shadow.camera.near,v.farDistance.value=g.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:a}}function dJ(t,e,n,r){let a={},i={},o=[],s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(g,x){let b=x.program;r.uniformBlockBinding(g,b)}function u(g,x){let b=a[g.id];b===void 0&&(m(g),b=c(g),a[g.id]=b,g.addEventListener("dispose",v));let _=x.program;r.updateUBOMapping(g,_);let M=e.render.frame;i[g.id]!==M&&(d(g),i[g.id]=M)}function c(g){let x=f();g.__bindingPointIndex=x;let b=t.createBuffer(),_=g.__size,M=g.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,_,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,x,b),b}function f(){for(let g=0;g<s;g++)if(o.indexOf(g)===-1)return o.push(g),g;return Ke("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(g){let x=a[g.id],b=g.uniforms,_=g.__cache;t.bindBuffer(t.UNIFORM_BUFFER,x);for(let M=0,A=b.length;M<A;M++){let S=Array.isArray(b[M])?b[M]:[b[M]];for(let w=0,U=S.length;w<U;w++){let D=S[w];if(p(D,M,w,_)===!0){let k=D.__offset,z=Array.isArray(D.value)?D.value:[D.value],V=0;for(let W=0;W<z.length;W++){let C=z[W],L=y(C);typeof C=="number"||typeof C=="boolean"?(D.__data[0]=C,t.bufferSubData(t.UNIFORM_BUFFER,k+V,D.__data)):C.isMatrix3?(D.__data[0]=C.elements[0],D.__data[1]=C.elements[1],D.__data[2]=C.elements[2],D.__data[3]=0,D.__data[4]=C.elements[3],D.__data[5]=C.elements[4],D.__data[6]=C.elements[5],D.__data[7]=0,D.__data[8]=C.elements[6],D.__data[9]=C.elements[7],D.__data[10]=C.elements[8],D.__data[11]=0):(C.toArray(D.__data,V),V+=L.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(g,x,b,_){let M=g.value,A=x+"_"+b;if(_[A]===void 0)return typeof M=="number"||typeof M=="boolean"?_[A]=M:_[A]=M.clone(),!0;{let S=_[A];if(typeof M=="number"||typeof M=="boolean"){if(S!==M)return _[A]=M,!0}else if(S.equals(M)===!1)return S.copy(M),!0}return!1}function m(g){let x=g.uniforms,b=0,_=16;for(let A=0,S=x.length;A<S;A++){let w=Array.isArray(x[A])?x[A]:[x[A]];for(let U=0,D=w.length;U<D;U++){let k=w[U],z=Array.isArray(k.value)?k.value:[k.value];for(let V=0,W=z.length;V<W;V++){let C=z[V],L=y(C),B=b%_,R=B%L.boundary,T=B+R;b+=R,T!==0&&_-T<L.storage&&(b+=_-T),k.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=b,b+=L.storage}}}let M=b%_;return M>0&&(b+=_-M),g.__size=b,g.__cache={},this}function y(g){let x={boundary:0,storage:0};return typeof g=="number"||typeof g=="boolean"?(x.boundary=4,x.storage=4):g.isVector2?(x.boundary=8,x.storage=8):g.isVector3||g.isColor?(x.boundary=16,x.storage=12):g.isVector4?(x.boundary=16,x.storage=16):g.isMatrix3?(x.boundary=48,x.storage=48):g.isMatrix4?(x.boundary=64,x.storage=64):g.isTexture?Ze("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ze("WebGLRenderer: Unsupported uniform value type.",g),x}function v(g){let x=g.target;x.removeEventListener("dispose",v);let b=o.indexOf(x.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(a[x.id]),delete a[x.id],delete i[x.id]}function h(){for(let g in a)t.deleteBuffer(a[g]);o=[],a={},i={}}return{bind:l,update:u,dispose:h}}var pJ=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]),ho=null;function hJ(){return ho===null&&(ho=new Hx(pJ,16,16,Fu,po),ho.name="DFG_LUT",ho.minFilter=br,ho.magFilter=br,ho.wrapS=so,ho.wrapT=so,ho.generateMipmaps=!1,ho.needsUpdate=!0),ho}var ab=class{constructor(e={}){let{canvas:n=Xk(),context:r=null,depth:a=!0,stencil:i=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:d=!1,outputBufferType:p=sa}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;let y=p,v=new Set([x0,y0,v0]),h=new Set([sa,Ui,sd,ld,m0,g0]),g=new Uint32Array(4),x=new Int32Array(4),b=null,_=null,M=[],A=[],S=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Bi,this.toneMappingExposure=1,this.transmissionResolutionScale=1;let w=this,U=!1;this._outputColorSpace=wa;let D=0,k=0,z=null,V=-1,W=null,C=new wn,L=new wn,B=null,R=new lt(0),T=0,P=n.width,H=n.height,K=1,ee=null,ne=null,G=new wn(0,0,P,H),Q=new wn(0,0,P,H),de=!1,X=new Jf,pe=!1,ue=!1,oe=new xn,qe=new $,Ie=new wn,et={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},He=!1;function Ct(){return z===null?K:1}let q=r;function Lt(O,J){return n.getContext(O,J)}try{let O={alpha:!0,depth:a,stencil:i,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${"183"}`),n.addEventListener("webglcontextlost",Ne,!1),n.addEventListener("webglcontextrestored",tt,!1),n.addEventListener("webglcontextcreationerror",on,!1),q===null){let J="webgl2";if(q=Lt(J,O),q===null)throw Lt(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw Ke("WebGLRenderer: "+O.message),O}let _t,Dt,Re,F,I,Z,fe,me,le,Oe,_e,je,Xe,ve,be,De,ke,Te,ht,j,Me,Se,Pe;function ye(){_t=new _Z(q),_t.init(),Me=new sJ(q,_t),Dt=new hZ(q,_t,e,Me),Re=new iJ(q,_t),Dt.reversedDepthBuffer&&d&&Re.buffers.depth.setReversed(!0),F=new wZ(q),I=new W$,Z=new oJ(q,_t,Re,I,Dt,Me,F),fe=new SZ(w),me=new L7(q),Se=new dZ(q,me),le=new MZ(q,me,F,Se),Oe=new EZ(q,le,me,Se,F),Te=new CZ(q,Dt,Z),be=new mZ(I),_e=new q$(w,fe,_t,Dt,Se,be),je=new fJ(w,I),Xe=new X$,ve=new Q$(_t),ke=new fZ(w,fe,Re,Oe,m,l),De=new aJ(w,Oe,Dt),Pe=new dJ(q,F,Dt,Re),ht=new pZ(q,_t,F),j=new AZ(q,_t,F),F.programs=_e.programs,w.capabilities=Dt,w.extensions=_t,w.properties=I,w.renderLists=Xe,w.shadowMap=De,w.state=Re,w.info=F}ye(),y!==sa&&(S=new IZ(y,n.width,n.height,a,i));let se=new vE(w,q);this.xr=se,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){let O=_t.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){let O=_t.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(O){O!==void 0&&(K=O,this.setSize(P,H,!1))},this.getSize=function(O){return O.set(P,H)},this.setSize=function(O,J,ie=!0){if(se.isPresenting){Ze("WebGLRenderer: Can't change size while VR device is presenting.");return}P=O,H=J,n.width=Math.floor(O*K),n.height=Math.floor(J*K),ie===!0&&(n.style.width=O+"px",n.style.height=J+"px"),S!==null&&S.setSize(n.width,n.height),this.setViewport(0,0,O,J)},this.getDrawingBufferSize=function(O){return O.set(P*K,H*K).floor()},this.setDrawingBufferSize=function(O,J,ie){P=O,H=J,K=ie,n.width=Math.floor(O*ie),n.height=Math.floor(J*ie),this.setViewport(0,0,O,J)},this.setEffects=function(O){if(y===sa){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(O){for(let J=0;J<O.length;J++)if(O[J].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}S.setEffects(O||[])},this.getCurrentViewport=function(O){return O.copy(C)},this.getViewport=function(O){return O.copy(G)},this.setViewport=function(O,J,ie,re){O.isVector4?G.set(O.x,O.y,O.z,O.w):G.set(O,J,ie,re),Re.viewport(C.copy(G).multiplyScalar(K).round())},this.getScissor=function(O){return O.copy(Q)},this.setScissor=function(O,J,ie,re){O.isVector4?Q.set(O.x,O.y,O.z,O.w):Q.set(O,J,ie,re),Re.scissor(L.copy(Q).multiplyScalar(K).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(O){Re.setScissorTest(de=O)},this.setOpaqueSort=function(O){ee=O},this.setTransparentSort=function(O){ne=O},this.getClearColor=function(O){return O.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor(...arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha(...arguments)},this.clear=function(O=!0,J=!0,ie=!0){let re=0;if(O){let te=!1;if(z!==null){let Ce=z.texture.format;te=v.has(Ce)}if(te){let Ce=z.texture.type,Le=h.has(Ce),Ee=ke.getClearColor(),Be=ke.getClearAlpha(),Ge=Ee.r,it=Ee.g,mt=Ee.b;Le?(g[0]=Ge,g[1]=it,g[2]=mt,g[3]=Be,q.clearBufferuiv(q.COLOR,0,g)):(x[0]=Ge,x[1]=it,x[2]=mt,x[3]=Be,q.clearBufferiv(q.COLOR,0,x))}else re|=q.COLOR_BUFFER_BIT}J&&(re|=q.DEPTH_BUFFER_BIT),ie&&(re|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re!==0&&q.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ne,!1),n.removeEventListener("webglcontextrestored",tt,!1),n.removeEventListener("webglcontextcreationerror",on,!1),ke.dispose(),Xe.dispose(),ve.dispose(),I.dispose(),fe.dispose(),Oe.dispose(),Se.dispose(),Pe.dispose(),_e.dispose(),se.dispose(),se.removeEventListener("sessionstart",jR),se.removeEventListener("sessionend",XR),nu.stop()};function Ne(O){O.preventDefault(),$C("WebGLRenderer: Context Lost."),U=!0}function tt(){$C("WebGLRenderer: Context Restored."),U=!1;let O=F.autoReset,J=De.enabled,ie=De.autoUpdate,re=De.needsUpdate,te=De.type;ye(),F.autoReset=O,De.enabled=J,De.autoUpdate=ie,De.needsUpdate=re,De.type=te}function on(O){Ke("WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function zt(O){let J=O.target;J.removeEventListener("dispose",zt),Io(J)}function Io(O){Lo(O),I.remove(O)}function Lo(O){let J=I.get(O).programs;J!==void 0&&(J.forEach(function(ie){_e.releaseProgram(ie)}),O.isShaderMaterial&&_e.releaseShaderCache(O))}this.renderBufferDirect=function(O,J,ie,re,te,Ce){J===null&&(J=et);let Le=te.isMesh&&te.matrixWorld.determinant()<0,Ee=bW(O,J,ie,re,te);Re.setMaterial(re,Le);let Be=ie.index,Ge=1;if(re.wireframe===!0){if(Be=le.getWireframeAttribute(ie),Be===void 0)return;Ge=2}let it=ie.drawRange,mt=ie.attributes.position,We=it.start*Ge,Wt=(it.start+it.count)*Ge;Ce!==null&&(We=Math.max(We,Ce.start*Ge),Wt=Math.min(Wt,(Ce.start+Ce.count)*Ge)),Be!==null?(We=Math.max(We,0),Wt=Math.min(Wt,Be.count)):mt!=null&&(We=Math.max(We,0),Wt=Math.min(Wt,mt.count));let kn=Wt-We;if(kn<0||kn===1/0)return;Se.setup(te,re,Ee,ie,Be);let Tn,jt=ht;if(Be!==null&&(Tn=me.get(Be),jt=j,jt.setIndex(Tn)),te.isMesh)re.wireframe===!0?(Re.setLineWidth(re.wireframeLinewidth*Ct()),jt.setMode(q.LINES)):jt.setMode(q.TRIANGLES);else if(te.isLine){let Mr=re.linewidth;Mr===void 0&&(Mr=1),Re.setLineWidth(Mr*Ct()),te.isLineSegments?jt.setMode(q.LINES):te.isLineLoop?jt.setMode(q.LINE_LOOP):jt.setMode(q.LINE_STRIP)}else te.isPoints?jt.setMode(q.POINTS):te.isSprite&&jt.setMode(q.TRIANGLES);if(te.isBatchedMesh)if(te._multiDrawInstances!==null)Kh("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),jt.renderMultiDrawInstances(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount,te._multiDrawInstances);else if(_t.get("WEBGL_multi_draw"))jt.renderMultiDraw(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount);else{let Mr=te._multiDrawStarts,ze=te._multiDrawCounts,da=te._multiDrawCount,Pt=Be?me.get(Be).bytesPerElement:1,Ti=I.get(re).currentProgram.getUniforms();for(let $i=0;$i<da;$i++)Ti.setValue(q,"_gl_DrawID",$i),jt.render(Mr[$i]/Pt,ze[$i])}else if(te.isInstancedMesh)jt.renderInstances(We,kn,te.count);else if(ie.isInstancedBufferGeometry){let Mr=ie._maxInstanceCount!==void 0?ie._maxInstanceCount:1/0,ze=Math.min(ie.instanceCount,Mr);jt.renderInstances(We,kn,ze)}else jt.render(We,kn)};function WR(O,J,ie){O.transparent===!0&&O.side===oa&&O.forceSinglePass===!1?(O.side=Hr,O.needsUpdate=!0,Sv(O,J,ie),O.side=as,O.needsUpdate=!0,Sv(O,J,ie),O.side=oa):Sv(O,J,ie)}this.compile=function(O,J,ie=null){ie===null&&(ie=O),_=ve.get(ie),_.init(J),A.push(_),ie.traverseVisible(function(te){te.isLight&&te.layers.test(J.layers)&&(_.pushLight(te),te.castShadow&&_.pushShadow(te))}),O!==ie&&O.traverseVisible(function(te){te.isLight&&te.layers.test(J.layers)&&(_.pushLight(te),te.castShadow&&_.pushShadow(te))}),_.setupLights();let re=new Set;return O.traverse(function(te){if(!(te.isMesh||te.isPoints||te.isLine||te.isSprite))return;let Ce=te.material;if(Ce)if(Array.isArray(Ce))for(let Le=0;Le<Ce.length;Le++){let Ee=Ce[Le];WR(Ee,ie,te),re.add(Ee)}else WR(Ce,ie,te),re.add(Ce)}),_=A.pop(),re},this.compileAsync=function(O,J,ie=null){let re=this.compile(O,J,ie);return new Promise(te=>{function Ce(){if(re.forEach(function(Le){I.get(Le).currentProgram.isReady()&&re.delete(Le)}),re.size===0){te(O);return}setTimeout(Ce,10)}_t.get("KHR_parallel_shader_compile")!==null?Ce():setTimeout(Ce,10)})};let a1=null;function xW(O){a1&&a1(O)}function jR(){nu.stop()}function XR(){nu.start()}let nu=new CB;nu.setAnimationLoop(xW),typeof self<"u"&&nu.setContext(self),this.setAnimationLoop=function(O){a1=O,se.setAnimationLoop(O),O===null?nu.stop():nu.start()},se.addEventListener("sessionstart",jR),se.addEventListener("sessionend",XR),this.render=function(O,J){if(J!==void 0&&J.isCamera!==!0){Ke("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;let ie=se.enabled===!0&&se.isPresenting===!0,re=S!==null&&(z===null||ie)&&S.begin(w,z);if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),J.parent===null&&J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),se.enabled===!0&&se.isPresenting===!0&&(S===null||S.isCompositing()===!1)&&(se.cameraAutoUpdate===!0&&se.updateCamera(J),J=se.getCamera()),O.isScene===!0&&O.onBeforeRender(w,O,J,z),_=ve.get(O,A.length),_.init(J),A.push(_),oe.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),X.setFromProjectionMatrix(oe,Ni,J.reversedDepth),ue=this.localClippingEnabled,pe=be.init(this.clippingPlanes,ue),b=Xe.get(O,M.length),b.init(),M.push(b),se.enabled===!0&&se.isPresenting===!0){let Le=w.xr.getDepthSensingMesh();Le!==null&&i1(Le,J,-1/0,w.sortObjects)}i1(O,J,0,w.sortObjects),b.finish(),w.sortObjects===!0&&b.sort(ee,ne),He=se.enabled===!1||se.isPresenting===!1||se.hasDepthSensing()===!1,He&&ke.addToRenderList(b,O),this.info.render.frame++,pe===!0&&be.beginShadows();let te=_.state.shadowsArray;if(De.render(te,O,J),pe===!0&&be.endShadows(),this.info.autoReset===!0&&this.info.reset(),(re&&S.hasRenderPass())===!1){let Le=b.opaque,Ee=b.transmissive;if(_.setupLights(),J.isArrayCamera){let Be=J.cameras;if(Ee.length>0)for(let Ge=0,it=Be.length;Ge<it;Ge++){let mt=Be[Ge];KR(Le,Ee,O,mt)}He&&ke.render(O);for(let Ge=0,it=Be.length;Ge<it;Ge++){let mt=Be[Ge];YR(b,O,mt,mt.viewport)}}else Ee.length>0&&KR(Le,Ee,O,J),He&&ke.render(O),YR(b,O,J)}z!==null&&k===0&&(Z.updateMultisampleRenderTarget(z),Z.updateRenderTargetMipmap(z)),re&&S.end(w),O.isScene===!0&&O.onAfterRender(w,O,J),Se.resetDefaultState(),V=-1,W=null,A.pop(),A.length>0?(_=A[A.length-1],pe===!0&&be.setGlobalState(w.clippingPlanes,_.state.camera)):_=null,M.pop(),M.length>0?b=M[M.length-1]:b=null};function i1(O,J,ie,re){if(O.visible===!1)return;if(O.layers.test(J.layers)){if(O.isGroup)ie=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(J);else if(O.isLight)_.pushLight(O),O.castShadow&&_.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||X.intersectsSprite(O)){re&&Ie.setFromMatrixPosition(O.matrixWorld).applyMatrix4(oe);let Le=Oe.update(O),Ee=O.material;Ee.visible&&b.push(O,Le,Ee,ie,Ie.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||X.intersectsObject(O))){let Le=Oe.update(O),Ee=O.material;if(re&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),Ie.copy(O.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),Ie.copy(Le.boundingSphere.center)),Ie.applyMatrix4(O.matrixWorld).applyMatrix4(oe)),Array.isArray(Ee)){let Be=Le.groups;for(let Ge=0,it=Be.length;Ge<it;Ge++){let mt=Be[Ge],We=Ee[mt.materialIndex];We&&We.visible&&b.push(O,Le,We,ie,Ie.z,mt)}}else Ee.visible&&b.push(O,Le,Ee,ie,Ie.z,null)}}let Ce=O.children;for(let Le=0,Ee=Ce.length;Le<Ee;Le++)i1(Ce[Le],J,ie,re)}function YR(O,J,ie,re){let{opaque:te,transmissive:Ce,transparent:Le}=O;_.setupLightsView(ie),pe===!0&&be.setGlobalState(w.clippingPlanes,ie),re&&Re.viewport(C.copy(re)),te.length>0&&bv(te,J,ie),Ce.length>0&&bv(Ce,J,ie),Le.length>0&&bv(Le,J,ie),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function KR(O,J,ie,re){if((ie.isScene===!0?ie.overrideMaterial:null)!==null)return;if(_.state.transmissionRenderTarget[re.id]===void 0){let We=_t.has("EXT_color_buffer_half_float")||_t.has("EXT_color_buffer_float");_.state.transmissionRenderTarget[re.id]=new Ea(1,1,{generateMipmaps:!0,type:We?po:sa,minFilter:El,samples:Dt.samples,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Et.workingColorSpace})}let Ce=_.state.transmissionRenderTarget[re.id],Le=re.viewport||C;Ce.setSize(Le.z*w.transmissionResolutionScale,Le.w*w.transmissionResolutionScale);let Ee=w.getRenderTarget(),Be=w.getActiveCubeFace(),Ge=w.getActiveMipmapLevel();w.setRenderTarget(Ce),w.getClearColor(R),T=w.getClearAlpha(),T<1&&w.setClearColor(16777215,.5),w.clear(),He&&ke.render(ie);let it=w.toneMapping;w.toneMapping=Bi;let mt=re.viewport;if(re.viewport!==void 0&&(re.viewport=void 0),_.setupLightsView(re),pe===!0&&be.setGlobalState(w.clippingPlanes,re),bv(O,ie,re),Z.updateMultisampleRenderTarget(Ce),Z.updateRenderTargetMipmap(Ce),_t.has("WEBGL_multisampled_render_to_texture")===!1){let We=!1;for(let Wt=0,kn=J.length;Wt<kn;Wt++){let Tn=J[Wt],{object:jt,geometry:Mr,material:ze,group:da}=Tn;if(ze.side===oa&&jt.layers.test(re.layers)){let Pt=ze.side;ze.side=Hr,ze.needsUpdate=!0,ZR(jt,ie,re,Mr,ze,da),ze.side=Pt,ze.needsUpdate=!0,We=!0}}We===!0&&(Z.updateMultisampleRenderTarget(Ce),Z.updateRenderTargetMipmap(Ce))}w.setRenderTarget(Ee,Be,Ge),w.setClearColor(R,T),mt!==void 0&&(re.viewport=mt),w.toneMapping=it}function bv(O,J,ie){let re=J.isScene===!0?J.overrideMaterial:null;for(let te=0,Ce=O.length;te<Ce;te++){let Le=O[te],{object:Ee,geometry:Be,group:Ge}=Le,it=Le.material;it.allowOverride===!0&&re!==null&&(it=re),Ee.layers.test(ie.layers)&&ZR(Ee,J,ie,Be,it,Ge)}}function ZR(O,J,ie,re,te,Ce){O.onBeforeRender(w,J,ie,re,te,Ce),O.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),te.onBeforeRender(w,J,ie,re,O,Ce),te.transparent===!0&&te.side===oa&&te.forceSinglePass===!1?(te.side=Hr,te.needsUpdate=!0,w.renderBufferDirect(ie,J,re,te,O,Ce),te.side=as,te.needsUpdate=!0,w.renderBufferDirect(ie,J,re,te,O,Ce),te.side=oa):w.renderBufferDirect(ie,J,re,te,O,Ce),O.onAfterRender(w,J,ie,re,te,Ce)}function Sv(O,J,ie){J.isScene!==!0&&(J=et);let re=I.get(O),te=_.state.lights,Ce=_.state.shadowsArray,Le=te.state.version,Ee=_e.getParameters(O,te.state,Ce,J,ie),Be=_e.getProgramCacheKey(Ee),Ge=re.programs;re.environment=O.isMeshStandardMaterial||O.isMeshLambertMaterial||O.isMeshPhongMaterial?J.environment:null,re.fog=J.fog;let it=O.isMeshStandardMaterial||O.isMeshLambertMaterial&&!O.envMap||O.isMeshPhongMaterial&&!O.envMap;re.envMap=fe.get(O.envMap||re.environment,it),re.envMapRotation=re.environment!==null&&O.envMap===null?J.environmentRotation:O.envMapRotation,Ge===void 0&&(O.addEventListener("dispose",zt),Ge=new Map,re.programs=Ge);let mt=Ge.get(Be);if(mt!==void 0){if(re.currentProgram===mt&&re.lightsStateVersion===Le)return JR(O,Ee),mt}else Ee.uniforms=_e.getUniforms(O),O.onBeforeCompile(Ee,w),mt=_e.acquireProgram(Ee,Be),Ge.set(Be,mt),re.uniforms=Ee.uniforms;let We=re.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(We.clippingPlanes=be.uniform),JR(O,Ee),re.needsLights=_W(O),re.lightsStateVersion=Le,re.needsLights&&(We.ambientLightColor.value=te.state.ambient,We.lightProbe.value=te.state.probe,We.directionalLights.value=te.state.directional,We.directionalLightShadows.value=te.state.directionalShadow,We.spotLights.value=te.state.spot,We.spotLightShadows.value=te.state.spotShadow,We.rectAreaLights.value=te.state.rectArea,We.ltc_1.value=te.state.rectAreaLTC1,We.ltc_2.value=te.state.rectAreaLTC2,We.pointLights.value=te.state.point,We.pointLightShadows.value=te.state.pointShadow,We.hemisphereLights.value=te.state.hemi,We.directionalShadowMatrix.value=te.state.directionalShadowMatrix,We.spotLightMatrix.value=te.state.spotLightMatrix,We.spotLightMap.value=te.state.spotLightMap,We.pointShadowMatrix.value=te.state.pointShadowMatrix),re.currentProgram=mt,re.uniformsList=null,mt}function $R(O){if(O.uniformsList===null){let J=O.currentProgram.getUniforms();O.uniformsList=fd.seqWithValue(J.seq,O.uniforms)}return O.uniformsList}function JR(O,J){let ie=I.get(O);ie.outputColorSpace=J.outputColorSpace,ie.batching=J.batching,ie.batchingColor=J.batchingColor,ie.instancing=J.instancing,ie.instancingColor=J.instancingColor,ie.instancingMorph=J.instancingMorph,ie.skinning=J.skinning,ie.morphTargets=J.morphTargets,ie.morphNormals=J.morphNormals,ie.morphColors=J.morphColors,ie.morphTargetsCount=J.morphTargetsCount,ie.numClippingPlanes=J.numClippingPlanes,ie.numIntersection=J.numClipIntersection,ie.vertexAlphas=J.vertexAlphas,ie.vertexTangents=J.vertexTangents,ie.toneMapping=J.toneMapping}function bW(O,J,ie,re,te){J.isScene!==!0&&(J=et),Z.resetTextureUnits();let Ce=J.fog,Le=re.isMeshStandardMaterial||re.isMeshLambertMaterial||re.isMeshPhongMaterial?J.environment:null,Ee=z===null?w.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Pu,Be=re.isMeshStandardMaterial||re.isMeshLambertMaterial&&!re.envMap||re.isMeshPhongMaterial&&!re.envMap,Ge=fe.get(re.envMap||Le,Be),it=re.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,mt=!!ie.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),We=!!ie.morphAttributes.position,Wt=!!ie.morphAttributes.normal,kn=!!ie.morphAttributes.color,Tn=Bi;re.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(Tn=w.toneMapping);let jt=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,Mr=jt!==void 0?jt.length:0,ze=I.get(re),da=_.state.lights;if(pe===!0&&(ue===!0||O!==W)){let nr=O===W&&re.id===V;be.setState(re,O,nr)}let Pt=!1;re.version===ze.__version?(ze.needsLights&&ze.lightsStateVersion!==da.state.version||ze.outputColorSpace!==Ee||te.isBatchedMesh&&ze.batching===!1||!te.isBatchedMesh&&ze.batching===!0||te.isBatchedMesh&&ze.batchingColor===!0&&te.colorTexture===null||te.isBatchedMesh&&ze.batchingColor===!1&&te.colorTexture!==null||te.isInstancedMesh&&ze.instancing===!1||!te.isInstancedMesh&&ze.instancing===!0||te.isSkinnedMesh&&ze.skinning===!1||!te.isSkinnedMesh&&ze.skinning===!0||te.isInstancedMesh&&ze.instancingColor===!0&&te.instanceColor===null||te.isInstancedMesh&&ze.instancingColor===!1&&te.instanceColor!==null||te.isInstancedMesh&&ze.instancingMorph===!0&&te.morphTexture===null||te.isInstancedMesh&&ze.instancingMorph===!1&&te.morphTexture!==null||ze.envMap!==Ge||re.fog===!0&&ze.fog!==Ce||ze.numClippingPlanes!==void 0&&(ze.numClippingPlanes!==be.numPlanes||ze.numIntersection!==be.numIntersection)||ze.vertexAlphas!==it||ze.vertexTangents!==mt||ze.morphTargets!==We||ze.morphNormals!==Wt||ze.morphColors!==kn||ze.toneMapping!==Tn||ze.morphTargetsCount!==Mr)&&(Pt=!0):(Pt=!0,ze.__version=re.version);let Ti=ze.currentProgram;Pt===!0&&(Ti=Sv(re,J,te));let $i=!1,ru=!1,Uc=!1,en=Ti.getUniforms(),hr=ze.uniforms;if(Re.useProgram(Ti.program)&&($i=!0,ru=!0,Uc=!0),re.id!==V&&(V=re.id,ru=!0),$i||W!==O){Re.buffers.depth.getReversed()&&O.reversedDepth!==!0&&(O._reversedDepth=!0,O.updateProjectionMatrix()),en.setValue(q,"projectionMatrix",O.projectionMatrix),en.setValue(q,"viewMatrix",O.matrixWorldInverse);let Us=en.map.cameraPosition;Us!==void 0&&Us.setValue(q,qe.setFromMatrixPosition(O.matrixWorld)),Dt.logarithmicDepthBuffer&&en.setValue(q,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&en.setValue(q,"isOrthographic",O.isOrthographicCamera===!0),W!==O&&(W=O,ru=!0,Uc=!0)}if(ze.needsLights&&(da.state.directionalShadowMap.length>0&&en.setValue(q,"directionalShadowMap",da.state.directionalShadowMap,Z),da.state.spotShadowMap.length>0&&en.setValue(q,"spotShadowMap",da.state.spotShadowMap,Z),da.state.pointShadowMap.length>0&&en.setValue(q,"pointShadowMap",da.state.pointShadowMap,Z)),te.isSkinnedMesh){en.setOptional(q,te,"bindMatrix"),en.setOptional(q,te,"bindMatrixInverse");let nr=te.skeleton;nr&&(nr.boneTexture===null&&nr.computeBoneTexture(),en.setValue(q,"boneTexture",nr.boneTexture,Z))}te.isBatchedMesh&&(en.setOptional(q,te,"batchingTexture"),en.setValue(q,"batchingTexture",te._matricesTexture,Z),en.setOptional(q,te,"batchingIdTexture"),en.setValue(q,"batchingIdTexture",te._indirectTexture,Z),en.setOptional(q,te,"batchingColorTexture"),te._colorsTexture!==null&&en.setValue(q,"batchingColorTexture",te._colorsTexture,Z));let Bs=ie.morphAttributes;if((Bs.position!==void 0||Bs.normal!==void 0||Bs.color!==void 0)&&Te.update(te,ie,Ti),(ru||ze.receiveShadow!==te.receiveShadow)&&(ze.receiveShadow=te.receiveShadow,en.setValue(q,"receiveShadow",te.receiveShadow)),(re.isMeshStandardMaterial||re.isMeshLambertMaterial||re.isMeshPhongMaterial)&&re.envMap===null&&J.environment!==null&&(hr.envMapIntensity.value=J.environmentIntensity),hr.dfgLUT!==void 0&&(hr.dfgLUT.value=hJ()),ru&&(en.setValue(q,"toneMappingExposure",w.toneMappingExposure),ze.needsLights&&SW(hr,Uc),Ce&&re.fog===!0&&je.refreshFogUniforms(hr,Ce),je.refreshMaterialUniforms(hr,re,K,H,_.state.transmissionRenderTarget[O.id]),fd.upload(q,$R(ze),hr,Z)),re.isShaderMaterial&&re.uniformsNeedUpdate===!0&&(fd.upload(q,$R(ze),hr,Z),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&en.setValue(q,"center",te.center),en.setValue(q,"modelViewMatrix",te.modelViewMatrix),en.setValue(q,"normalMatrix",te.normalMatrix),en.setValue(q,"modelMatrix",te.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){let nr=re.uniformsGroups;for(let Us=0,Fc=nr.length;Us<Fc;Us++){let QR=nr[Us];Pe.update(QR,Ti),Pe.bind(QR,Ti)}}return Ti}function SW(O,J){O.ambientLightColor.needsUpdate=J,O.lightProbe.needsUpdate=J,O.directionalLights.needsUpdate=J,O.directionalLightShadows.needsUpdate=J,O.pointLights.needsUpdate=J,O.pointLightShadows.needsUpdate=J,O.spotLights.needsUpdate=J,O.spotLightShadows.needsUpdate=J,O.rectAreaLights.needsUpdate=J,O.hemisphereLights.needsUpdate=J}function _W(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(O,J,ie){let re=I.get(O);re.__autoAllocateDepthBuffer=O.resolveDepthBuffer===!1,re.__autoAllocateDepthBuffer===!1&&(re.__useRenderToTexture=!1),I.get(O.texture).__webglTexture=J,I.get(O.depthTexture).__webglTexture=re.__autoAllocateDepthBuffer?void 0:ie,re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(O,J){let ie=I.get(O);ie.__webglFramebuffer=J,ie.__useDefaultFramebuffer=J===void 0};let MW=q.createFramebuffer();this.setRenderTarget=function(O,J=0,ie=0){z=O,D=J,k=ie;let re=null,te=!1,Ce=!1;if(O){let Ee=I.get(O);if(Ee.__useDefaultFramebuffer!==void 0){Re.bindFramebuffer(q.FRAMEBUFFER,Ee.__webglFramebuffer),C.copy(O.viewport),L.copy(O.scissor),B=O.scissorTest,Re.viewport(C),Re.scissor(L),Re.setScissorTest(B),V=-1;return}else if(Ee.__webglFramebuffer===void 0)Z.setupRenderTarget(O);else if(Ee.__hasExternalTextures)Z.rebindTextures(O,I.get(O.texture).__webglTexture,I.get(O.depthTexture).__webglTexture);else if(O.depthBuffer){let it=O.depthTexture;if(Ee.__boundDepthTexture!==it){if(it!==null&&I.has(it)&&(O.width!==it.image.width||O.height!==it.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Z.setupDepthRenderbuffer(O)}}let Be=O.texture;(Be.isData3DTexture||Be.isDataArrayTexture||Be.isCompressedArrayTexture)&&(Ce=!0);let Ge=I.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(Ge[J])?re=Ge[J][ie]:re=Ge[J],te=!0):O.samples>0&&Z.useMultisampledRTT(O)===!1?re=I.get(O).__webglMultisampledFramebuffer:Array.isArray(Ge)?re=Ge[ie]:re=Ge,C.copy(O.viewport),L.copy(O.scissor),B=O.scissorTest}else C.copy(G).multiplyScalar(K).floor(),L.copy(Q).multiplyScalar(K).floor(),B=de;if(ie!==0&&(re=MW),Re.bindFramebuffer(q.FRAMEBUFFER,re)&&Re.drawBuffers(O,re),Re.viewport(C),Re.scissor(L),Re.setScissorTest(B),te){let Ee=I.get(O.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+J,Ee.__webglTexture,ie)}else if(Ce){let Ee=J;for(let Be=0;Be<O.textures.length;Be++){let Ge=I.get(O.textures[Be]);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+Be,Ge.__webglTexture,ie,Ee)}}else if(O!==null&&ie!==0){let Ee=I.get(O.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Ee.__webglTexture,ie)}V=-1},this.readRenderTargetPixels=function(O,J,ie,re,te,Ce,Le,Ee=0){if(!(O&&O.isWebGLRenderTarget)){Ke("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Be=I.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Le!==void 0&&(Be=Be[Le]),Be){Re.bindFramebuffer(q.FRAMEBUFFER,Be);try{let Ge=O.textures[Ee],it=Ge.format,mt=Ge.type;if(O.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+Ee),!Dt.textureFormatReadable(it)){Ke("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Dt.textureTypeReadable(mt)){Ke("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}J>=0&&J<=O.width-re&&ie>=0&&ie<=O.height-te&&q.readPixels(J,ie,re,te,Me.convert(it),Me.convert(mt),Ce)}finally{let Ge=z!==null?I.get(z).__webglFramebuffer:null;Re.bindFramebuffer(q.FRAMEBUFFER,Ge)}}},this.readRenderTargetPixelsAsync=async function(O,J,ie,re,te,Ce,Le,Ee=0){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Be=I.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Le!==void 0&&(Be=Be[Le]),Be)if(J>=0&&J<=O.width-re&&ie>=0&&ie<=O.height-te){Re.bindFramebuffer(q.FRAMEBUFFER,Be);let Ge=O.textures[Ee],it=Ge.format,mt=Ge.type;if(O.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+Ee),!Dt.textureFormatReadable(it))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Dt.textureTypeReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");let We=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,We),q.bufferData(q.PIXEL_PACK_BUFFER,Ce.byteLength,q.STREAM_READ),q.readPixels(J,ie,re,te,Me.convert(it),Me.convert(mt),0);let Wt=z!==null?I.get(z).__webglFramebuffer:null;Re.bindFramebuffer(q.FRAMEBUFFER,Wt);let kn=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await Kk(q,kn,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,We),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Ce),q.deleteBuffer(We),q.deleteSync(kn),Ce}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(O,J=null,ie=0){let re=Math.pow(2,-ie),te=Math.floor(O.image.width*re),Ce=Math.floor(O.image.height*re),Le=J!==null?J.x:0,Ee=J!==null?J.y:0;Z.setTexture2D(O,0),q.copyTexSubImage2D(q.TEXTURE_2D,ie,0,0,Le,Ee,te,Ce),Re.unbindTexture()};let AW=q.createFramebuffer(),wW=q.createFramebuffer();this.copyTextureToTexture=function(O,J,ie=null,re=null,te=0,Ce=0){let Le,Ee,Be,Ge,it,mt,We,Wt,kn,Tn=O.isCompressedTexture?O.mipmaps[Ce]:O.image;if(ie!==null)Le=ie.max.x-ie.min.x,Ee=ie.max.y-ie.min.y,Be=ie.isBox3?ie.max.z-ie.min.z:1,Ge=ie.min.x,it=ie.min.y,mt=ie.isBox3?ie.min.z:0;else{let hr=Math.pow(2,-te);Le=Math.floor(Tn.width*hr),Ee=Math.floor(Tn.height*hr),O.isDataArrayTexture?Be=Tn.depth:O.isData3DTexture?Be=Math.floor(Tn.depth*hr):Be=1,Ge=0,it=0,mt=0}re!==null?(We=re.x,Wt=re.y,kn=re.z):(We=0,Wt=0,kn=0);let jt=Me.convert(J.format),Mr=Me.convert(J.type),ze;J.isData3DTexture?(Z.setTexture3D(J,0),ze=q.TEXTURE_3D):J.isDataArrayTexture||J.isCompressedArrayTexture?(Z.setTexture2DArray(J,0),ze=q.TEXTURE_2D_ARRAY):(Z.setTexture2D(J,0),ze=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,J.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,J.unpackAlignment);let da=q.getParameter(q.UNPACK_ROW_LENGTH),Pt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Ti=q.getParameter(q.UNPACK_SKIP_PIXELS),$i=q.getParameter(q.UNPACK_SKIP_ROWS),ru=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,Tn.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Tn.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Ge),q.pixelStorei(q.UNPACK_SKIP_ROWS,it),q.pixelStorei(q.UNPACK_SKIP_IMAGES,mt);let Uc=O.isDataArrayTexture||O.isData3DTexture,en=J.isDataArrayTexture||J.isData3DTexture;if(O.isDepthTexture){let hr=I.get(O),Bs=I.get(J),nr=I.get(hr.__renderTarget),Us=I.get(Bs.__renderTarget);Re.bindFramebuffer(q.READ_FRAMEBUFFER,nr.__webglFramebuffer),Re.bindFramebuffer(q.DRAW_FRAMEBUFFER,Us.__webglFramebuffer);for(let Fc=0;Fc<Be;Fc++)Uc&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,I.get(O).__webglTexture,te,mt+Fc),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,I.get(J).__webglTexture,Ce,kn+Fc)),q.blitFramebuffer(Ge,it,Le,Ee,We,Wt,Le,Ee,q.DEPTH_BUFFER_BIT,q.NEAREST);Re.bindFramebuffer(q.READ_FRAMEBUFFER,null),Re.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(te!==0||O.isRenderTargetTexture||I.has(O)){let hr=I.get(O),Bs=I.get(J);Re.bindFramebuffer(q.READ_FRAMEBUFFER,AW),Re.bindFramebuffer(q.DRAW_FRAMEBUFFER,wW);for(let nr=0;nr<Be;nr++)Uc?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,hr.__webglTexture,te,mt+nr):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,hr.__webglTexture,te),en?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Bs.__webglTexture,Ce,kn+nr):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Bs.__webglTexture,Ce),te!==0?q.blitFramebuffer(Ge,it,Le,Ee,We,Wt,Le,Ee,q.COLOR_BUFFER_BIT,q.NEAREST):en?q.copyTexSubImage3D(ze,Ce,We,Wt,kn+nr,Ge,it,Le,Ee):q.copyTexSubImage2D(ze,Ce,We,Wt,Ge,it,Le,Ee);Re.bindFramebuffer(q.READ_FRAMEBUFFER,null),Re.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else en?O.isDataTexture||O.isData3DTexture?q.texSubImage3D(ze,Ce,We,Wt,kn,Le,Ee,Be,jt,Mr,Tn.data):J.isCompressedArrayTexture?q.compressedTexSubImage3D(ze,Ce,We,Wt,kn,Le,Ee,Be,jt,Tn.data):q.texSubImage3D(ze,Ce,We,Wt,kn,Le,Ee,Be,jt,Mr,Tn):O.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Ce,We,Wt,Le,Ee,jt,Mr,Tn.data):O.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Ce,We,Wt,Tn.width,Tn.height,jt,Tn.data):q.texSubImage2D(q.TEXTURE_2D,Ce,We,Wt,Le,Ee,jt,Mr,Tn);q.pixelStorei(q.UNPACK_ROW_LENGTH,da),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Pt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Ti),q.pixelStorei(q.UNPACK_SKIP_ROWS,$i),q.pixelStorei(q.UNPACK_SKIP_IMAGES,ru),Ce===0&&J.generateMipmaps&&q.generateMipmap(ze),Re.unbindTexture()},this.initRenderTarget=function(O){I.get(O).__webglFramebuffer===void 0&&Z.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?Z.setTextureCube(O,0):O.isData3DTexture?Z.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?Z.setTexture2DArray(O,0):Z.setTexture2D(O,0),Re.unbindTexture()},this.resetState=function(){D=0,k=0,z=null,Re.reset(),Se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ni}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;let n=this.getContext();n.drawingBufferColorSpace=Et._getDrawingBufferColorSpace(e),n.unpackColorSpace=Et._getUnpackColorSpace()}};var sb=ae(ce()),NB=ae(ce());function PB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=PB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=PB(t))&&(r&&(r+=" "),r+=e);return r}var OB=ae(ce());var gJ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lm(t){if(typeof t!="string")return!1;var e=gJ;return e.includes(t)}var RB=ae(ce()),vJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yJ=new Set(vJ);function yE(t){return typeof t!="string"?!1:yJ.has(t)}function xE(t){return typeof t=="string"&&t.startsWith("data-")}function bn(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(yE(n)||xE(n))&&(e[n]=t[n]);return e}function Pa(t){if(t==null)return null;if((0,RB.isValidElement)(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return bn(e)}return typeof t=="object"&&!Array.isArray(t)?bn(t):null}function Ut(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(yE(n)||xE(n)||Lm(n))&&(e[n]=t[n]);return e}function DB(t){return t==null?null:(0,OB.isValidElement)(t)?Ut(t.props):typeof t=="object"&&!Array.isArray(t)?Ut(t):null}var xJ=["children","width","height","viewBox","className","style","title","desc"];function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(null,arguments)}function bJ(t,e){if(t==null)return{};var n,r,a=SJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function SJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pm=(0,NB.forwardRef)((t,e)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=t,c=bJ(t,xJ),f=i||{width:r,height:a,x:0,y:0},d=Fe("recharts-surface",o);return sb.createElement("svg",bE({},Ut(c),{className:d,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),sb.createElement("title",null,l),sb.createElement("desc",null,u),n)});var lb=ae(ce());var _J=["children","className"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(null,arguments)}function MJ(t,e){if(t==null)return{};var n,r,a=AJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function AJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tt=lb.forwardRef((t,e)=>{var{children:n,className:r}=t,a=MJ(t,_J),i=Fe("recharts-layer",r);return lb.createElement("g",SE({className:i},Ut(a),{ref:e}),n)});var Vi=ae(ce()),zI=ae(ce()),Uz=ae(zp());var ub=ae(ce()),_E=(0,ub.createContext)(null),kB=()=>(0,ub.useContext)(_E);var Gr=ae(ce());var sU=ae(ce());function Ft(t){return function(){return t}}var ME=Math.cos;var Rm=Math.sin,ur=Math.sqrt;var qu=Math.PI,H0e=qu/2,pd=2*qu;var AE=Math.PI,wE=2*AE,Wu=1e-6,wJ=wE-Wu;function BB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function CJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BB;let n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}var ju=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BB:CJ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-e,u=a-n,c=o-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Wu)if(!(Math.abs(f*l-u*c)>Wu)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=a-s,y=l*l+u*u,v=p*p+m*m,h=Math.sqrt(y),g=Math.sqrt(d),x=i*Math.tan((AE-Math.acos((y+d-v)/(2*h*g)))/2),b=x/g,_=x/h;Math.abs(b-1)>Wu&&this._append`L${e+b*c},${n+b*f}`,this._append`A${i},${i},0,0,${+(f*p>c*m)},${this._x1=e+_*l},${this._y1=n+_*u}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=e+s,c=n+l,f=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Wu||Math.abs(this._y1-c)>Wu)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%wE+wE),d>wJ?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>Wu&&this._append`A${r},${r},0,${+(d>=AE)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};function UB(){return new ju}UB.prototype=ju.prototype;function hd(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ju(e)}var K0e=Array.prototype.slice;function md(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function FB(t){this._context=t}FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ll(t){return new FB(t)}function cb(t){return t[0]}function fb(t){return t[1]}function Om(t,e){var n=Ft(!0),r=null,a=Ll,i=null,o=hd(s);t=typeof t=="function"?t:t===void 0?cb:Ft(t),e=typeof e=="function"?e:e===void 0?fb:Ft(e);function s(l){var u,c=(l=md(l)).length,f,d=!1,p;for(r==null&&(i=a(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+t(f,u,l),+e(f,u,l));if(p)return i=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ft(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ft(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ft(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function gd(t,e,n){var r=null,a=Ft(!0),i=null,o=Ll,s=null,l=hd(u);t=typeof t=="function"?t:t===void 0?cb:Ft(+t),e=typeof e=="function"?e:e===void 0?Ft(0):Ft(+e),n=typeof n=="function"?n:n===void 0?fb:Ft(+n);function u(f){var d,p,m,y=(f=md(f)).length,v,h=!1,g,x=new Array(y),b=new Array(y);for(i==null&&(s=o(g=l())),d=0;d<=y;++d){if(!(d<y&&a(v=f[d],d,f))===h)if(h=!h)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(x[m],b[m]);s.lineEnd(),s.areaEnd()}h&&(x[d]=+t(v,d,f),b[d]=+e(v,d,f),s.point(r?+r(v,d,f):x[d],n?+n(v,d,f):b[d]))}if(g)return s=null,g+""||null}function c(){return Om().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ft(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ft(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ft(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ft(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ft(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ft(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}var db=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}};function CE(t){return new db(t,!0)}function EE(t){return new db(t,!1)}var vd={draw(t,e){let n=ur(e/qu);t.moveTo(n,0),t.arc(0,0,n,0,pd)}};var TE={draw(t,e){let n=ur(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var zB=ur(1/3),EJ=zB*2,IE={draw(t,e){let n=ur(e/EJ),r=n*zB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var LE={draw(t,e){let n=ur(e),r=-n/2;t.rect(r,r,n,n)}};var TJ=.8908130915292852,HB=Rm(qu/10)/Rm(7*qu/10),IJ=Rm(pd/10)*HB,LJ=-ME(pd/10)*HB,PE={draw(t,e){let n=ur(e*TJ),r=IJ*n,a=LJ*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){let o=pd*i/5,s=ME(o),l=Rm(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*a,l*r+s*a)}t.closePath()}};var RE=ur(3),OE={draw(t,e){let n=-ur(e/(RE*3));t.moveTo(0,n*2),t.lineTo(-RE*n,-n),t.lineTo(RE*n,-n),t.closePath()}};var ri=-.5,ai=ur(3)/2,DE=1/ur(12),PJ=(DE/2+1)*3,NE={draw(t,e){let n=ur(e/PJ),r=n/2,a=n*DE,i=r,o=n*DE+n,s=-i,l=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(s,l),t.lineTo(ri*r-ai*a,ai*r+ri*a),t.lineTo(ri*i-ai*o,ai*i+ri*o),t.lineTo(ri*s-ai*l,ai*s+ri*l),t.lineTo(ri*r+ai*a,ri*a-ai*r),t.lineTo(ri*i+ai*o,ri*o-ai*i),t.lineTo(ri*s+ai*l,ri*l-ai*s),t.closePath()}};function pb(t,e){let n=null,r=hd(a);t=typeof t=="function"?t:Ft(t||vd),e=typeof e=="function"?e:Ft(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ft(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ft(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function yd(){}function xd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function VB(t){this._context=t}VB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kE(t){return new VB(t)}function GB(t){this._context=t}GB.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BE(t){return new GB(t)}function qB(t){this._context=t}qB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UE(t){return new qB(t)}function WB(t){this._context=t}WB.prototype={areaStart:yd,areaEnd:yd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FE(t){return new WB(t)}function jB(t){return t<0?-1:1}function XB(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(jB(i)+jB(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function YB(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zE(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function hb(t){this._context=t}hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zE(this,this._t0,YB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zE(this,YB(this,n=XB(this,t,e)),n);break;default:zE(this,this._t0,n=XB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function KB(t){this._context=new ZB(t)}(KB.prototype=Object.create(hb.prototype)).point=function(t,e){hb.prototype.point.call(this,e,t)};function ZB(t){this._context=t}ZB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function HE(t){return new hb(t)}function VE(t){return new KB(t)}function JB(t){this._context=t}JB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$B(t),a=$B(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $B(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function GE(t){return new JB(t)}function mb(t,e){this._context=t,this._t=e}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qE(t){return new mb(t,.5)}function WE(t){return new mb(t,0)}function jE(t){return new mb(t,1)}function Ra(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,s=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function bd(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RJ(t,e){return t[e]}function OJ(t){let e=[];return e.key=t,e}function XE(){var t=Ft([]),e=bd,n=Ra,r=RJ;function a(i){var o=Array.from(t.apply(this,arguments),OJ),s,l=o.length,u=-1,c;for(let f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,c=md(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ft(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ft(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?bd:typeof i=="function"?i:Ft(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??Ra,a):n},a}function YE(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}Ra(t,e)}}function KE(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Ra(t,e)}}function ZE(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var y=t[e[m]],v=y[r][1]||0,h=y[r-1][1]||0;p+=v-h}l+=f,u+=p*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,Ra(t,e)}}var aU=ae(Sd());var WJ=4;function go(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WJ,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function mn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+go(s)+i:a+i},"")}var nn=t=>t===0?0:t>0?1:-1,cr=t=>typeof t=="number"&&t!=+t,ls=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xe=t=>(typeof t=="number"||t instanceof Number)&&!cr(t),fr=t=>xe(t)||typeof t=="string",jJ=0,us=t=>{var e=++jJ;return"".concat(t||"").concat(e)},Cn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xe(e)&&typeof e!="string")return r;var i;if(ls(e)){if(n==null)return r;var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return cr(i)&&(i=r),a&&n!=null&&i>n&&(i=n),i},iT=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function St(t,e,n){return xe(t)&&xe(e)?go(t+n*(e-t)):e}function xb(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):(0,aU.default)(r,e))===n)}var xt=t=>t===null||typeof t>"u",cs=t=>xt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Sr(t){return t!=null}function Vr(){}var XJ=["type","size","sizeType"];function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oT.apply(null,arguments)}function iU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iU(Object(n),!0).forEach(function(r){YJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJ(t,e,n){return(e=KJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=ZJ(t,"string");return typeof e=="symbol"?e:e+""}function ZJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $J(t,e){if(t==null)return{};var n,r,a=JJ(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function JJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lU={symbolCircle:vd,symbolCross:TE,symbolDiamond:IE,symbolSquare:LE,symbolStar:PE,symbolTriangle:OE,symbolWye:NE},QJ=Math.PI/180,eQ=t=>{var e="symbol".concat(cs(t));return lU[e]||vd},tQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*QJ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nQ=(t,e)=>{lU["symbol".concat(cs(t))]=e},Dm=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,a=$J(t,XJ),i=oU(oU({},a),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var s=()=>{var d=eQ(o),p=pb().type(d).size(tQ(n,r,o)),m=p();if(m!==null)return m},{className:l,cx:u,cy:c}=i,f=Ut(i);return xe(u)&&xe(c)&&xe(n)?sU.createElement("path",oT({},f,{className:Fe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Dm.registerSymbol=nQ;var uU=ae(ce());var bb=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,_d=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if((0,uU.isValidElement)(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Lm(a)&&(r[a]=e||(i=>n[a](n,i)))}),r},rQ=(t,e,n)=>r=>(t(e,n,r),null),fs=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var i=t[a];Lm(a)&&typeof i=="function"&&(r||(r={}),r[a]=rQ(i,e,n))}),r};function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return(e=oQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oQ(t){var e=sQ(t,"string");return typeof e=="symbol"?e:e+""}function sQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e){var n=aQ({},t),r=e,a=Object.keys(e),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(null,arguments)}function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(n),!0).forEach(function(r){uQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uQ(t,e,n){return(e=cQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cQ(t){var e=fQ(t,"string");return typeof e=="symbol"?e:e+""}function fQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ii=32,dQ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function pQ(t){var{data:e,iconType:n,inactiveColor:r}=t,a=ii/2,i=ii/6,o=ii/3,s=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var u;return Gr.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:ii,y2:a,className:"recharts-legend-icon"})}if(l==="line")return Gr.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(ii,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return Gr.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(ii/8,"h").concat(ii,"v").concat(ii*3/4,"h").concat(-ii,"z"),className:"recharts-legend-icon"});if(Gr.isValidElement(e.legendIcon)){var c=lQ({},e);return delete c.legendIcon,Gr.cloneElement(e.legendIcon,c)}return Gr.createElement(Dm,{fill:s,cx:a,cy:a,size:ii,sizeType:"diameter",type:l})}function hQ(t){var{payload:e,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=t,s={x:0,y:0,width:ii,height:ii},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,f)=>{var d=c.formatter||a,p=Fe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?i:c.color,y=d?d(c.value,c,f):c.value;return Gr.createElement("li",Sb({className:p,style:l,key:"legend-item-".concat(f)},fs(t,c,f)),Gr.createElement(Pm,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},Gr.createElement(pQ,{data:c,iconType:o,inactiveColor:i})),Gr.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},y))})}var dU=t=>{var e=nt(t,dQ),{payload:n,layout:r,align:a}=e;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return Gr.createElement("ul",{className:"recharts-default-legend",style:i},Gr.createElement(hQ,Sb({},e,{payload:n})))};var HT=ae(BU());function Cb(t,e,n){return e===!0?(0,HT.default)(t,n):typeof e=="function"?(0,HT.default)(t,e):t}var XU=ae(WU()),Um=ae(ce());var jU=ae(ce()),Bm=(0,jU.createContext)(null);var hte=t=>t,Je=()=>{var t=(0,Um.useContext)(Bm);return t?t.store.dispatch:hte},Tb=()=>{},mte=()=>Tb,gte=(t,e)=>t===e;function ge(t){var e=(0,Um.useContext)(Bm),n=(0,Um.useMemo)(()=>e?r=>{if(r!=null)return t(r)}:Tb,[e,t]);return(0,XU.useSyncExternalStoreWithSelector)(e?e.subscription.addNestedSub:mte,e?e.store.getState:Tb,e?e.store.getState:Tb,n,gte)}function vte(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yte(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function xte(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){let n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var YU=t=>Array.isArray(t)?t:[t];function bte(t){let e=Array.isArray(t[0])?t[0]:t;return xte(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Ste(t,e){let n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var U_e=Object.getPrototypeOf({});var _te=class{constructor(t){this.value=t}deref(){return this.value}},Mte=typeof WeakRef<"u"?WeakRef:_te,Ate=0,KU=1;function Ib(){return{s:Ate,v:void 0,o:null,p:null}}function ZU(t,e={}){let n=Ib(),{resultEqualityCheck:r}=e,a,i=0;function o(){let s=n,{length:l}=arguments;for(let f=0,d=l;f<d;f++){let p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let m=s.o;m===null&&(s.o=m=new WeakMap);let y=m.get(p);y===void 0?(s=Ib(),m.set(p,s)):s=y}else{let m=s.p;m===null&&(s.p=m=new Map);let y=m.get(p);y===void 0?(s=Ib(),m.set(p,s)):s=y}}let u=s,c;if(s.s===KU)c=s.v;else if(c=t.apply(null,arguments),i++,r){let f=a?.deref?.()??a;f!=null&&r(f,c)&&(c=f,i!==0&&i--),a=typeof c=="object"&&c!==null||typeof c=="function"?new Mte(c):c}return u.s=KU,u.v=c,c}return o.clearCache=()=>{n=Ib(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function wte(t,...e){let n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),vte(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);let c={...n,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:p=ZU,argsMemoizeOptions:m=[],devModeChecks:y={}}=c,v=YU(d),h=YU(m),g=bte(a),x=f(function(){return i++,u.apply(null,arguments)},...v),b=!0,_=p(function(){o++;let A=Ste(g,arguments);return s=x.apply(null,A),s},...h);return Object.assign(_,{resultFunc:u,memoizedResultFunc:x,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var Y=wte(ZU),Cte=Object.assign((t,e=Y)=>{yte(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);let n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>Cte});var iF=ae(Fm()),JT=t=>t.legend.settings,oF=t=>t.legend.size,jte=t=>t.legend.payload,sF=Y([jte,JT],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?(0,iF.default)(r,n):r});function lF(){return ge(sF)}var Pb=ae(ce()),Lb=1;function Rb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=(0,Pb.useState)({height:0,left:0,top:0,width:0}),r=(0,Pb.useCallback)(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-e.height)>Lb||Math.abs(o.left-e.left)>Lb||Math.abs(o.top-e.top)>Lb||Math.abs(o.width-e.width)>Lb)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}var Pz=ae(ce());function _r(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Xte=typeof Symbol=="function"&&Symbol.observable||"@@observable",uF=Xte,QT=()=>Math.random().toString(36).substring(7).split("").join("."),Yte={INIT:`@@redux/INIT${QT()}`,REPLACE:`@@redux/REPLACE${QT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${QT()}`},Ob=Yte;function Db(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function eI(t,e,n){if(typeof t!="function")throw new Error(_r(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_r(1));return n(eI)(t,e)}let r=t,a=e,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((v,h)=>{o.set(h,v)}))}function c(){if(l)throw new Error(_r(3));return a}function f(v){if(typeof v!="function")throw new Error(_r(4));if(l)throw new Error(_r(5));let h=!0;u();let g=s++;return o.set(g,v),function(){if(h){if(l)throw new Error(_r(6));h=!1,u(),o.delete(g),i=null}}}function d(v){if(!Db(v))throw new Error(_r(7));if(typeof v.type>"u")throw new Error(_r(8));if(typeof v.type!="string")throw new Error(_r(17));if(l)throw new Error(_r(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(g=>{g()}),v}function p(v){if(typeof v!="function")throw new Error(_r(10));r=v,d({type:Ob.REPLACE})}function m(){let v=f;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(_r(11));function g(){let b=h;b.next&&b.next(c())}return g(),{unsubscribe:v(g)}},[uF](){return this}}}return d({type:Ob.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:p,[uF]:m}}function Kte(t){Object.keys(t).forEach(e=>{let n=t[e];if(typeof n(void 0,{type:Ob.INIT})>"u")throw new Error(_r(12));if(typeof n(void 0,{type:Ob.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_r(13))})}function Nb(t){let e=Object.keys(t),n={};for(let o=0;o<e.length;o++){let s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}let r=Object.keys(n),a,i;try{Kte(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let u=!1,c={};for(let f=0;f<r.length;f++){let d=r[f],p=n[d],m=s[d],y=p(m,l);if(typeof y>"u"){let v=l&&l.type;throw new Error(_r(14))}c[d]=y,u=u||y!==m}return u=u||r.length!==Object.keys(s).length,u?c:s}}function zm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function cF(...t){return e=>(n,r)=>{let a=e(n,r),i=()=>{throw new Error(_r(15))},o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=t.map(l=>l(o));return i=zm(...s)(a.dispatch),{...a,dispatch:i}}}function tI(t){return Db(t)&&"type"in t&&typeof t.type=="string"}var bF=Symbol.for("immer-nothing"),fF=Symbol.for("immer-draftable"),qr=Symbol.for("immer-state");function zi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Oa=Object,wd=Oa.getPrototypeOf,Fb="constructor",Wb="prototype",aI="configurable",zb="enumerable",Bb="writable",Hm="value",vo=t=>!!t&&!!t[qr];function oi(t){return t?SF(t)||Xb(t)||!!t[fF]||!!t[Fb]?.[fF]||Yb(t)||Kb(t):!1}var Zte=Oa[Wb][Fb].toString(),dF=new WeakMap;function SF(t){if(!t||!dI(t))return!1;let e=wd(t);if(e===null||e===Oa[Wb])return!0;let n=Oa.hasOwnProperty.call(e,Fb)&&e[Fb];if(n===Object)return!0;if(!Ad(n))return!1;let r=dF.get(n);return r===void 0&&(r=Function.toString.call(n),dF.set(n,r)),r===Zte}function jb(t,e,n=!0){qm(t)===0?(n?Reflect.ownKeys(t):Oa.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function qm(t){let e=t[qr];return e?e.type_:Xb(t)?1:Yb(t)?2:Kb(t)?3:0}var pF=(t,e,n=qm(t))=>n===2?t.has(e):Oa[Wb].hasOwnProperty.call(t,e),iI=(t,e,n=qm(t))=>n===2?t.get(e):t[e],Hb=(t,e,n,r=qm(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function $te(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Xb=Array.isArray,Yb=t=>t instanceof Map,Kb=t=>t instanceof Set,dI=t=>typeof t=="object",Ad=t=>typeof t=="function",nI=t=>typeof t=="boolean";function Jte(t){let e=+t;return Number.isInteger(e)&&String(e)===t}var ps=t=>t.copy_||t.base_;var pI=t=>t.modified_?t.copy_:t.base_;function oI(t,e){if(Yb(t))return new Map(t);if(Kb(t))return new Set(t);if(Xb(t))return Array[Wb].slice.call(t);let n=SF(t);if(e===!0||e==="class_only"&&!n){let r=Oa.getOwnPropertyDescriptors(t);delete r[qr];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){let o=a[i],s=r[o];s[Bb]===!1&&(s[Bb]=!0,s[aI]=!0),(s.get||s.set)&&(r[o]={[aI]:!0,[Bb]:!0,[zb]:s[zb],[Hm]:t[o]})}return Oa.create(wd(t),r)}else{let r=wd(t);if(r!==null&&n)return{...t};let a=Oa.create(r);return Oa.assign(a,t)}}function hI(t,e=!1){return Zb(t)||vo(t)||!oi(t)||(qm(t)>1&&Oa.defineProperties(t,{set:kb,add:kb,clear:kb,delete:kb}),Oa.freeze(t),e&&jb(t,(n,r)=>{hI(r,!0)},!1)),t}function Qte(){zi(2)}var kb={[Hm]:Qte};function Zb(t){return t===null||!dI(t)?!0:Oa.isFrozen(t)}var Vb="MapSet",sI="Patches",hF="ArrayMethods",_F={};function Yu(t){let e=_F[t];return e||zi(0,t),e}var mF=t=>!!_F[t];var Vm,MF=()=>Vm,ene=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mF(Vb)?Yu(Vb):void 0,arrayMethodsPlugin_:mF(hF)?Yu(hF):void 0});function gF(t,e){e&&(t.patchPlugin_=Yu(sI),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lI(t){uI(t),t.drafts_.forEach(tne),t.drafts_=null}function uI(t){t===Vm&&(Vm=t.parent_)}var vF=t=>Vm=ene(Vm,t);function tne(t){let e=t[qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yF(t,e){e.unfinalizedDrafts_=e.drafts_.length;let n=e.drafts_[0];if(t!==void 0&&t!==n){n[qr].modified_&&(lI(e),zi(4)),oi(t)&&(t=xF(e,t));let{patchPlugin_:a}=e;a&&a.generateReplacementPatches_(n[qr].base_,t,e)}else t=xF(e,n);return nne(e,t,!0),lI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bF?t:void 0}function xF(t,e){if(Zb(e))return e;let n=e[qr];if(!n)return Gb(e,t.handledSet_,t);if(!$b(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){let{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);CF(n,t)}return n.copy_}function nne(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&hI(e,n)}function AF(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var $b=(t,e)=>t.scope_===e,rne=[];function wF(t,e,n,r){let a=ps(t),i=t.type_;if(r!==void 0&&iI(a,r,i)===e){Hb(a,r,n,i);return}if(!t.draftLocations_){let s=t.draftLocations_=new Map;jb(a,(l,u)=>{if(vo(u)){let c=s.get(u)||[];c.push(l),s.set(u,c)}})}let o=t.draftLocations_.get(e)??rne;for(let s of o)Hb(a,s,n,i)}function ane(t,e,n){t.callbacks_.push(function(a){let i=e;if(!i||!$b(i,a))return;a.mapSetPlugin_?.fixSetContents(i);let o=pI(i);wF(t,i.draft_??i,o,n),CF(i,a)})}function CF(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){let{patchPlugin_:r}=e;if(r){let a=r.getPath(t);a&&r.generatePatches_(t,a,e)}AF(t)}}function ine(t,e,n){let{scope_:r}=t;if(vo(n)){let a=n[qr];$b(a,r)&&a.callbacks_.push(function(){Ub(t);let o=pI(a);wF(t,n,o,e)})}else oi(n)&&t.callbacks_.push(function(){let i=ps(t);t.type_===3?i.has(n)&&Gb(n,r.handledSet_,r):iI(i,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Gb(iI(t.copy_,e,t.type_),r.handledSet_,r)})}function Gb(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vo(t)||e.has(t)||!oi(t)||Zb(t)||(e.add(t),jb(t,(r,a)=>{if(vo(a)){let i=a[qr];if($b(i,n)){let o=pI(i);Hb(t,r,o,t.type_),AF(i)}}else oi(a)&&Gb(a,e,n)})),t}function one(t,e){let n=Xb(t),r={type_:n?1:0,scope_:e?e.scope_:MF(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0},a=r,i=qb;n&&(a=[r],i=Gm);let{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var qb={get(t,e){if(e===qr)return t;let n=t.scope_.arrayMethodsPlugin_,r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);let a=ps(t);if(!pF(a,e,t.type_))return sne(t,a,e);let i=a[e];if(t.finalized_||!oi(i)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Jte(e))return i;if(i===rI(t.base_,e)){Ub(t);let o=t.type_===1?+e:e,s=fI(t.scope_,i,t,o);return t.copy_[o]=s}return i},has(t,e){return e in ps(t)},ownKeys(t){return Reflect.ownKeys(ps(t))},set(t,e,n){let r=EF(ps(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){let a=rI(ps(t),e),i=a?.[qr];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if($te(n,a)&&(n!==void 0||pF(t.base_,e,t.type_)))return!0;Ub(t),cI(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),ine(t,e,n)),!0},deleteProperty(t,e){return Ub(t),rI(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),cI(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){let n=ps(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Bb]:!0,[aI]:t.type_!==1||e!=="length",[zb]:r[zb],[Hm]:n[e]}},defineProperty(){zi(11)},getPrototypeOf(t){return wd(t.base_)},setPrototypeOf(){zi(12)}},Gm={};for(let t in qb){let e=qb[t];Gm[t]=function(){let n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Gm.deleteProperty=function(t,e){return Gm.set.call(this,t,e,void 0)};Gm.set=function(t,e,n){return qb.set.call(this,t[0],e,n,t[0])};function rI(t,e){let n=t[qr];return(n?ps(n):t)[e]}function sne(t,e,n){let r=EF(e,n);return r?Hm in r?r[Hm]:r.get?.call(t.draft_):void 0}function EF(t,e){if(!(e in t))return;let n=wd(t);for(;n;){let r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=wd(n)}}function cI(t){t.modified_||(t.modified_=!0,t.parent_&&cI(t.parent_))}function Ub(t){t.copy_||(t.assigned_=new Map,t.copy_=oI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,n,r)=>{if(Ad(e)&&!Ad(n)){let i=n;n=e;let o=this;return function(l=i,...u){return o.produce(l,c=>n.call(this,c,...u))}}Ad(n)||zi(6),r!==void 0&&!Ad(r)&&zi(7);let a;if(oi(e)){let i=vF(this),o=fI(i,e,void 0),s=!0;try{a=n(o),s=!1}finally{s?lI(i):uI(i)}return gF(i,r),yF(a,i)}else if(!e||!dI(e)){if(a=n(e),a===void 0&&(a=e),a===bF&&(a=void 0),this.autoFreeze_&&hI(a,!0),r){let i=[],o=[];Yu(sI).generateReplacementPatches_(e,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else zi(1,e)},this.produceWithPatches=(e,n)=>{if(Ad(e))return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let r,a;return[this.produce(e,n,(o,s)=>{r=o,a=s}),r,a]},nI(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),nI(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),nI(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){oi(t)||zi(8),vo(t)&&(t=Lr(t));let e=vF(this),n=fI(e,t,void 0);return n[qr].isManual_=!0,uI(e),n}finishDraft(t,e){let n=t&&t[qr];(!n||!n.isManual_)&&zi(9);let{scope_:r}=n;return gF(r,e),yF(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){let a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));let r=Yu(sI).applyPatches_;return vo(t)?r(t,e):this.produce(t,a=>r(a,e))}};function fI(t,e,n,r){let[a,i]=Yb(e)?Yu(Vb).proxyMap_(e,n):Kb(e)?Yu(Vb).proxySet_(e,n):one(e,n);return(n?.scope_??MF()).drafts_.push(a),i.callbacks_=n?.callbacks_??[],i.key_=r,n&&r!==void 0?ane(n,i,r):i.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(i);let{patchPlugin_:u}=l;i.modified_&&u&&u.generatePatches_(i,[],l)}),a}function Lr(t){return vo(t)||zi(10,t),TF(t)}function TF(t){if(!oi(t)||Zb(t))return t;let e=t[qr],n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=oI(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=oI(t,!0);return jb(n,(a,i)=>{Hb(n,a,TF(i))},r),e&&(e.finalized_=!1),n}var une=new lne,mI=une.produce;function IF(t){return({dispatch:n,getState:r})=>a=>i=>typeof i=="function"?i(n,r,t):a(i)}var LF=IF(),PF=IF;var cne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zm:zm.apply(null,arguments)},uMe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(t){return t}},fne=t=>t&&typeof t.match=="function";function Qn(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(Da(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>tI(r)&&r.type===t,n}var FF=class Wm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wm.prototype)}static get[Symbol.species](){return Wm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wm(...e[0].concat(this)):new Wm(...e.concat(this))}};function RF(t){return oi(t)?mI(t,()=>{}):t}function Jb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function dne(t){return typeof t=="boolean"}var pne=()=>function(e){let{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=e??{},o=new FF;return n&&(dne(n)?o.push(LF):o.push(PF(n.extraArgument))),o},zF="RTK_autoBatch",Gt=()=>t=>({payload:t,meta:{[zF]:!0}}),OF=t=>e=>{setTimeout(e,t)},xI=(t={type:"raf"})=>e=>(...n)=>{let r=e(...n),a=!0,i=!1,o=!1,s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OF(10):t.type==="callback"?t.queueNotification:OF(t.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){let f=()=>a&&c(),d=r.subscribe(f);return s.add(c),()=>{d(),s.delete(c)}},dispatch(c){try{return a=!c?.meta?.[zF],i=!a,i&&(o||(o=!0,l(u))),r.dispatch(c)}finally{a=!0}}})},hne=t=>function(n){let{autoBatch:r=!0}=n??{},a=new FF(t);return r&&a.push(xI(typeof r=="object"?r:void 0)),a};function HF(t){let e=pne(),{reducer:n=void 0,middleware:r,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{},l;if(typeof n=="function")l=n;else if(Db(n))l=Nb(n);else throw new Error(Da(1));let u;typeof r=="function"?u=r(e):u=e();let c=zm;a&&(c=cne({trace:!1,...typeof a=="object"&&a}));let f=cF(...u),d=hne(f),p=typeof s=="function"?s(d):d(),m=c(...p);return eI(l,o,m)}function VF(t){let e={},n=[],r,a={addCase(i,o){let s=typeof i=="string"?i:i.type;if(!s)throw new Error(Da(28));if(s in e)throw new Error(Da(29));return e[s]=o,a},addAsyncThunk(i,o){return o.pending&&(e[i.pending.type]=o.pending),o.rejected&&(e[i.rejected.type]=o.rejected),o.fulfilled&&(e[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return t(a),[e,n,r]}function mne(t){return typeof t=="function"}function gne(t,e){let[n,r,a]=VF(e),i;if(mne(t))i=()=>RF(t());else{let s=RF(t);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[a]),u.reduce((c,f)=>{if(f)if(vo(c)){let p=f(c,l);return p===void 0?c:p}else{if(oi(c))return mI(c,d=>f(d,l));{let d=f(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},s)}return o.getInitialState=i,o}var vne=(t,e)=>fne(t)?t.match(e):t(e);function yne(...t){return e=>t.some(n=>vne(n,e))}var xne="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GF=(t=21)=>{let e="",n=t;for(;n--;)e+=xne[Math.random()*64|0];return e},bne=["name","message","stack","code"],gI=class{constructor(t,e){zc(this,"_type");this.payload=t,this.meta=e}},DF=class{constructor(t,e){zc(this,"_type");this.payload=t,this.meta=e}},Sne=t=>{if(typeof t=="object"&&t!==null){let e={};for(let n of bne)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},NF="External signal was aborted",_ne=(()=>{function t(e,n,r){let a=Qn(e+"/fulfilled",(l,u,c,f)=>({payload:l,meta:{...f||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),i=Qn(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),o=Qn(e+"/rejected",(l,u,c,f,d)=>({payload:f,error:(r&&r.serializeError||Sne)(l||"Rejected"),meta:{...d||{},arg:c,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:l?.name==="AbortError",condition:l?.name==="ConditionError"}}));function s(l,{signal:u}={}){return(c,f,d)=>{let p=r?.idGenerator?r.idGenerator(l):GF(),m=new AbortController,y,v;function h(x){v=x,m.abort()}u&&(u.aborted?h(NF):u.addEventListener("abort",()=>h(NF),{once:!0}));let g=(async function(){let x;try{let _=r?.condition?.(l,{getState:f,extra:d});if(Ane(_)&&(_=await _),_===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let M=new Promise((A,S)=>{y=()=>{S({name:"AbortError",message:v||"Aborted"})},m.signal.addEventListener("abort",y,{once:!0})});c(i(p,l,r?.getPendingMeta?.({requestId:p,arg:l},{getState:f,extra:d}))),x=await Promise.race([M,Promise.resolve(n(l,{dispatch:c,getState:f,extra:d,requestId:p,signal:m.signal,abort:h,rejectWithValue:(A,S)=>new gI(A,S),fulfillWithValue:(A,S)=>new DF(A,S)})).then(A=>{if(A instanceof gI)throw A;return A instanceof DF?a(A.payload,p,l,A.meta):a(A,p,l)})])}catch(_){x=_ instanceof gI?o(null,p,l,_.payload,_.meta):o(_,p,l)}finally{y&&m.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&o.match(x)&&x.meta.condition||c(x),x})();return Object.assign(g,{abort:h,requestId:p,arg:l,unwrap(){return g.then(Mne)}})}}return Object.assign(s,{pending:i,rejected:o,fulfilled:a,settled:yne(o,a),typePrefix:e})}return t.withTypes=()=>t,t})();function Mne(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Ane(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var qF=Symbol.for("rtk-slice-createasyncthunk"),fMe={[qF]:_ne};function wne(t,e){return`${t}/${e}`}function Cne({creators:t}={}){let e=t?.asyncThunk?.[qF];return function(r){let{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Da(11));typeof process<"u";let o=(typeof r.reducers=="function"?r.reducers(Tne()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,b){let _=typeof x=="string"?x:x.type;if(!_)throw new Error(Da(12));if(_ in l.sliceCaseReducersByType)throw new Error(Da(13));return l.sliceCaseReducersByType[_]=b,u},addMatcher(x,b){return l.sliceMatchers.push({matcher:x,reducer:b}),u},exposeAction(x,b){return l.actionCreators[x]=b,u},exposeCaseReducer(x,b){return l.sliceCaseReducersByName[x]=b,u}};s.forEach(x=>{let b=o[x],_={reducerName:x,type:wne(a,x),createNotation:typeof r.reducers=="function"};Lne(b)?Rne(_,b,u,e):Ine(_,b,u)});function c(){let[x={},b=[],_=void 0]=typeof r.extraReducers=="function"?VF(r.extraReducers):[r.extraReducers],M={...x,...l.sliceCaseReducersByType};return gne(r.initialState,A=>{for(let S in M)A.addCase(S,M[S]);for(let S of l.sliceMatchers)A.addMatcher(S.matcher,S.reducer);for(let S of b)A.addMatcher(S.matcher,S.reducer);_&&A.addDefaultCase(_)})}let f=x=>x,d=new Map,p=new WeakMap,m;function y(x,b){return m||(m=c()),m(x,b)}function v(){return m||(m=c()),m.getInitialState()}function h(x,b=!1){function _(A){let S=A[x];return typeof S>"u"&&b&&(S=Jb(p,_,v)),S}function M(A=f){let S=Jb(d,b,()=>new WeakMap);return Jb(S,A,()=>{let w={};for(let[U,D]of Object.entries(r.selectors??{}))w[U]=Ene(D,A,()=>Jb(p,A,v),b);return w})}return{reducerPath:x,getSelectors:M,get selectors(){return M(_)},selectSlice:_}}let g={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:v,...h(i),injectInto(x,{reducerPath:b,..._}={}){let M=b??i;return x.inject({reducerPath:M,reducer:y},_),{...g,...h(M,!0)}}};return g}}function Ene(t,e,n,r){function a(i,...o){let s=e(i);return typeof s>"u"&&r&&(s=n()),t(s,...o)}return a.unwrapped=t,a}var $t=Cne();function Tne(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Ine({type:t,reducerName:e,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!Pne(r))throw new Error(Da(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,o?Qn(t,o):Qn(t))}function Lne(t){return t._reducerDefinitionType==="asyncThunk"}function Pne(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Rne({type:t,reducerName:e},n,r,a){if(!a)throw new Error(Da(18));let{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=n,f=a(t,i,c);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:o||Qb,pending:s||Qb,rejected:l||Qb,settled:u||Qb})}function Qb(){}var One="task",WF="listener",jF="completed",bI="cancelled",Dne=`task-${bI}`,Nne=`task-${jF}`,vI=`${WF}-${bI}`,kne=`${WF}-${jF}`,nS=class{constructor(t){zc(this,"name","TaskAbortError");zc(this,"message");this.code=t,this.message=`${One} ${bI} (reason: ${t})`}},SI=(t,e)=>{if(typeof t!="function")throw new TypeError(Da(32))},eS=()=>{},XF=(t,e=eS)=>(t.catch(e),t),YF=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ku=t=>{if(t.aborted)throw new nS(t.reason)};function KF(t,e){let n=eS;return new Promise((r,a)=>{let i=()=>a(new nS(t.reason));if(t.aborted){i();return}n=YF(t,i),e.finally(()=>n()).then(r,a)}).finally(()=>{n=eS})}var Bne=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof nS?"cancelled":"rejected",error:n}}finally{e?.()}},tS=t=>e=>XF(KF(t,e).then(n=>(Ku(t),n))),ZF=t=>{let e=tS(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cd}=Object,kF={},rS="listenerMiddleware",Une=(t,e)=>{let n=r=>YF(t,()=>r.abort(t.reason));return(r,a)=>{SI(r,"taskExecutor");let i=new AbortController;n(i);let o=Bne(async()=>{Ku(t),Ku(i.signal);let s=await r({pause:tS(i.signal),delay:ZF(i.signal),signal:i.signal});return Ku(i.signal),s},()=>i.abort(Nne));return a?.autoJoin&&e.push(o.catch(eS)),{result:tS(t)(o),cancel(){i.abort(Dne)}}}},Fne=(t,e)=>{let n=async(r,a)=>{Ku(e);let i=()=>{},s=[new Promise((l,u)=>{let c=t({predicate:r,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});i=()=>{c(),u()}})];a!=null&&s.push(new Promise(l=>setTimeout(l,a,null)));try{let l=await KF(e,Promise.race(s));return Ku(e),l}finally{i()}};return(r,a)=>XF(n(r,a))},$F=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:i}=t;if(e)a=Qn(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Da(21));return SI(i,"options.listener"),{predicate:a,type:e,effect:i}},JF=Cd(t=>{let{type:e,predicate:n,effect:r}=$F(t);return{id:GF(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Da(22))}}},{withTypes:()=>JF}),BF=(t,e)=>{let{type:n,effect:r,predicate:a}=$F(e);return Array.from(t.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},yI=t=>{t.pending.forEach(e=>{e.abort(vI)})},zne=(t,e)=>()=>{for(let n of e.keys())yI(n);t.clear()},UF=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},QF=Cd(Qn(`${rS}/add`),{withTypes:()=>QF}),Hne=Qn(`${rS}/removeAll`),ez=Cd(Qn(`${rS}/remove`),{withTypes:()=>ez}),Vne=(...t)=>{console.error(`${rS}/error`,...t)},hs=(t={})=>{let e=new Map,n=new Map,r=p=>{let m=n.get(p)??0;n.set(p,m+1)},a=p=>{let m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=Vne}=t;SI(o,"onError");let s=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&yI(p)}),l=p=>{let m=BF(e,p)??JF(p);return s(m)};Cd(l,{withTypes:()=>l});let u=p=>{let m=BF(e,p);return m&&(m.unsubscribe(),p.cancelActive&&yI(m)),!!m};Cd(u,{withTypes:()=>u});let c=async(p,m,y,v)=>{let h=new AbortController,g=Fne(l,h.signal),x=[];try{p.pending.add(h),r(p),await Promise.resolve(p.effect(m,Cd({},y,{getOriginalState:v,condition:(b,_)=>g(b,_).then(Boolean),take:g,delay:ZF(h.signal),pause:tS(h.signal),extra:i,signal:h.signal,fork:Une(h.signal,x),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((b,_,M)=>{b!==h&&(b.abort(vI),M.delete(b))})},cancel:()=>{h.abort(vI),p.pending.delete(h)},throwIfCancelled:()=>{Ku(h.signal)}})))}catch(b){b instanceof nS||UF(o,b,{raisedBy:"effect"})}finally{await Promise.all(x),h.abort(kne),a(p),p.pending.delete(h)}},f=zne(e,n);return{middleware:p=>m=>y=>{if(!tI(y))return m(y);if(QF.match(y))return l(y.payload);if(Hne.match(y)){f();return}if(ez.match(y))return u(y.payload);let v=p.getState(),h=()=>{if(v===kF)throw new Error(Da(23));return v},g;try{if(g=m(y),e.size>0){let x=p.getState(),b=Array.from(e.values());for(let _ of b){let M=!1;try{M=_.predicate(y,x,v)}catch(A){M=!1,UF(o,A,{raisedBy:"predicate"})}M&&c(_,y,p,h)}}}finally{v=kF}return g},startListening:l,stopListening:u,clearListeners:f}};function Da(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gne={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tz=$t({name:"chartLayout",initialState:Gne,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,i;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(i=e.payload.left)!==null&&i!==void 0?i:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:_I,setLayout:nz,setChartSize:rz,setScale:az}=tz.actions,iz=tz.reducer;var sz=ae(Fm()),lz=ae(Sd());function aS(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ve(t){return Number.isFinite(t)}function la(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){qne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qne(t,e,n){return(e=Wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ut(t,e,n){return xt(t)||xt(e)?n:fr(e)?(0,lz.default)(t,e,n):typeof e=="function"?e(t):n}var uz=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=e;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&xe(t[i]))return Ed(Ed({},t),{},{[i]:t[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&xe(t[o]))return Ed(Ed({},t),{},{[o]:t[o]+(a||0)})}return t},Pr=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",MI=(t,e,n,r)=>{if(r)return t.map(s=>s.coordinate);var a,i,o=t.map(s=>(s.coordinate===e&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(e),i||o.push(n),o},AI=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:f,niceTicks:d,axisType:p}=t;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=(e||n)&&a==="category"&&o.bandwidth?o.bandwidth()/m:0;if(y=p==="angleAxis"&&i&&i.length>=2?nn(i[0]-i[1])*2*y:y,e&&(f||d)){var v=(f||d||[]).map((h,g)=>{var x=r?r.indexOf(h):h,b=o.map(x);return Ve(b)?{coordinate:b+y,value:h,offset:y,index:g}:null}).filter(Sr);return v}return l&&u?u.map((h,g)=>{var x=o.map(h);return Ve(x)?{coordinate:x+y,value:h,index:g,offset:y}:null}).filter(Sr):o.ticks&&!n&&c!=null?o.ticks(c).map((h,g)=>{var x=o.map(h);return Ve(x)?{coordinate:x+y,value:h,index:g,offset:y}:null}).filter(Sr):o.domain().map((h,g)=>{var x=o.map(h);return Ve(x)?{coordinate:x+y,value:r?r[h]:h,index:g,offset:y}:null}).filter(Sr)},cz=(t,e)=>{if(!e||e.length!==2||!xe(e[0])||!xe(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),a=[t[0],t[1]];return(!xe(t[0])||t[0]<n)&&(a[0]=n),(!xe(t[1])||t[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},Xne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=t[s],u=l?.[a];if(u!=null){var c=u[1],f=u[0],d=cr(c)?f:c;d>=0?(u[0]=i,i+=d,u[1]=i):(u[0]=o,o+=d,u[1]=o)}}}},Yne=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=t[o],l=s?.[a];if(l!=null){var u=cr(l[1])?l[0]:l[1];u>=0?(l[0]=i,i+=u,l[1]=i):(l[0]=0,l[1]=0)}}}},Kne={sign:Xne,expand:YE,none:Ra,silhouette:KE,wiggle:ZE,positive:Yne},fz=(t,e,n)=>{var r,a=(r=Kne[n])!==null&&r!==void 0?r:Ra,i=XE().keys(e).value((s,l)=>Number(ut(s,l,0))).order(bd).offset(a),o=i(t);return o.forEach((s,l)=>{s.forEach((u,c)=>{var f=ut(t[c],e[l],0);Array.isArray(f)&&f.length===2&&xe(f[0])&&xe(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function iS(t){return t==null?void 0:String(t)}function Td(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xt(a[e.dataKey])){var s=xb(n,"value",a[e.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[i]?n[i].coordinate+r/2:null}var l=ut(a,xt(o)?e.dataKey:o),u=e.scale.map(l);return xe(u)?u:null}var wI=t=>{var{axis:e,ticks:n,offset:r,bandSize:a,entry:i,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var s=ut(i,e.dataKey,e.scale.domain()[o]);if(xt(s))return null;var l=e.scale.map(s);return xe(l)?l-a/2+r:null},dz=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},Zne=t=>{var e=t.flat(2).filter(xe);return[Math.min(...e),Math.max(...e)]},$ne=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],pz=(t,e,n)=>{if(t!=null)return $ne(Object.keys(t).reduce((r,a)=>{var i=t[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var c=aS(u,e,n),f=Zne(c);return!Ve(f[0])||!Ve(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},CI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,si=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=(0,sz.default)(e,c=>c.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min((l?.coordinate||0)-(u?.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0};function TI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:i}=t;return Ed(Ed({},e),{},{dataKey:n,payload:r,value:a,name:i})}function Na(t,e){if(t)return String(t);if(typeof e=="string")return e}var hz=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},mz=(t,e)=>e==="centric"?t.angle:t.radius;var Rr=t=>t.layout.width,Or=t=>t.layout.height,gz=t=>t.layout.scale,oS=t=>t.layout.margin;var Id=Y(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Ld=Y(t=>t.cartesianAxis.yAxis,t=>Object.values(t));var sS="data-recharts-item-index",lS="data-recharts-item-id",Zu=60;function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){Jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=ere(t,"string");return typeof e=="symbol"?e:e+""}function ere(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tre=t=>t.brush.height;function nre(t){var e=Ld(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Zu;return n+a}return n},0)}function rre(t){var e=Ld(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Zu;return n+a}return n},0)}function are(t){var e=Id(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function ire(t){var e=Id(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var qt=Y([Rr,Or,oS,tre,nre,rre,are,ire,JT,oF],(t,e,n,r,a,i,o,s,l,u)=>{var c={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},d=uS(uS({},f),c),p=d.bottom;d.bottom+=r,d=uz(d,l,u);var m=t-d.left-d.right,y=e-d.top-d.bottom;return uS(uS({brushBottom:p},d),{},{width:Math.max(m,0),height:Math.max(y,0)})}),yz=Y(qt,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Pd=Y(Rr,Or,(t,e)=>({x:0,y:0,width:t,height:e}));var ore=ae(ce()),cS=ae(ce()),sre=(0,cS.createContext)(null),It=()=>(0,cS.useContext)(sre)!=null;var Rd=t=>t.brush,$u=Y([Rd,qt,oS],(t,e,n)=>({height:t.height,x:xe(t.x)?t.x:e.left,y:xe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:xe(t.width)?t.width:e.width}));var Ju=ae(ce()),jn=ae(ce()),Tz=ae(Mz());var pre=!0,Od=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(pre&&typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>a[o++]))}};var Hi={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},RI=(t,e,n)=>{var{width:r=Hi.width,height:a=Hi.height,aspect:i,maxHeight:o}=n,s=ls(r)?t:Number(r),l=ls(a)?e:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},hre={width:0,height:0,overflow:"visible"},mre={width:0,overflowX:"visible"},gre={height:0,overflowY:"visible"},vre={},Az=t=>{var{width:e,height:n}=t,r=ls(e),a=ls(n);return r&&a?hre:r?mre:a?gre:vre};function wz(t){var{width:e,height:n,aspect:r}=t,a=e,i=n;return a===void 0&&i===void 0?(a=Hi.width,i=Hi.height):a===void 0?a=r&&r>0?void 0:Hi.width:i===void 0&&(i=r&&r>0?void 0:Hi.height),{width:a,height:i}}function OI(){return OI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OI.apply(null,arguments)}function Cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(n),!0).forEach(function(r){yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yre(t,e,n){return(e=xre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=bre(t,"string");return typeof e=="symbol"?e:e+""}function bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iz=(0,jn.createContext)(Hi.initialDimension);function Sre(t){return la(t.width)&&la(t.height)}function Lz(t){var{children:e,width:n,height:r}=t,a=(0,jn.useMemo)(()=>({width:n,height:r}),[n,r]);return Sre(a)?Ju.createElement(Iz.Provider,{value:a},e):null}var jm=()=>(0,jn.useContext)(Iz),_re=(0,jn.forwardRef)((t,e)=>{var{aspect:n,initialDimension:r=Hi.initialDimension,width:a,height:i,minWidth:o=Hi.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=Hi.debounce,id:f,className:d,onResize:p,style:m={}}=t,y=(0,jn.useRef)(null),v=(0,jn.useRef)();v.current=p,(0,jn.useImperativeHandle)(e,()=>y.current);var[h,g]=(0,jn.useState)({containerWidth:r.width,containerHeight:r.height}),x=(0,jn.useCallback)((S,w)=>{g(U=>{var D=Math.round(S),k=Math.round(w);return U.containerWidth===D&&U.containerHeight===k?U:{containerWidth:D,containerHeight:k}})},[]);(0,jn.useEffect)(()=>{if(y.current==null||typeof ResizeObserver>"u")return Vr;var S=k=>{var z,V=k[0];if(V!=null){var{width:W,height:C}=V.contentRect;x(W,C),(z=v.current)===null||z===void 0||z.call(v,W,C)}};c>0&&(S=(0,Tz.default)(S,c,{trailing:!0,leading:!1}));var w=new ResizeObserver(S),{width:U,height:D}=y.current.getBoundingClientRect();return x(U,D),w.observe(y.current),()=>{w.disconnect()}},[x,c]);var{containerWidth:b,containerHeight:_}=h;Od(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:A}=RI(b,_,{width:a,height:i,aspect:n,maxHeight:l});return Od(M!=null&&M>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,A,a,i,o,s,n),Ju.createElement("div",{id:f?"".concat(f):void 0,className:Fe("recharts-responsive-container",d),style:Ez(Ez({},m),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},Ju.createElement("div",{style:Az({width:a,height:i})},Ju.createElement(Lz,{width:M,height:A},u)))}),ms=(0,jn.forwardRef)((t,e)=>{var n=jm();if(la(n.width)&&la(n.height))return t.children;var{width:r,height:a}=wz({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:i,calculatedHeight:o}=RI(void 0,void 0,{width:r,height:a,aspect:t.aspect,maxHeight:t.maxHeight});return xe(i)&&xe(o)?Ju.createElement(Lz,{width:i,height:o},t.children):Ju.createElement(_re,OI({},t,{width:r,height:a,ref:e}))});function Xm(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var gs=()=>{var t,e=It(),n=ge(yz),r=ge($u),a=(t=ge(Rd))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Mre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},fS=()=>{var t;return(t=ge(qt))!==null&&t!==void 0?t:Mre},Dd=()=>ge(Rr),Nd=()=>ge(Or),Rz=()=>ge(t=>t.layout.margin),Qe=t=>t.layout.layoutType,ua=()=>ge(Qe),kd=()=>{var t=ua();if(t==="horizontal"||t==="vertical")return t},DI=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e};var Oz=()=>{var t=ua();return t!==void 0},Qu=t=>{var e=Je(),n=It(),{width:r,height:a}=t,i=jm(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),(0,Pz.useEffect)(()=>{!n&&la(o)&&la(s)&&e(rz({width:o,height:s}))},[e,n,o,s]),null};var Are={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Dz=$t({name:"legend",initialState:Are,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Gt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Lr(t).payload.indexOf(n);a>-1&&(t.payload[a]=r)},prepare:Gt()},removeLegendPayload:{reducer(t,e){var n=Lr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Gt()}}}),{setLegendSize:NI,setLegendSettings:Nz,addLegendPayload:kI,replaceLegendPayload:BI,removeLegendPayload:UI}=Dz.actions,kz=Dz.reducer;var wre=["contextPayload"];function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FI.apply(null,arguments)}function Bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bz(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ere(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ere(t){var e=Tre(t,"string");return typeof e=="symbol"?e:e+""}function Tre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ire(t,e){if(t==null)return{};var n,r,a=Lre(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Lre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pre(t){return t.value}function Rre(t){var{contextPayload:e}=t,n=Ire(t,wre),r=Cb(e,t.payloadUniqBy,Pre),a=Bd(Bd({},n),{},{payload:r});return Vi.isValidElement(t.content)?Vi.cloneElement(t.content,a):typeof t.content=="function"?Vi.createElement(t.content,a):Vi.createElement(dU,a)}function Ore(t,e,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=e,u,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?c={top:((a||0)-i.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bd(Bd({},u),c)}function Dre(t){var e=Je();return(0,zI.useEffect)(()=>{e(Nz(t))},[e,t]),null}function Nre(t){var e=Je();return(0,zI.useEffect)(()=>(e(NI(t)),()=>{e(NI({width:0,height:0}))}),[e,t]),null}function kre(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var Bre={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function dS(t){var e=nt(t,Bre),n=lF(),r=kB(),a=Rz(),{width:i,height:o,wrapperStyle:s,portal:l}=e,[u,c]=Rb([n]),f=Dd(),d=Nd();if(f==null||d==null)return null;var p=f-(a?.left||0)-(a?.right||0),m=kre(e.layout,o,i,p),y=l?s:Bd(Bd({position:"absolute",width:m?.width||i||"auto",height:m?.height||o||"auto"},Ore(s,e,a,f,d,u)),s),v=l??r;if(v==null||n==null)return null;var h=Vi.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},Vi.createElement(Dre,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&Vi.createElement(Nre,{width:u.width,height:u.height}),Vi.createElement(Rre,FI({},e,m,{margin:a,chartWidth:f,chartHeight:d,contextPayload:n})));return(0,Uz.createPortal)(h,v)}dS.displayName="Legend";var xi=ae(ce()),sG=ae(ce()),lG=ae(zp());var Gi=ae(ce()),zz=ae(Fm());function HI(){return HI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HI.apply(null,arguments)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){Ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=zre(t,"string");return typeof e=="symbol"?e:e+""}function zre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hre(t){return Array.isArray(t)&&fr(t[0])&&fr(t[1])?t.join(" ~ "):t}var Ud={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Hz=t=>{var{separator:e=Ud.separator,contentStyle:n,itemStyle:r,labelStyle:a=Ud.labelStyle,payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:f,accessibilityLayer:d=Ud.accessibilityLayer}=t,p=()=>{if(i&&i.length){var _={padding:0,margin:0},M=(s?(0,zz.default)(i,s):i).map((A,S)=>{if(A.type==="none")return null;var w=A.formatter||o||Hre,{value:U,name:D}=A,k=U,z=D;if(w){var V=w(U,D,A,S,i);if(Array.isArray(V))[k,z]=V;else if(V!=null)k=V;else return null}var W=Ym(Ym({},Ud.itemStyle),{},{color:A.color||Ud.itemStyle.color},r);return Gi.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:W},fr(z)?Gi.createElement("span",{className:"recharts-tooltip-item-name"},z):null,fr(z)?Gi.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,Gi.createElement("span",{className:"recharts-tooltip-item-value"},k),Gi.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return Gi.createElement("ul",{className:"recharts-tooltip-item-list",style:_},M)}return null},m=Ym(Ym({},Ud.contentStyle),n),y=Ym({margin:0},a),v=!xt(c),h=v?c:"",g=Fe("recharts-default-tooltip",l),x=Fe("recharts-tooltip-label",u);v&&f&&i!==void 0&&i!==null&&(h=f(c,i));var b=d?{role:"status","aria-live":"assertive"}:{};return Gi.createElement("div",HI({className:g,style:m},b),Gi.createElement("p",{className:x,style:y},Gi.isValidElement(h)?h:"".concat(h)),p())};var Wz=ae(ce()),jz=ae(ce());var Km="recharts-tooltip-wrapper",Vre={visibility:"hidden"};function Gre(t){var{coordinate:e,translateX:n,translateY:r}=t;return Fe(Km,{["".concat(Km,"-right")]:xe(n)&&e&&xe(e.x)&&n>=e.x,["".concat(Km,"-left")]:xe(n)&&e&&xe(e.x)&&n<e.x,["".concat(Km,"-bottom")]:xe(r)&&e&&xe(e.y)&&r>=e.y,["".concat(Km,"-top")]:xe(r)&&e&&xe(e.y)&&r<e.y})}function Vz(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=t;if(i&&xe(i[r]))return i[r];var c=n[r]-s-(a>0?a:0),f=n[r]+a;if(e[r])return o[r]?c:f;var d=l[r];if(d==null)return 0;if(o[r]){var p=c,m=d;return p<m?Math.max(f,d):Math.max(c,d)}if(u==null)return 0;var y=f+s,v=d+u;return y>v?Math.max(c,d):Math.max(f,d)}function qre(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Gz(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:a,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:l,viewBox:u}=t,c,f,d;return s.height>0&&s.width>0&&n?(f=Vz({allowEscapeViewBox:e,coordinate:n,key:"x",offset:a,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),d=Vz({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=qre({translateX:f,translateY:d,useTranslate3d:l})):c=Vre,{cssProperties:c,cssClasses:Gre({translateX:f,translateY:d,coordinate:n})}}function qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(n),!0).forEach(function(r){VI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VI(t,e,n){return(e=Wre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=jre(t,"string");return typeof e=="symbol"?e:e+""}function jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hS=class extends jz.PureComponent{constructor(){super(...arguments),VI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),VI(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:f,useTranslate3d:d,viewBox:p,wrapperStyle:m,lastBoundingBox:y,innerRef:v,hasPortalFromProps:h}=this.props,g=typeof u=="number"?u:u.x,x=typeof u=="number"?u:u.y,{cssClasses:b,cssProperties:_}=Gz({allowEscapeViewBox:n,coordinate:o,offsetLeft:g,offsetTop:x,position:c,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:d,viewBox:p}),M=h?{}:pS(pS({transition:l&&e?"transform ".concat(r,"ms ").concat(a):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&s?"visible":"hidden",position:"absolute",top:0,left:0}),A=pS(pS({},M),{},{visibility:!this.state.dismissed&&e&&s?"visible":"hidden"},m);return Wz.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:A,ref:v},i)}};var mS=()=>{var t;return(t=ge(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};var K_=ae(ce()),dp=ae(ce());var Jz=ae(ce());function GI(){return GI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GI.apply(null,arguments)}function Xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(n),!0).forEach(function(r){Xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Kre(t,"string");return typeof e=="symbol"?e:e+""}function Kre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kz={curveBasisClosed:BE,curveBasisOpen:UE,curveBasis:kE,curveBumpX:CE,curveBumpY:EE,curveLinearClosed:FE,curveLinear:Ll,curveMonotoneX:HE,curveMonotoneY:VE,curveNatural:GE,curveStep:qE,curveStepAfter:jE,curveStepBefore:WE},gS=t=>Ve(t.x)&&Ve(t.y),Zz=t=>t.base!=null&&gS(t.base)&&gS(t),Zm=t=>t.x,$m=t=>t.y,Zre=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(cs(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=Kz["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return Kz[n]||Ll},$z={connectNulls:!1,type:"linear"},$re=t=>{var{type:e=$z.type,points:n=[],baseLine:r,layout:a,connectNulls:i=$z.connectNulls}=t,o=Zre(e,a),s=i?n.filter(gS):n;if(Array.isArray(r)){var l,u=n.map((m,y)=>Yz(Yz({},m),{},{base:r[y]}));a==="vertical"?l=gd().y($m).x1(Zm).x0(m=>m.base.x):l=gd().x(Zm).y1($m).y0(m=>m.base.y);var c=l.defined(Zz).curve(o),f=i?u.filter(Zz):u;return c(f)}var d;a==="vertical"&&xe(r)?d=gd().y($m).x1(Zm).x0(r):xe(r)?d=gd().x(Zm).y1($m).y0(r):d=Om().x(Zm).y($m);var p=d.defined(gS).curve(o);return p(s)},yo=t=>{var{className:e,points:n,path:r,pathRef:a}=t,i=ua();if((!n||!n.length)&&!r)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||i,connectNulls:t.connectNulls},s=n&&n.length?$re(o):r;return Jz.createElement("path",GI({},bn(t),_d(t),{className:Fe("recharts-curve",e),d:s===null?void 0:s,ref:a}))};var e4=ae(ce());var Jre=["x","y","top","left","width","height","className"];function qI(){return qI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qI.apply(null,arguments)}function Qz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qz(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rae(t,e){if(t==null)return{};var n,r,a=aae(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function aae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iae=(t,e,n,r,a,i)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(i,",").concat(e,"h").concat(n),t4=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=t,l=rae(t,Jre),u=Qre({x:e,y:n,top:r,left:a,width:i,height:o},l);return!xe(e)||!xe(n)||!xe(i)||!xe(o)||!xe(r)||!xe(a)?null:e4.createElement("path",qI({},Ut(u),{className:Fe("recharts-cross",s),d:iae(e,n,i,o,r,a)}))};function n4(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}var SS=ae(ce()),fi=ae(ce());var ec=ae(ce());function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function a4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=lae(t,"string");return typeof e=="symbol"?e:e+""}function lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vS=(t,e,n)=>t.map(r=>"".concat(uae(r)," ").concat(e,"ms ").concat(n)).join(","),i4=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),Fd=(t,e)=>Object.keys(e).reduce((n,r)=>a4(a4({},n),{},{[r]:t(r,e[r])}),{});function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yS=(t,e,n)=>t+(e-t)*n,WI=t=>{var{from:e,to:n}=t;return e!==n},s4=(t,e,n)=>{var r=Fd((a,i)=>{if(WI(i)){var[o,s]=t(i.from,i.to,i.velocity);return er(er({},i),{},{from:o,velocity:s})}return i},e);return n<1?Fd((a,i)=>WI(i)&&r[a]!=null?er(er({},i),{},{velocity:yS(i.velocity,r[a].velocity,n),from:yS(i.from,r[a].from,n)}):i,e):s4(t,r,n-1)};function pae(t,e,n,r,a,i){var o,s=r.reduce((d,p)=>er(er({},d),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Fd((d,p)=>p.from,s),u=()=>!Object.values(s).filter(WI).length,c=null,f=d=>{o||(o=d);var p=d-o,m=p/n.dt;s=s4(n,s,m),a(er(er(er({},t),e),l())),o=d,u()||(c=i.setTimeout(f))};return()=>(c=i.setTimeout(f),()=>{var d;(d=c)===null||d===void 0||d()})}function hae(t,e,n,r,a,i,o){var s=null,l=a.reduce((f,d)=>{var p=t[d],m=e[d];return p==null||m==null?f:er(er({},f),{},{[d]:[p,m]})},{}),u,c=f=>{u||(u=f);var d=(f-u)/r,p=Fd((y,v)=>yS(...v,n(d)),l);if(i(er(er(er({},t),e),p)),d<1)s=o.setTimeout(c);else{var m=Fd((y,v)=>yS(...v,n(1)),l);i(er(er(er({},t),e),m))}};return()=>(s=o.setTimeout(c),()=>{var f;(f=s)===null||f===void 0||f()})}var l4=(t,e,n,r,a,i)=>{var o=i4(t,e);return n==null?()=>(a(er(er({},t),e)),()=>{}):n.isStepper===!0?pae(t,e,n,o,a,i):hae(t,e,n,r,o,a,i)};var xS=1e-4,f4=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],d4=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),u4=(t,e)=>n=>{var r=f4(t,e);return d4(r,n)},mae=(t,e)=>n=>{var r=f4(t,e),a=[...r.map((i,o)=>i*o).slice(1),0];return d4(a,n)},gae=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},vae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=gae(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},yae=(t,e,n,r)=>{var a=u4(t,n),i=u4(e,r),o=mae(t,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,f=c,d=0;d<8;++d){var p=a(f)-c,m=o(f);if(Math.abs(p-c)<xS||m<xS)return i(f);f=s(f-p/m)}return i(f)};return l.isStepper=!1,l},c4=function(){return yae(...vae(...arguments))},xae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,i=(o,s,l)=>{var u=-(o-s)*n,c=l*r,f=l+(u-c)*a/1e3,d=l*a/1e3+o;return Math.abs(d-s)<xS&&Math.abs(f)<xS?[s,0]:[d,f]};return i.isStepper=!0,i.dt=a,i},p4=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return c4(t);case"spring":return xae();default:if(t.split("(")[0]==="cubic-bezier")return c4(t)}return typeof t=="function"?t:null};var zd=ae(ce());function h4(t){var e,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=t.setTimeout(i.bind(null,u),l);return}i(l),a=t.setTimeout(i.bind(null,u));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}var bS=class{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}};function m4(){return h4(new bS)}var bae=(0,zd.createContext)(m4);function g4(t,e){var n=(0,zd.useContext)(bae);return(0,zd.useMemo)(()=>e??n(t),[t,e,n])}var Sae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),li={devToolsEnabled:!0,isSsr:Sae()};var _ae={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},v4={t:0},jI={t:1};function ui(t){var e=nt(t,_ae),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=e,c=n==="auto"?!li.isSsr:n,f=g4(e.animationId,e.animationManager),[d,p]=(0,ec.useState)(c?v4:jI),m=(0,ec.useRef)(null);return(0,ec.useEffect)(()=>{c||p(jI)},[c]),(0,ec.useEffect)(()=>{if(!c||!r)return Vr;var y=l4(v4,jI,p4(i),a,p,f.getTimeoutController()),v=()=>{m.current=y()};return f.start([l,o,v,a,s]),()=>{f.stop(),m.current&&m.current(),s()}},[c,r,a,i,o,l,s,f]),u(d.t)}var XI=ae(ce());function ci(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=(0,XI.useRef)(us(e)),r=(0,XI.useRef)(t);return r.current!==t&&(n.current=us(e),r.current=t),n.current}var Mae=["radius"],Aae=["radius"],y4,x4,b4,S4,_4,M4,A4,w4,C4,E4;function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=Cae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(null,arguments)}function L4(t,e){if(t==null)return{};var n,r,a=Tae(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xo(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var P4=(t,e,n,r,a)=>{var i=go(n),o=go(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,c=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&Array.isArray(a)){for(var d=[0,0,0,0],p=0,m=4;p<m;p++){var y,v=(y=a[p])!==null&&y!==void 0?y:0;d[p]=v>s?s:v}f=mn(y4||(y4=xo(["M",",",""])),t,e+l*d[0]),d[0]>0&&(f+=mn(x4||(x4=xo(["A ",",",",0,0,",",",",",""])),d[0],d[0],c,t+u*d[0],e)),f+=mn(b4||(b4=xo(["L ",",",""])),t+n-u*d[1],e),d[1]>0&&(f+=mn(S4||(S4=xo(["A ",",",",0,0,",`,
        `,",",""])),d[1],d[1],c,t+n,e+l*d[1])),f+=mn(_4||(_4=xo(["L ",",",""])),t+n,e+r-l*d[2]),d[2]>0&&(f+=mn(M4||(M4=xo(["A ",",",",0,0,",`,
        `,",",""])),d[2],d[2],c,t+n-u*d[2],e+r)),f+=mn(A4||(A4=xo(["L ",",",""])),t+u*d[3],e+r),d[3]>0&&(f+=mn(w4||(w4=xo(["A ",",",",0,0,",`,
        `,",",""])),d[3],d[3],c,t,e+r-l*d[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var h=Math.min(s,a);f=mn(C4||(C4=xo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*h,h,h,c,t+u*h,e,t+n-u*h,e,h,h,c,t+n,e+l*h,t+n,e+r-l*h,h,h,c,t+n-u*h,e+r,t+u*h,e+r,h,h,c,t,e+r-l*h)}else f=mn(E4||(E4=xo(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return f},R4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MS=t=>{var e=nt(t,R4),n=(0,fi.useRef)(null),[r,a]=(0,fi.useState)(-1);(0,fi.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&a(L)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:c}=e,{animationEasing:f,animationDuration:d,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:y}=e,v=(0,fi.useRef)(s),h=(0,fi.useRef)(l),g=(0,fi.useRef)(i),x=(0,fi.useRef)(o),b=(0,fi.useMemo)(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),_=ci(b,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var M=Fe("recharts-rectangle",c);if(!y){var A=Ut(e),{radius:S}=A,w=L4(A,Mae);return SS.createElement("path",_S({},w,{x:go(i),y:go(o),width:go(s),height:go(l),radius:typeof u=="number"?u:void 0,className:M,d:P4(i,o,s,l,u)}))}var U=v.current,D=h.current,k=g.current,z=x.current,V="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),C=vS(["strokeDasharray"],d,typeof f=="string"?f:R4.animationEasing);return SS.createElement(ui,{animationId:_,key:_,canBegin:r>0,duration:d,easing:f,isActive:y,begin:p},L=>{var B=St(U,s,L),R=St(D,l,L),T=St(k,i,L),P=St(z,o,L);n.current&&(v.current=B,h.current=R,g.current=T,x.current=P);var H;m?L>0?H={transition:C,strokeDasharray:W}:H={strokeDasharray:V}:H={strokeDasharray:W};var K=Ut(e),{radius:ee}=K,ne=L4(K,Aae);return SS.createElement("path",_S({},ne,{radius:typeof u=="number"?u:void 0,className:M,d:P4(T,P,B,R,u),ref:n,style:I4(I4({},H),e.style)}))})};function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function D4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jm=Math.PI/180;var Rae=t=>t*180/Math.PI,ln=(t,e,n,r)=>({x:t+Math.cos(-Jm*r)*n,y:e+Math.sin(-Jm*r)*n}),AS=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Oae=(t,e)=>{var{x:n,y:r}=t,{x:a,y:i}=e;return Math.sqrt((n-a)**2+(r-i)**2)},Dae=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:i}=e,o=Oae({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:Rae(l),angleInRadian:l}},Nae=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:e-i*360,endAngle:n-i*360}},kae=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return t+o*360},N4=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:a,angle:i}=Dae({x:n,y:r},e),{innerRadius:o,outerRadius:s}=e;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=Nae(e),c=i,f;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;f=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;f=c>=u&&c<=l}return f?D4(D4({},e),{},{radius:a,angle:kae(c,e)}):null};function wS(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:i}=t,o=ln(e,n,r,a),s=ln(e,n,r,i);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}var G4=ae(ce());var k4,B4,U4,F4,z4,H4,V4;function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(null,arguments)}function tc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Bae=(t,e)=>{var n=nn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},CS=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=t,u=s*(o?1:-1)+r,c=Math.asin(s/u)/Jm,f=l?a:a+i*c,d=ln(e,n,u,f),p=ln(e,n,r,f),m=l?a-i*c:a,y=ln(e,n,u*Math.cos(c*Jm),m);return{center:d,circleTangency:p,lineTangency:y,theta:c}},q4=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=t,s=Bae(i,o),l=i+s,u=ln(e,n,a,i),c=ln(e,n,a,l),f=mn(k4||(k4=tc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),c.x,c.y);if(r>0){var d=ln(e,n,r,i),p=ln(e,n,r,l);f+=mn(B4||(B4=tc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(s)>180),+(i<=l),d.x,d.y)}else f+=mn(U4||(U4=tc(["L ",","," Z"])),e,n);return f},Uae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=t,c=nn(u-l),{circleTangency:f,lineTangency:d,theta:p}=CS({cx:e,cy:n,radius:a,angle:l,sign:c,cornerRadius:i,cornerIsExternal:s}),{circleTangency:m,lineTangency:y,theta:v}=CS({cx:e,cy:n,radius:a,angle:u,sign:-c,cornerRadius:i,cornerIsExternal:s}),h=s?Math.abs(l-u):Math.abs(l-u)-p-v;if(h<0)return o?mn(F4||(F4=tc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),d.x,d.y,i,i,i*2,i,i,-i*2):q4({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var g=mn(z4||(z4=tc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),d.x,d.y,i,i,+(c<0),f.x,f.y,a,a,+(h>180),+(c<0),m.x,m.y,i,i,+(c<0),y.x,y.y);if(r>0){var{circleTangency:x,lineTangency:b,theta:_}=CS({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:M,lineTangency:A,theta:S}=CS({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=s?Math.abs(l-u):Math.abs(l-u)-_-S;if(w<0&&i===0)return"".concat(g,"L").concat(e,",").concat(n,"Z");g+=mn(H4||(H4=tc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,i,i,+(c<0),M.x,M.y,r,r,+(w>180),+(c>0),x.x,x.y,i,i,+(c<0),b.x,b.y)}else g+=mn(V4||(V4=tc(["L",",","Z"])),e,n);return g},Fae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ES=t=>{var e=nt(t,Fae),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:f}=e;if(i<a||u===c)return null;var d=Fe("recharts-sector",f),p=i-a,m=Cn(o,p,0,!0),y;return m>0&&Math.abs(u-c)<360?y=Uae({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):y=q4({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:c}),G4.createElement("path",YI({},Ut(e),{className:d,d:y}))};function W4(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(bb(e)){if(t==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=e,l=ln(r,a,i,s),u=ln(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return wS(e)}}var jL=ae(Z4());var kl={};RW(kl,{scaleBand:()=>ng,scaleDiverging:()=>l_,scaleDivergingLog:()=>PL,scaleDivergingPow:()=>u_,scaleDivergingSqrt:()=>yH,scaleDivergingSymlog:()=>RL,scaleIdentity:()=>jS,scaleImplicit:()=>DS,scaleLinear:()=>WS,scaleLog:()=>XS,scaleOrdinal:()=>Gd,scalePoint:()=>r5,scalePow:()=>pg,scaleQuantile:()=>ZS,scaleQuantize:()=>$S,scaleRadial:()=>KS,scaleSequential:()=>a_,scaleSequentialLog:()=>IL,scaleSequentialPow:()=>i_,scaleSequentialQuantile:()=>o_,scaleSequentialSqrt:()=>vH,scaleSequentialSymlog:()=>LL,scaleSqrt:()=>F5,scaleSymlog:()=>YS,scaleThreshold:()=>JS,scaleTime:()=>EL,scaleUtc:()=>TL,tickFormat:()=>lg});function Wr(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QI(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nc(t){let e,n,r;t.length!==2?(e=Wr,n=(s,l)=>Wr(t(s),l),r=(s,l)=>t(s)-l):(e=t===Wr||t===QI?t:jae,n=t,r=t);function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{let f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{let f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){let f=a(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function jae(){return 0}function Qm(t){return t===null?NaN:+t}function*$4(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var J4=nc(Wr),Q4=J4.right,Xae=J4.left,Yae=nc(Qm).center,qi=Q4;var Hd=class extends Map{constructor(e,n=$ae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,a]of e)this.set(r,a)}get(e){return super.get(e5(this,e))}has(e){return super.has(e5(this,e))}set(e,n){return super.set(Kae(this,e),n)}delete(e){return super.delete(Zae(this,e))}};function e5({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function Kae({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zae({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $ae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function t5(t=Wr){if(t===Wr)return eL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var Jae=Math.sqrt(50),Qae=Math.sqrt(10),eie=Math.sqrt(2);function TS(t,e,n){let r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Jae?10:i>=Qae?5:i>=eie?2:1,s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?TS(t,e,n*2):[s,l,u]}function rc(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[a,i,o]=r?TS(e,t,n):TS(t,e,n);if(!(i>=a))return[];let s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function eg(t,e,n){return e=+e,t=+t,n=+n,TS(t,e,n)[2]}function Vd(t,e,n){e=+e,t=+t,n=+n;let r=e<t,a=r?eg(e,t,n):eg(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function IS(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function LS(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}function PS(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?eL:t5(a);r>n;){if(r-n>600){let l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));PS(t,e,p,m,a)}let i=t[e],o=n,s=r;for(tg(t,n,e),a(t[r],i)>0&&tg(t,n,r);o<s;){for(tg(t,o,s),++o,--s;a(t[o],i)<0;)++o;for(;a(t[s],i)>0;)--s}a(t[n],i)===0?tg(t,n,s):(++s,tg(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function tg(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function RS(t,e,n){if(t=Float64Array.from($4(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return LS(t);if(e>=1)return IS(t);var r,a=(r-1)*e,i=Math.floor(a),o=IS(PS(t,i).subarray(0,i+1)),s=LS(t.subarray(i+1));return o+(s-o)*(a-i)}}function tL(t,e,n=Qm){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),s=+n(t[i+1],i+1,t);return o+(s-o)*(a-i)}}function OS(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var DS=Symbol("implicit");function Gd(){var t=new Hd,e=[],n=[],r=DS;function a(i){let o=t.get(i);if(o===void 0){if(r!==DS)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Hd;for(let o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Gd(e,n).unknown(r)},Sn.apply(a,arguments),a}function ng(){var t=Gd().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=a<r,m=p?a:r,y=p?r:a;i=(y-m)/Math.max(1,d-l+u*2),s&&(i=Math.floor(i)),m+=(y-m-i*(d-l))*c,o=i*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=OS(d).map(function(h){return m+i*h});return n(p?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,a]=d,r=+r,a=+a,f()):[r,a]},t.rangeRound=function(d){return[r,a]=d,r=+r,a=+a,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return ng(e(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},Sn.apply(f(),arguments)}function n5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n5(e())},t}function r5(){return n5(ng.apply(null,arguments).paddingInner(1))}function NS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ig(){}var rg=.7,US=1/rg,qd="\\s*([+-]?\\d+)\\s*",ag="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tie=/^#([0-9a-f]{3,8})$/,nie=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),rie=new RegExp(`^rgb\\(${bo},${bo},${bo}\\)$`),aie=new RegExp(`^rgba\\(${qd},${qd},${qd},${ag}\\)$`),iie=new RegExp(`^rgba\\(${bo},${bo},${bo},${ag}\\)$`),oie=new RegExp(`^hsl\\(${ag},${bo},${bo}\\)$`),sie=new RegExp(`^hsla\\(${ag},${bo},${bo},${ag}\\)$`),a5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NS(ig,Pl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:i5,formatHex:i5,formatHex8:lie,formatHsl:uie,formatRgb:o5,toString:o5});function i5(){return this.rgb().formatHex()}function lie(){return this.rgb().formatHex8()}function uie(){return d5(this).formatHsl()}function o5(){return this.rgb().formatRgb()}function Pl(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?s5(e):n===3?new ca(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?kS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?kS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nie.exec(t))?new ca(e[1],e[2],e[3],1):(e=rie.exec(t))?new ca(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aie.exec(t))?kS(e[1],e[2],e[3],e[4]):(e=iie.exec(t))?kS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=oie.exec(t))?c5(e[1],e[2]/100,e[3]/100,1):(e=sie.exec(t))?c5(e[1],e[2]/100,e[3]/100,e[4]):a5.hasOwnProperty(t)?s5(a5[t]):t==="transparent"?new ca(NaN,NaN,NaN,0):null}function s5(t){return new ca(t>>16&255,t>>8&255,t&255,1)}function kS(t,e,n,r){return r<=0&&(t=e=n=NaN),new ca(t,e,n,r)}function cie(t){return t instanceof ig||(t=Pl(t)),t?(t=t.rgb(),new ca(t.r,t.g,t.b,t.opacity)):new ca}function Wd(t,e,n,r){return arguments.length===1?cie(t):new ca(t,e,n,r??1)}function ca(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}NS(ca,Wd,nL(ig,{brighter(t){return t=t==null?US:Math.pow(US,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rg:Math.pow(rg,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ca(ic(this.r),ic(this.g),ic(this.b),FS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l5,formatHex:l5,formatHex8:fie,formatRgb:u5,toString:u5}));function l5(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}`}function fie(){return`#${ac(this.r)}${ac(this.g)}${ac(this.b)}${ac((isNaN(this.opacity)?1:this.opacity)*255)}`}function u5(){let t=FS(this.opacity);return`${t===1?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${t===1?")":`, ${t})`}`}function FS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ic(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ac(t){return t=ic(t),(t<16?"0":"")+t.toString(16)}function c5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wi(t,e,n,r)}function d5(t){if(t instanceof Wi)return new Wi(t.h,t.s,t.l,t.opacity);if(t instanceof ig||(t=Pl(t)),!t)return new Wi;if(t instanceof Wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(e===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Wi(o,s,l,t.opacity)}function p5(t,e,n,r){return arguments.length===1?d5(t):new Wi(t,e,n,r??1)}function Wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}NS(Wi,p5,nL(ig,{brighter(t){return t=t==null?US:Math.pow(US,t),new Wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rg:Math.pow(rg,t),new Wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new ca(rL(t>=240?t-240:t+120,a,r),rL(t,a,r),rL(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Wi(f5(this.h),BS(this.s),BS(this.l),FS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=FS(this.opacity);return`${t===1?"hsl(":"hsla("}${f5(this.h)}, ${BS(this.s)*100}%, ${BS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f5(t){return t=(t||0)%360,t<0?t+360:t}function BS(t){return Math.max(0,Math.min(1,t||0))}function rL(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function aL(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}function h5(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,s=r<e-1?t[r+2]:2*i-a;return aL((n-r/e)*e,o,a,i,s)}}function m5(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return aL((n-r/e)*e,a,i,o,s)}}var og=t=>()=>t;function die(t,e){return function(n){return t+n*e}}function pie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function g5(t){return(t=+t)==1?zS:function(e,n){return n-e?pie(e,n,t):og(isNaN(e)?n:e)}}function zS(t,e){var n=e-t;return n?die(t,n):og(isNaN(t)?e:t)}var iL=(function t(e){var n=g5(e);function r(a,i){var o=n((a=Wd(a)).r,(i=Wd(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=zS(a.opacity,i.opacity);return function(c){return a.r=o(c),a.g=s(c),a.b=l(c),a.opacity=u(c),a+""}}return r.gamma=t,r})(1);function v5(t){return function(e){var n=e.length,r=new Array(n),a=new Array(n),i=new Array(n),o,s;for(o=0;o<n;++o)s=Wd(e[o]),r[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return r=t(r),a=t(a),i=t(i),s.opacity=1,function(l){return s.r=r(l),s.g=a(l),s.b=i(l),s+""}}}var qwe=v5(h5),Wwe=v5(m5);function y5(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function x5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function b5(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=ka(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function S5(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _5(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=ka(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var sL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oL=new RegExp(sL.source,"g");function hie(t){return function(){return t}}function mie(t){return function(e){return t(e)+""}}function M5(t,e){var n=sL.lastIndex=oL.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=sL.exec(t))&&(a=oL.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Rl(r,a)})),n=oL.lastIndex;return n<e.length&&(i=e.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?mie(l[0].x):hie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function ka(t,e){var n=typeof e,r;return e==null||n==="boolean"?og(e):(n==="number"?Rl:n==="string"?(r=Pl(e))?(e=r,iL):M5:e instanceof Pl?iL:e instanceof Date?S5:x5(e)?y5:Array.isArray(e)?b5:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_5:Rl)(t,e)}function oc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function HS(t,e){e===void 0&&(e=t,t=ka);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function lL(t){return function(){return t}}function Ol(t){return+t}var A5=[0,1];function tr(t){return t}function uL(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lL(isNaN(e)?NaN:.5)}function gie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vie(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=uL(a,r),i=n(o,i)):(r=uL(r,a),i=n(i,o)),function(s){return i(r(s))}}function yie(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=uL(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(s){var l=qi(t,s,1,r)-1;return i[l](a[l](s))}}function So(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sc(){var t=A5,e=A5,n=ka,r,a,i,o=tr,s,l,u;function c(){var d=Math.min(t.length,e.length);return o!==tr&&(o=gie(t[0],t[d-1])),s=d>2?yie:vie,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?i:(l||(l=s(t.map(r),e,n)))(r(o(d)))}return f.invert=function(d){return o(a((u||(u=s(e,t.map(r),Rl)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Ol),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=oc,c()},f.clamp=function(d){return arguments.length?(o=d?!0:tr,c()):o!==tr},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(i=d,f):i},function(d,p){return r=d,a=p,c()}}function lc(){return sc()(tr,tr)}function w5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function uc(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _o(t){return t=uc(Math.abs(t)),t?t[1]:NaN}function C5(t,e){return function(n,r){for(var a=n.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return i.reverse().join(e)}}function E5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mo(t){if(!(e=xie.exec(t)))throw new Error("invalid format: "+t);var e;return new VS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mo.prototype=VS.prototype;function VS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T5(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var sg;function I5(t,e){var n=uc(t,e);if(!n)return sg=void 0,t.toPrecision(e);var r=n[0],a=n[1],i=a-(sg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+uc(t,Math.max(0,e+i-1))[0]}function cL(t,e){var n=uc(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var fL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:w5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cL(t*100,e),r:cL,s:I5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function dL(t){return t}var L5=Array.prototype.map,P5=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function R5(t){var e=t.grouping===void 0||t.thousands===void 0?dL:C5(L5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?dL:E5(L5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,d){f=Mo(f);var p=f.fill,m=f.align,y=f.sign,v=f.symbol,h=f.zero,g=f.width,x=f.comma,b=f.precision,_=f.trim,M=f.type;M==="n"?(x=!0,M="g"):fL[M]||(b===void 0&&(b=12),_=!0,M="g"),(h||p==="0"&&m==="=")&&(h=!0,p="0",m="=");var A=(d&&d.prefix!==void 0?d.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),S=(v==="$"?r:/[%p]/.test(M)?o:"")+(d&&d.suffix!==void 0?d.suffix:""),w=fL[M],U=/[defgprs%]/.test(M);b=b===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(k){var z=A,V=S,W,C,L;if(M==="c")V=w(k)+V,k="";else{k=+k;var B=k<0||1/k<0;if(k=isNaN(k)?l:w(Math.abs(k),b),_&&(k=T5(k)),B&&+k==0&&y!=="+"&&(B=!1),z=(B?y==="("?y:s:y==="-"||y==="("?"":y)+z,V=(M==="s"&&!isNaN(k)&&sg!==void 0?P5[8+sg/3]:"")+V+(B&&y==="("?")":""),U){for(W=-1,C=k.length;++W<C;)if(L=k.charCodeAt(W),48>L||L>57){V=(L===46?a+k.slice(W+1):k.slice(W))+V,k=k.slice(0,W);break}}}x&&!h&&(k=e(k,1/0));var R=z.length+k.length+V.length,T=R<g?new Array(g-R+1).join(p):"";switch(x&&h&&(k=e(T+k,T.length?g-V.length:1/0),T=""),m){case"<":k=z+k+V+T;break;case"=":k=z+T+k+V;break;case"^":k=T.slice(0,R=T.length>>1)+z+k+V+T.slice(R);break;default:k=T+z+k+V;break}return i(k)}return D.toString=function(){return f+""},D}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(_o(d)/3)))*3,m=Math.pow(10,-p),y=u((f=Mo(f),f.type="f",f),{suffix:P5[8+p/3]});return function(v){return y(m*v)}}return{format:u,formatPrefix:c}}var GS,jd,qS;pL({thousands:",",grouping:[3],currency:["$",""]});function pL(t){return GS=R5(t),jd=GS.format,qS=GS.formatPrefix,GS}function hL(t){return Math.max(0,-_o(Math.abs(t)))}function mL(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(e)/3)))*3-_o(Math.abs(t)))}function gL(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_o(e)-_o(t))+1}function lg(t,e,n,r){var a=Vd(t,e,n),i;switch(r=Mo(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=mL(a,o))&&(r.precision=i),qS(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=gL(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=hL(a))&&(r.precision=i-(r.type==="%")*2);break}}return jd(r)}function jr(t){var e=t.domain;return t.ticks=function(n){var r=e();return rc(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return lg(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);c-- >0;){if(u=eg(o,s,n),u===l)return r[a]=o,r[i]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function WS(){var t=lc();return t.copy=function(){return So(t,WS())},Sn.apply(t,arguments),jr(t)}function jS(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ol),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jS(t).unknown(e)},t=arguments.length?Array.from(t,Ol):[0,1],jr(n)}function ug(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function O5(t){return Math.log(t)}function D5(t){return Math.exp(t)}function bie(t){return-Math.log(-t)}function Sie(t){return-Math.exp(-t)}function _ie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mie(t){return t===10?_ie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Aie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function N5(t){return(e,n)=>-t(-e,n)}function cg(t){let e=t(O5,D5),n=e.domain,r=10,a,i;function o(){return a=Aie(r),i=Mie(r),n()[0]<0?(a=N5(a),i=N5(i),t(bie,Sie)):t(O5,D5),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{let l=n(),u=l[0],c=l[l.length-1],f=c<u;f&&([u,c]=[c,u]);let d=a(u),p=a(c),m,y,v=s==null?10:+s,h=[];if(!(r%1)&&p-d<v){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(y=d<0?m/i(-d):m*i(d),!(y<u)){if(y>c)break;h.push(y)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(y=d>0?m/i(-d):m*i(d),!(y<u)){if(y>c)break;h.push(y)}h.length*2<v&&(h=rc(u,c,v))}else h=rc(d,p,Math.min(p-d,v)).map(i);return f?h.reverse():h},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Mo(l)).precision==null&&(l.trim=!0),l=jd(l)),s===1/0)return l;let u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/i(Math.round(a(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(ug(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),e}function XS(){let t=cg(sc()).domain([1,10]);return t.copy=()=>So(t,XS()).base(t.base()),Sn.apply(t,arguments),t}function k5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function B5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fg(t){var e=1,n=t(k5(e),B5(e));return n.constant=function(r){return arguments.length?t(k5(e=+r),B5(e)):e},jr(n)}function YS(){var t=fg(sc());return t.copy=function(){return So(t,YS()).constant(t.constant())},Sn.apply(t,arguments)}function U5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Cie(t){return t<0?-t*t:t*t}function dg(t){var e=t(tr,tr),n=1;function r(){return n===1?t(tr,tr):n===.5?t(wie,Cie):t(U5(n),U5(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},jr(e)}function pg(){var t=dg(sc());return t.copy=function(){return So(t,pg()).exponent(t.exponent())},Sn.apply(t,arguments),t}function F5(){return pg.apply(null,arguments).exponent(.5)}function z5(t){return Math.sign(t)*t*t}function Eie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KS(){var t=lc(),e=[0,1],n=!1,r;function a(i){var o=Eie(t(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return t.invert(z5(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Ol)).map(z5)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KS(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Sn.apply(a,arguments),jr(a)}function ZS(){var t=[],e=[],n=[],r;function a(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=tL(t,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:e[qi(n,o)]}return i.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Wr),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return ZS().domain(t).range(e).unknown(r)},Sn.apply(i,arguments)}function $S(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[qi(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $S().domain([t,e]).range(a).unknown(i)},Sn.apply(jr(o),arguments)}function JS(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[qi(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JS().domain(t).range(e).unknown(n)},Sn.apply(a,arguments)}var vL=new Date,yL=new Date;function rn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{let o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{let l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),e(i,s),t(i);while(u<i&&i<o);return l},a.filter=i=>rn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!i(o););else for(;--s>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(vL.setTime(+i),yL.setTime(+o),t(vL),t(yL),Math.floor(n(vL,yL))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}var hg=rn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hg);var tTe=hg.range;var pi=rn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),H5=pi.range;var Xd=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),Tie=Xd.range,Yd=rn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),Iie=Yd.range;var Kd=rn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),Lie=Kd.range,Zd=rn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),Pie=Zd.range;var vs=rn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),Rie=vs.range,dc=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),Oie=dc.range,QS=rn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Die=QS.range;function pc(t){return rn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var ys=pc(0),$d=pc(1),G5=pc(2),q5=pc(3),Dl=pc(4),W5=pc(5),j5=pc(6),X5=ys.range,Nie=$d.range,kie=G5.range,Bie=q5.range,Uie=Dl.range,Fie=W5.range,zie=j5.range;function hc(t){return rn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var xs=hc(0),Jd=hc(1),Y5=hc(2),K5=hc(3),Nl=hc(4),Z5=hc(5),$5=hc(6),J5=xs.range,Hie=Jd.range,Vie=Y5.range,Gie=K5.range,qie=Nl.range,Wie=Z5.range,jie=$5.range;var Qd=rn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Xie=Qd.range,ep=rn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Yie=ep.range;var Ba=rn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ba.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var Kie=Ba.range,Ua=rn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var Zie=Ua.range;function eH(t,e,n,r,a,i){let o=[[pi,1,1e3],[pi,5,5*1e3],[pi,15,15*1e3],[pi,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function s(u,c,f){let d=c<u;d&&([u,c]=[c,u]);let p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){let d=Math.abs(c-u)/f,p=nc(([,,v])=>v).right(o,d);if(p===o.length)return t.every(Vd(u/31536e6,c/31536e6,f));if(p===0)return hg.every(Math.max(Vd(u,c,f),1));let[m,y]=o[d/o[p-1][2]<o[p][2]/d?p-1:p];return m.every(y)}return[s,l]}var[xL,bL]=eH(Ua,ep,xs,QS,Zd,Yd),[SL,_L]=eH(Ba,Qd,ys,vs,Kd,Xd);function ML(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function AL(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gg(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wL(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=vg(a),c=yg(a),f=vg(i),d=yg(i),p=vg(o),m=yg(o),y=vg(s),v=yg(s),h=vg(l),g=yg(l),x={a:L,A:B,b:R,B:T,c:null,d:oH,e:oH,f:boe,g:Loe,G:Roe,H:voe,I:yoe,j:xoe,L:fH,m:Soe,M:_oe,p:P,q:H,Q:uH,s:cH,S:Moe,u:Aoe,U:woe,V:Coe,w:Eoe,W:Toe,x:null,X:null,y:Ioe,Y:Poe,Z:Ooe,"%":lH},b={a:K,A:ee,b:ne,B:G,c:null,d:sH,e:sH,f:Boe,g:Xoe,G:Koe,H:Doe,I:Noe,j:koe,L:pH,m:Uoe,M:Foe,p:Q,q:de,Q:uH,s:cH,S:zoe,u:Hoe,U:Voe,V:Goe,w:qoe,W:Woe,x:null,X:null,y:joe,Y:Yoe,Z:Zoe,"%":lH},_={a:U,A:D,b:k,B:z,c:V,d:aH,e:aH,f:poe,g:rH,G:nH,H:iH,I:iH,j:uoe,L:doe,m:loe,M:coe,p:w,q:soe,Q:moe,s:goe,S:foe,u:noe,U:roe,V:aoe,w:toe,W:ioe,x:W,X:C,y:rH,Y:nH,Z:ooe,"%":hoe};x.x=M(n,x),x.X=M(r,x),x.c=M(e,x),b.x=M(n,b),b.X=M(r,b),b.c=M(e,b);function M(X,pe){return function(ue){var oe=[],qe=-1,Ie=0,et=X.length,He,Ct,q;for(ue instanceof Date||(ue=new Date(+ue));++qe<et;)X.charCodeAt(qe)===37&&(oe.push(X.slice(Ie,qe)),(Ct=tH[He=X.charAt(++qe)])!=null?He=X.charAt(++qe):Ct=He==="e"?" ":"0",(q=pe[He])&&(He=q(ue,Ct)),oe.push(He),Ie=qe+1);return oe.push(X.slice(Ie,qe)),oe.join("")}}function A(X,pe){return function(ue){var oe=gg(1900,void 0,1),qe=S(oe,X,ue+="",0),Ie,et;if(qe!=ue.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(pe&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Ie=AL(gg(oe.y,0,1)),et=Ie.getUTCDay(),Ie=et>4||et===0?Jd.ceil(Ie):Jd(Ie),Ie=dc.offset(Ie,(oe.V-1)*7),oe.y=Ie.getUTCFullYear(),oe.m=Ie.getUTCMonth(),oe.d=Ie.getUTCDate()+(oe.w+6)%7):(Ie=ML(gg(oe.y,0,1)),et=Ie.getDay(),Ie=et>4||et===0?$d.ceil(Ie):$d(Ie),Ie=vs.offset(Ie,(oe.V-1)*7),oe.y=Ie.getFullYear(),oe.m=Ie.getMonth(),oe.d=Ie.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),et="Z"in oe?AL(gg(oe.y,0,1)).getUTCDay():ML(gg(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(et+5)%7:oe.w+oe.U*7-(et+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,AL(oe)):ML(oe)}}function S(X,pe,ue,oe){for(var qe=0,Ie=pe.length,et=ue.length,He,Ct;qe<Ie;){if(oe>=et)return-1;if(He=pe.charCodeAt(qe++),He===37){if(He=pe.charAt(qe++),Ct=_[He in tH?pe.charAt(qe++):He],!Ct||(oe=Ct(X,ue,oe))<0)return-1}else if(He!=ue.charCodeAt(oe++))return-1}return oe}function w(X,pe,ue){var oe=u.exec(pe.slice(ue));return oe?(X.p=c.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function U(X,pe,ue){var oe=p.exec(pe.slice(ue));return oe?(X.w=m.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function D(X,pe,ue){var oe=f.exec(pe.slice(ue));return oe?(X.w=d.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function k(X,pe,ue){var oe=h.exec(pe.slice(ue));return oe?(X.m=g.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function z(X,pe,ue){var oe=y.exec(pe.slice(ue));return oe?(X.m=v.get(oe[0].toLowerCase()),ue+oe[0].length):-1}function V(X,pe,ue){return S(X,e,pe,ue)}function W(X,pe,ue){return S(X,n,pe,ue)}function C(X,pe,ue){return S(X,r,pe,ue)}function L(X){return o[X.getDay()]}function B(X){return i[X.getDay()]}function R(X){return l[X.getMonth()]}function T(X){return s[X.getMonth()]}function P(X){return a[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function K(X){return o[X.getUTCDay()]}function ee(X){return i[X.getUTCDay()]}function ne(X){return l[X.getUTCMonth()]}function G(X){return s[X.getUTCMonth()]}function Q(X){return a[+(X.getUTCHours()>=12)]}function de(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var pe=M(X+="",x);return pe.toString=function(){return X},pe},parse:function(X){var pe=A(X+="",!1);return pe.toString=function(){return X},pe},utcFormat:function(X){var pe=M(X+="",b);return pe.toString=function(){return X},pe},utcParse:function(X){var pe=A(X+="",!0);return pe.toString=function(){return X},pe}}}var tH={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,Jie=/^%/,Qie=/[\\^$*+?|[\]().{}]/g;function Rt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function eoe(t){return t.replace(Qie,"\\$&")}function vg(t){return new RegExp("^(?:"+t.map(eoe).join("|")+")","i")}function yg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function toe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function noe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function roe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function aoe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ioe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nH(t,e,n){var r=dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rH(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ooe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function soe(t,e,n){var r=dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function loe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function aH(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function uoe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iH(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function coe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function foe(t,e,n){var r=dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function doe(t,e,n){var r=dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function poe(t,e,n){var r=dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hoe(t,e,n){var r=Jie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function moe(t,e,n){var r=dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function goe(t,e,n){var r=dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function oH(t,e){return Rt(t.getDate(),e,2)}function voe(t,e){return Rt(t.getHours(),e,2)}function yoe(t,e){return Rt(t.getHours()%12||12,e,2)}function xoe(t,e){return Rt(1+vs.count(Ba(t),t),e,3)}function fH(t,e){return Rt(t.getMilliseconds(),e,3)}function boe(t,e){return fH(t,e)+"000"}function Soe(t,e){return Rt(t.getMonth()+1,e,2)}function _oe(t,e){return Rt(t.getMinutes(),e,2)}function Moe(t,e){return Rt(t.getSeconds(),e,2)}function Aoe(t){var e=t.getDay();return e===0?7:e}function woe(t,e){return Rt(ys.count(Ba(t)-1,t),e,2)}function dH(t){var e=t.getDay();return e>=4||e===0?Dl(t):Dl.ceil(t)}function Coe(t,e){return t=dH(t),Rt(Dl.count(Ba(t),t)+(Ba(t).getDay()===4),e,2)}function Eoe(t){return t.getDay()}function Toe(t,e){return Rt($d.count(Ba(t)-1,t),e,2)}function Ioe(t,e){return Rt(t.getFullYear()%100,e,2)}function Loe(t,e){return t=dH(t),Rt(t.getFullYear()%100,e,2)}function Poe(t,e){return Rt(t.getFullYear()%1e4,e,4)}function Roe(t,e){var n=t.getDay();return t=n>=4||n===0?Dl(t):Dl.ceil(t),Rt(t.getFullYear()%1e4,e,4)}function Ooe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rt(e/60|0,"0",2)+Rt(e%60,"0",2)}function sH(t,e){return Rt(t.getUTCDate(),e,2)}function Doe(t,e){return Rt(t.getUTCHours(),e,2)}function Noe(t,e){return Rt(t.getUTCHours()%12||12,e,2)}function koe(t,e){return Rt(1+dc.count(Ua(t),t),e,3)}function pH(t,e){return Rt(t.getUTCMilliseconds(),e,3)}function Boe(t,e){return pH(t,e)+"000"}function Uoe(t,e){return Rt(t.getUTCMonth()+1,e,2)}function Foe(t,e){return Rt(t.getUTCMinutes(),e,2)}function zoe(t,e){return Rt(t.getUTCSeconds(),e,2)}function Hoe(t){var e=t.getUTCDay();return e===0?7:e}function Voe(t,e){return Rt(xs.count(Ua(t)-1,t),e,2)}function hH(t){var e=t.getUTCDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function Goe(t,e){return t=hH(t),Rt(Nl.count(Ua(t),t)+(Ua(t).getUTCDay()===4),e,2)}function qoe(t){return t.getUTCDay()}function Woe(t,e){return Rt(Jd.count(Ua(t)-1,t),e,2)}function joe(t,e){return Rt(t.getUTCFullYear()%100,e,2)}function Xoe(t,e){return t=hH(t),Rt(t.getUTCFullYear()%100,e,2)}function Yoe(t,e){return Rt(t.getUTCFullYear()%1e4,e,4)}function Koe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Nl(t):Nl.ceil(t),Rt(t.getUTCFullYear()%1e4,e,4)}function Zoe(){return"+0000"}function lH(){return"%"}function uH(t){return+t}function cH(t){return Math.floor(+t/1e3)}var tp,e_,mH,t_,gH;CL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function CL(t){return tp=wL(t),e_=tp.format,mH=tp.parse,t_=tp.utcFormat,gH=tp.utcParse,tp}function $oe(t){return new Date(t)}function Joe(t){return t instanceof Date?+t:+new Date(+t)}function n_(t,e,n,r,a,i,o,s,l,u){var c=lc(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),y=u("%I:%M"),v=u("%I %p"),h=u("%a %d"),g=u("%b %d"),x=u("%B"),b=u("%Y");function _(M){return(l(M)<M?p:s(M)<M?m:o(M)<M?y:i(M)<M?v:r(M)<M?a(M)<M?h:g:n(M)<M?x:b)(M)}return c.invert=function(M){return new Date(f(M))},c.domain=function(M){return arguments.length?d(Array.from(M,Joe)):d().map($oe)},c.ticks=function(M){var A=d();return t(A[0],A[A.length-1],M??10)},c.tickFormat=function(M,A){return A==null?_:u(A)},c.nice=function(M){var A=d();return(!M||typeof M.range!="function")&&(M=e(A[0],A[A.length-1],M??10)),M?d(ug(A,M)):c},c.copy=function(){return So(c,n_(t,e,n,r,a,i,o,s,l,u))},c}function EL(){return Sn.apply(n_(SL,_L,Ba,Qd,ys,vs,Kd,Xd,pi,e_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function TL(){return Sn.apply(n_(xL,bL,Ua,ep,xs,dc,Zd,Yd,pi,t_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function r_(){var t=0,e=1,n,r,a,i,o=tr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,o=f(p,m),u):[o(0),o(1)]}}return u.range=c(ka),u.rangeRound=c(oc),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(t),r=f(e),a=n===r?0:1/(r-n),u}}function bs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function a_(){var t=jr(r_()(tr));return t.copy=function(){return bs(t,a_())},di.apply(t,arguments)}function IL(){var t=cg(r_()).domain([1,10]);return t.copy=function(){return bs(t,IL()).base(t.base())},di.apply(t,arguments)}function LL(){var t=fg(r_());return t.copy=function(){return bs(t,LL()).constant(t.constant())},di.apply(t,arguments)}function i_(){var t=dg(r_());return t.copy=function(){return bs(t,i_()).exponent(t.exponent())},di.apply(t,arguments)}function vH(){return i_.apply(null,arguments).exponent(.5)}function o_(){var t=[],e=tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((qi(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Wr),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>RS(t,i/r))},n.copy=function(){return o_(e).domain(t)},di.apply(n,arguments)}function s_(){var t=0,e=.5,n=1,r=1,a,i,o,s,l,u=tr,c,f=!1,d;function p(y){return isNaN(y=+y)?d:(y=.5+((y=+c(y))-i)*(r*y<r*i?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,a=c(t=+t),i=c(e=+e),o=c(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function m(y){return function(v){var h,g,x;return arguments.length?([h,g,x]=v,u=HS(y,[h,g,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(ka),p.rangeRound=m(oc),p.unknown=function(y){return arguments.length?(d=y,p):d},function(y){return c=y,a=y(t),i=y(e),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,p}}function l_(){var t=jr(s_()(tr));return t.copy=function(){return bs(t,l_())},di.apply(t,arguments)}function PL(){var t=cg(s_()).domain([.1,1,10]);return t.copy=function(){return bs(t,PL()).base(t.base())},di.apply(t,arguments)}function RL(){var t=fg(s_());return t.copy=function(){return bs(t,RL()).constant(t.constant())},di.apply(t,arguments)}function u_(){var t=dg(s_());return t.copy=function(){return bs(t,u_()).exponent(t.exponent())},di.apply(t,arguments)}function yH(){return u_.apply(null,arguments).exponent(.5)}var hi=t=>t.chartData,np=Y([hi],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),xg=(t,e,n,r)=>r?np(t):hi(t),c_=(t,e,n)=>n?np(t):hi(t);function mi(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ve(e)&&Ve(n))return!0}return!1}function xH(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function f_(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,i;if(Ve(n))a=n;else if(typeof n=="function")return;if(Ve(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(mi(o))return o}}function bH(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(mi(r))return xH(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,i]=t,o,s;if(a==="auto")e!=null&&(o=Math.min(...e));else if(xe(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[0]))}catch{}else if(typeof a=="string"&&CI.test(a)){var l=CI.exec(a);if(l==null||l[1]==null||e==null)o=void 0;else{var u=+l[1];o=e[0]-u}}else o=e?.[0];if(i==="auto")e!=null&&(s=Math.max(...e));else if(xe(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[1]))}catch{}else if(typeof i=="string"&&EI.test(i)){var c=EI.exec(i);if(c==null||c[1]==null||e==null)s=void 0;else{var f=+c[1];s=e[1]+f}}else s=e?.[1];var d=[o,s];if(mi(d))return e==null?d:xH(d,e,n)}}}var Jt=ae(OL());var DL=ae(OL());function NL(t){var e;return t===0?e=1:e=Math.floor(new DL.default(t).abs().log(10).toNumber())+1,e}function kL(t,e,n){for(var r=new DL.default(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var _H=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},MH=(t,e,n)=>{if(t.lte(0))return new Jt.default(0);var r=NL(t.toNumber()),a=new Jt.default(10).pow(r),i=t.div(a),o=r!==1?.05:.1,s=new Jt.default(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return e?new Jt.default(l.toNumber()):new Jt.default(Math.ceil(l.toNumber()))},Qoe=(t,e,n)=>{var r=new Jt.default(1),a=new Jt.default(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Jt.default(10).pow(NL(t)-1),a=new Jt.default(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Jt.default(Math.floor(t)))}else t===0?a=new Jt.default(Math.floor((e-1)/2)):n||(a=new Jt.default(Math.floor(t)));for(var o=Math.floor((e-1)/2),s=[],l=0;l<e;l++)s.push(a.add(new Jt.default(l-o).mul(r)).toNumber());return s},AH=function(e,n,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Jt.default(0),tickMin:new Jt.default(0),tickMax:new Jt.default(0)};var o=MH(new Jt.default(n).sub(e).div(r-1),a,i),s;e<=0&&n>=0?s=new Jt.default(0):(s=new Jt.default(e).add(n).div(2),s=s.sub(new Jt.default(s).mod(o)));var l=Math.ceil(s.sub(e).div(o).toNumber()),u=Math.ceil(new Jt.default(n).sub(s).div(o).toNumber()),c=l+u+1;return c>r?AH(e,n,r,a,i+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:o,tickMin:s.sub(new Jt.default(l).mul(o)),tickMax:s.add(new Jt.default(u).mul(o))})};var BL=function(e){var[n,r]=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,l]=_H([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return Qoe(s,a,i);var{step:c,tickMin:f,tickMax:d}=AH(s,l,o,i,0),p=kL(f,d.add(new Jt.default(.1).mul(c)),c);return n>r?p.reverse():p},UL=function(e,n){var[r,a]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=_H([r,a]);if(o===-1/0||s===1/0)return[r,a];if(o===s)return[o];var l=Math.max(n,2),u=MH(new Jt.default(s).sub(o).div(l-1),i,0),c=[...kL(new Jt.default(o),new Jt.default(s),u),s];return i===!1&&(c=c.map(f=>Math.round(f))),r>a?c.reverse():c};var FL=t=>t.rootProps.maxBarSize,wH=t=>t.rootProps.barGap,p_=t=>t.rootProps.barCategoryGap,CH=t=>t.rootProps.barSize,Bl=t=>t.rootProps.stackOffset,h_=t=>t.rootProps.reverseStackOrder,rp=t=>t.options.chartName,m_=t=>t.rootProps.syncId,zL=t=>t.rootProps.syncMethod,g_=t=>t.options.eventEmitter,EH=t=>t.rootProps.baseValue;var pt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3};var Ul={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:pt.axis};var ji={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:pt.axis};var mc=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function gc(t,e,n){if(n!=="auto")return n;if(t!=null)return Pr(t,e)?"category":"number"}function TH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function v_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(n),!0).forEach(function(r){ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ese(t,e,n){return(e=tse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return typeof e=="symbol"?e:e+""}function nse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IH={allowDataOverflow:Ul.allowDataOverflow,allowDecimals:Ul.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ul.angleAxisId,includeHidden:!1,name:void 0,reversed:Ul.reversed,scale:Ul.scale,tick:Ul.tick,tickCount:void 0,ticks:void 0,type:Ul.type,unit:void 0},LH={allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:ji.includeHidden,name:void 0,reversed:ji.reversed,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},rse=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},y_=Y([rse,DI],(t,e)=>{var n;if(t!=null)return t;var r=(n=gc(e,"angleAxis",IH.type))!==null&&n!==void 0?n:"category";return v_(v_({},IH),{},{type:r})}),ase=(t,e)=>t.polarAxis.radiusAxis[e],x_=Y([ase,DI],(t,e)=>{var n;if(t!=null)return t;var r=(n=gc(e,"radiusAxis",LH.type))!==null&&n!==void 0?n:"category";return v_(v_({},LH),{},{type:r})}),b_=t=>t.polarOptions,HL=Y([Rr,Or,qt],AS),PH=Y([b_,HL],(t,e)=>{if(t!=null)return Cn(t.innerRadius,e,0)}),RH=Y([b_,HL],(t,e)=>{if(t!=null)return Cn(t.outerRadius,e,e*.8)}),ise=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},VL=Y([b_],ise),mLe=Y([y_,VL],mc),GL=Y([HL,PH,RH],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),gLe=Y([x_,GL],mc),S_=Y([Qe,b_,PH,RH,Rr,Or],(t,e,n,r,a,i)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=e;return{cx:Cn(o,a,a/2),cy:Cn(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}});var gn=(t,e)=>e;var vc=(t,e,n)=>n;function Fl(t){return t?.id}function __(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return t.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=Fl(s);u.forEach((f,d)=>{var p=i==null||a?d:String(ut(f,i,null)),m=ut(f,s.dataKey,0),y;o.has(p)?y=o.get(p):y={},Object.assign(y,{[c]:m}),o.set(p,y)})}}),Array.from(o.values())}function yc(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ap=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function ip(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function OH(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Fn=t=>{var e=Qe(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"};var zl=t=>t.tooltip.settings.axisId;function ose(t){if(t in kl)return kl[t]();var e="scale".concat(cs(t));if(e in kl)return kl[e]()}function DH(t){var e=t.ticks,n=t.bandwidth,r=t.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(i){function o(){return i.apply(this,arguments)}return o.toString=function(){return i.toString()},o})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(i){var o=a[0],s=a[1];return o<=s?i>=o&&i<=s:i>=s&&i<=o},bandwidth:n?()=>n.call(t):void 0,ticks:e?i=>e.call(t,i):void 0,map:(i,o)=>{var s=t(i);if(s!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var l=t.bandwidth();switch(o.position){case"middle":s+=l/2;break;case"end":s+=l;break;default:break}}return s}}}}function qL(t,e,n){if(typeof t=="function")return DH(t.copy().domain(e).range(n));if(t!=null){var r=ose(t);if(r!=null)return r.domain(e).range(n),DH(r)}}var M_=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!mi(e)){for(var n,r,a=0;a<e.length;a++){var i=e[a];Ve(i)&&((n===void 0||i<n)&&(n=i),(r===void 0||i>r)&&(r=i))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function NH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=lse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lse(t){var e=use(t,"string");return typeof e=="symbol"?e:e+""}function use(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WL=[0,"auto"],Xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XL=(t,e)=>t.cartesianAxis.xAxis[e],gi=(t,e)=>{var n=XL(t,e);return n??Xn},Yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:WL,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zu},YL=(t,e)=>t.cartesianAxis.yAxis[e],vi=(t,e)=>{var n=YL(t,e);return n??Yn},cse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KL=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??cse},En=(t,e,n)=>{switch(e){case"xAxis":return gi(t,n);case"yAxis":return vi(t,n);case"zAxis":return KL(t,n);case"angleAxis":return y_(t,n);case"radiusAxis":return x_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fse=(t,e,n)=>{switch(e){case"xAxis":return gi(t,n);case"yAxis":return vi(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xc=(t,e,n)=>{switch(e){case"xAxis":return gi(t,n);case"yAxis":return vi(t,n);case"angleAxis":return y_(t,n);case"radiusAxis":return x_(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ZL=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Sg(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Hl=t=>t.graphicalItems.cartesianItems,dse=Y([gn,vc],Sg),_g=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Mg=Y([Hl,En,dse],_g,{memoizeOptions:{resultEqualityCheck:ip}}),BH=Y([Mg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(yc)),$L=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),pse=Y([Mg],$L),Ag=t=>t.map(e=>e.data).filter(Boolean).flat(1),hse=Y([Mg],Ag,{memoizeOptions:{resultEqualityCheck:ip}}),wg=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},JL=Y([hse,xg],wg),Cg=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:ut(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:ut(a,r)}))):t.map(r=>({value:r})),C_=Y([JL,En,Mg],Cg);function UH(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function A_(t){if(fr(t)||t instanceof Date){var e=Number(t);if(Ve(e))return e}}function kH(t){if(Array.isArray(t)){var e=[A_(t[0]),A_(t[1])];return mi(e)?e:void 0}var n=A_(t);if(n!=null)return[n,n]}function Ss(t){return t.map(A_).filter(Sr)}function mse(t,e,n){return!n||typeof e!="number"||cr(e)?[]:n.length?Ss(n.flatMap(r=>{var a=ut(t,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Ve(i)||!Ve(o)))return[e-i,e+o]})):[]}var zn=t=>{var e=Fn(t),n=zl(t);return xc(t,e,n)},Vl=Y([zn],t=>t?.dataKey),gse=Y([BH,xg,zn],__),QL=(t,e,n,r)=>{var a={},i=e.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,c=u.map(Fl);return[s,{stackedData:fz(t,c,n),graphicalItems:u}]}))},op=Y([gse,BH,Bl,h_],QL),eP=(t,e,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=e;if(r==null&&n!=="zAxis"){var o=pz(t,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},vse=Y([En],t=>t.allowDataOverflow),E_=t=>{var e;if(t==null||!("domain"in t))return WL;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ss(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:WL},T_=Y([En],E_),I_=Y([T_,vse],f_),yse=Y([op,hi,gn,I_],eP,{memoizeOptions:{resultEqualityCheck:ap}}),sp=t=>t.errorBars,xse=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>UH(n,r)),bg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},Eg=(t,e,n,r,a)=>{var i,o;if(n.length>0&&t.forEach(s=>{n.forEach(l=>{var u,c,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(h=>UH(a,h)),d=ut(s,(c=e.dataKey)!==null&&c!==void 0?c:l.dataKey),p=mse(s,d,f);if(p.length>=2){var m=Math.min(...p),y=Math.max(...p);(i==null||m<i)&&(i=m),(o==null||y>o)&&(o=y)}var v=kH(d);v!=null&&(i=i==null?v[0]:Math.min(i,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),e?.dataKey!=null&&t.forEach(s=>{var l=kH(ut(s,e.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Ve(i)&&Ve(o))return[i,o]},bse=Y([JL,En,pse,sp,gn],Eg,{memoizeOptions:{resultEqualityCheck:ap}});function Sse(t){var{value:e}=t;if(fr(e)||e instanceof Date)return e}var _se=(t,e,n)=>{var r=t.map(Sse).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&iT(r))?(0,jL.default)(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},tP=t=>t.referenceElements.dots,bc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Mse=Y([tP,gn,vc],bc),nP=t=>t.referenceElements.areas,Ase=Y([nP,gn,vc],bc),rP=t=>t.referenceElements.lines,wse=Y([rP,gn,vc],bc),aP=(t,e)=>{if(t!=null){var n=Ss(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Cse=Y(Mse,gn,aP),iP=(t,e)=>{if(t!=null){var n=Ss(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ese=Y([Ase,gn],iP);function Tse(t){var e;if(t.x!=null)return Ss([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ss(n)}function Ise(t){var e;if(t.y!=null)return Ss([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ss(n)}var oP=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Tse(r):Ise(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Lse=Y([wse,gn],oP),Pse=Y(Cse,Lse,Ese,(t,e,n)=>bg(t,n,e)),Tg=(t,e,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?bg(r,i,a):bg(i,a);return bH(e,u,t.allowDataOverflow)},Rse=Y([En,T_,I_,yse,bse,Pse,Qe,gn],Tg,{memoizeOptions:{resultEqualityCheck:ap}}),Ose=[0,1],Ig=(t,e,n,r,a,i,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=t,u=Pr(e,i);if(u&&s==null){var c;return(0,jL.default)(0,(c=n?.length)!==null&&c!==void 0?c:0)}return l==="category"?_se(r,t,u):a==="expand"?Ose:o}},sP=Y([En,Qe,JL,C_,Bl,gn,Rse],Ig);function Dse(t){return t in kl}var lP=(t,e,n)=>{if(t!=null){var{scale:r,type:a}=t;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var i="scale".concat(cs(r));return Dse(i)?i:"point"}}},_s=Y([En,ZL,rp],lP);function L_(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?qL(t.scale,n,r):qL(e,n,r)}var Lg=(t,e,n)=>{var r=E_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&mi(t))return BL(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&mi(t))return UL(t,e.tickCount,e.allowDecimals)}},uP=Y([sP,xc,_s],Lg),Pg=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&mi(e)&&Array.isArray(n)&&n.length>0){var a,i,o=e[0],s=(a=n[0])!==null&&a!==void 0?a:0,l=e[1],u=(i=n[n.length-1])!==null&&i!==void 0?i:0;return[Math.min(o,s),Math.max(l,u)]}return e},Nse=Y([En,sP,uP,gn],Pg),kse=Y(C_,En,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ss(t.map(f=>f.value))).sort((f,d)=>f-d),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/o}}),FH=Y(kse,Qe,p_,qt,(t,e,n,r,a)=>a,(t,e,n,r,a)=>{if(!Ve(t))return 0;var i=e==="vertical"?r.height:r.width;if(a==="gap")return t*i/2;if(a==="no-gap"){var o=Cn(n,t*i),s=t*i/2;return s-o-(s-o)/i*o}return 0}),Bse=(t,e,n)=>{var r=gi(t,e);return r==null||typeof r.padding!="string"?0:FH(t,"xAxis",e,n,r.padding)},Use=(t,e,n)=>{var r=vi(t,e);return r==null||typeof r.padding!="string"?0:FH(t,"yAxis",e,n,r.padding)},Fse=Y(gi,Bse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),zse=Y(vi,Use,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),Hse=Y([qt,Fse,$u,Rd,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[t.left+e.left,t.left+t.width-e.right]}),Vse=Y([qt,Qe,zse,$u,Rd,(t,e,n)=>n],(t,e,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),lp=(t,e,n,r)=>{var a;switch(e){case"xAxis":return Hse(t,n,r);case"yAxis":return Vse(t,n,r);case"zAxis":return(a=KL(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return VL(t);case"radiusAxis":return GL(t,n);default:return}},zH=Y([En,lp],mc),Gse=Y([_s,Nse],M_),Sc=Y([En,_s,Gse,zH],L_),lPe=Y([Mg,sp,gn],xse);function HH(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var P_=(t,e)=>e,R_=(t,e,n)=>n,qse=Y(Id,P_,R_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HH)),Wse=Y(Ld,P_,R_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(HH)),VH=(t,e)=>({width:t.width,height:e.height}),jse=(t,e)=>{var n=typeof e.width=="number"?e.width:Zu;return{width:n,height:t.height}},cP=Y(qt,gi,VH),Xse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Yse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Kse=Y(Or,qt,qse,P_,R_,(t,e,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=VH(e,s);o==null&&(o=Xse(e,r,t));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),Zse=Y(Rr,qt,Wse,P_,R_,(t,e,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=jse(e,s);o==null&&(o=Yse(e,r,t));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),$se=(t,e)=>{var n=gi(t,e);if(n!=null)return Kse(t,n.orientation,n.mirror)},GH=Y([qt,gi,$se,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),Jse=(t,e)=>{var n=vi(t,e);if(n!=null)return Zse(t,n.orientation,n.mirror)},qH=Y([qt,vi,Jse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),fP=Y(qt,vi,(t,e)=>{var n=typeof e.width=="number"?e.width:Zu;return{width:n,height:t.height}}),dP=(t,e,n)=>{switch(e){case"xAxis":return cP(t,n).width;case"yAxis":return fP(t,n).height;default:return}},pP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=Pr(t,r),l=e.map(u=>u.value);if(o&&s&&i==="category"&&a&&iT(l))return l}},hP=Y([Qe,C_,En,gn],pP),mP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=Pr(t,r);if(o&&(a==="number"||i!=="auto"))return e.map(s=>s.value)}},gP=Y([Qe,C_,xc,gn],mP),vP=Y([Qe,fse,_s,Sc,hP,gP,lp,uP,gn],(t,e,n,r,a,i,o,s,l)=>{if(e!=null){var u=Pr(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),Qse=(t,e,n,r,a,i,o,s,l)=>{if(!(e==null||r==null)){var u=Pr(t,l),{type:c,ticks:f,tickCount:d}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&i!=null&&i.length>=2?nn(i[0]-i[1])*2*m:m;var y=f||a;return y?y.map((v,h)=>{var g=o?o.indexOf(v):v,x=r.map(g);return Ve(x)?{index:h,coordinate:x+m,value:v,offset:m}:null}).filter(Sr):u&&s?s.map((v,h)=>{var g=r.map(v);return Ve(g)?{coordinate:g+m,value:v,index:h,offset:m}:null}).filter(Sr):r.ticks?r.ticks(d).map((v,h)=>{var g=r.map(v);return Ve(g)?{coordinate:g+m,value:v,index:h,offset:m}:null}).filter(Sr):r.domain().map((v,h)=>{var g=r.map(v);return Ve(g)?{coordinate:g+m,value:o?o[v]:v,index:h,offset:m}:null}).filter(Sr)}},O_=Y([Qe,xc,_s,Sc,uP,lp,hP,gP,gn],Qse),ele=(t,e,n,r,a,i,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var s=Pr(t,o),{tickCount:l}=e,u=0;return u=o==="angleAxis"&&r?.length>=2?nn(r[0]-r[1])*2*u:u,s&&i?i.map((c,f)=>{var d=n.map(c);return Ve(d)?{coordinate:d+u,value:c,index:f,offset:u}:null}).filter(Sr):n.ticks?n.ticks(l).map((c,f)=>{var d=n.map(c);return Ve(d)?{coordinate:d+u,value:c,index:f,offset:u}:null}).filter(Sr):n.domain().map((c,f)=>{var d=n.map(c);return Ve(d)?{coordinate:d+u,value:a?a[c]:c,index:f,offset:u}:null}).filter(Sr)}},Fa=Y([Qe,xc,Sc,lp,hP,gP,gn],ele),za=Y(En,Sc,(t,e)=>{if(!(t==null||e==null))return w_(w_({},t),{},{scale:e})}),tle=Y([En,_s,sP,zH],L_),uPe=Y((t,e,n)=>KL(t,n),tle,(t,e)=>{if(!(t==null||e==null))return w_(w_({},t),{},{scale:e})}),WH=Y([Qe,Id,Ld],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}});var yP=t=>t.options.defaultTooltipEventType,xP=t=>t.options.validateTooltipEventTypes;function bP(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function Rg(t,e){var n=yP(t),r=xP(t);return bP(e,n,r)}function jH(t){return ge(e=>Rg(e,t))}var D_=(t,e)=>{var n,r=Number(e);if(!(cr(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0};var XH=t=>t.tooltip.settings;var Ms={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nle={itemInteraction:{click:Ms,hover:Ms},axisInteraction:{click:Ms,hover:Ms},keyboardInteraction:Ms,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YH=$t({name:"tooltip",initialState:nle,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Gt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Lr(t).tooltipItemPayloads.indexOf(n);a>-1&&(t.tooltipItemPayloads[a]=r)},prepare:Gt()},removeTooltipEntrySettings:{reducer(t,e){var n=Lr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Gt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:KH,replaceTooltipEntrySettings:ZH,removeTooltipEntrySettings:$H,setTooltipSettingsState:JH,setActiveMouseOverItemIndex:N_,mouseLeaveItem:QH,mouseLeaveChart:k_,setActiveClickItemIndex:eV,setMouseOverAxisIndex:B_,setMouseClickAxisIndex:tV,setSyncInteraction:U_,setKeyboardInteraction:F_}=YH.actions,nV=YH.reducer;function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return(e=ale(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ale(t){var e=ile(t,"string");return typeof e=="symbol"?e:e+""}function ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ole(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function sle(t){return t.index!=null}var H_=(t,e,n,r)=>{if(e==null)return Ms;var a=ole(t,e,n);if(a==null)return Ms;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var i=t.settings.active===!0;if(sle(a)){if(i)return z_(z_({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return z_(z_({},Ms),{},{coordinate:a.coordinate})};function lle(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ule(t,e){var n=lle(t),r=e[0],a=e[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function cle(t,e,n){if(n==null||e==null)return!0;var r=ut(t,e);return r==null||!mi(n)?!0:ule(r,n)}var up=(t,e,n,r)=>{var a=t?.index;if(a==null)return null;var i=Number(a);if(!Ve(i))return a;var o=0,s=1/0;e.length>0&&(s=e.length-1);var l=Math.max(o,Math.min(i,s)),u=e[l];return u==null||cle(u,n,r)?String(l):null};var V_=(t,e,n,r,a,i,o)=>{if(i!=null){var s=o[0],l=s?.getPosition(i);if(l!=null)return l;var u=a?.[Number(i)];if(u)return n==="horizontal"?{x:u.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:u.coordinate}}};var G_=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=t.itemInteraction.hover.graphicalItemId:a=t.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=t.tooltipItemPayloads[0];return i!=null?[i]:[]}return t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})};var q_=t=>t.options.tooltipPayloadSearcher;var As=t=>t.tooltip;function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=ple(t,"string");return typeof e=="symbol"?e:e+""}function ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hle(t,e){return t??e}var W_=(t,e,n,r,a,i,o)=>{if(!(e==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,f=[];return t.reduce((d,p)=>{var m,{dataDefinedOnItem:y,settings:v}=p,h=hle(y,s),g=Array.isArray(h)?aS(h,u,c):h,x=(m=v?.dataKey)!==null&&m!==void 0?m:r,b=v?.nameKey,_;if(r&&Array.isArray(g)&&!Array.isArray(g[0])&&o==="axis"?_=xb(g,r,a):_=i(g,e,l,b),Array.isArray(_))_.forEach(A=>{var S=iV(iV({},v),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});d.push(TI({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:ut(A.payload,A.dataKey),name:A.name}))});else{var M;d.push(TI({tooltipEntrySettings:v,dataKey:x,payload:_,value:ut(_,x),name:(M=ut(_,b))!==null&&M!==void 0?M:v?.name}))}return d},f)}};var SP=Y([zn,ZL,rp],lP),mle=Y([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),gle=Y([Fn,zl],Sg),_c=Y([mle,zn,gle],_g,{memoizeOptions:{resultEqualityCheck:ip}}),vle=Y([_c],t=>t.filter(yc)),yle=Y([_c],Ag,{memoizeOptions:{resultEqualityCheck:ip}}),Gl=Y([yle,hi],wg),xle=Y([vle,hi,zn],__),_P=Y([Gl,zn,_c],Cg),oV=Y([zn],E_),ble=Y([zn],t=>t.allowDataOverflow),sV=Y([oV,ble],f_),Sle=Y([_c],t=>t.filter(yc)),_le=Y([xle,Sle,Bl,h_],QL),Mle=Y([_le,hi,Fn,sV],eP),Ale=Y([_c],$L),wle=Y([Gl,zn,Ale,sp,Fn],Eg,{memoizeOptions:{resultEqualityCheck:ap}}),Cle=Y([tP,Fn,zl],bc),Ele=Y([Cle,Fn],aP),Tle=Y([nP,Fn,zl],bc),Ile=Y([Tle,Fn],iP),Lle=Y([rP,Fn,zl],bc),Ple=Y([Lle,Fn],oP),Rle=Y([Ele,Ple,Ile],bg),Ole=Y([zn,oV,sV,Mle,wle,Rle,Qe,Fn],Tg),Mc=Y([zn,Qe,Gl,_P,Bl,Fn,Ole],Ig),Dle=Y([Mc,zn,SP],Lg),Nle=Y([zn,Mc,Dle,Fn],Pg),lV=t=>{var e=Fn(t),n=zl(t),r=!1;return lp(t,e,n,r)},MP=Y([zn,lV],mc),AP=Y([zn,SP,Nle,MP],L_),kle=Y([Qe,_P,zn,Fn],pP),Ble=Y([Qe,_P,zn,Fn],mP),Ule=(t,e,n,r,a,i,o,s)=>{if(e){var{type:l}=e,u=Pr(t,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return f=s==="angleAxis"&&a!=null&&a?.length>=2?nn(a[0]-a[1])*2*f:f,u&&o?o.map((d,p)=>{var m=r.map(d);return Ve(m)?{coordinate:m+f,value:d,index:p,offset:f}:null}).filter(Sr):r.domain().map((d,p)=>{var m=r.map(d);return Ve(m)?{coordinate:m+f,value:i?i[d]:d,index:p,offset:f}:null}).filter(Sr)}}},fa=Y([Qe,zn,SP,AP,lV,kle,Ble,Fn],Ule),wP=Y([yP,xP,XH],(t,e,n)=>bP(n.shared,t,e)),uV=t=>t.tooltip.settings.trigger,CP=t=>t.tooltip.settings.defaultIndex,Og=Y([As,wP,uV,CP],H_),yi=Y([Og,Gl,Vl,Mc],up),j_=Y([fa,yi],D_),cp=Y([Og],t=>{if(t)return t.dataKey}),cV=Y([Og],t=>{if(t)return t.graphicalItemId}),fV=Y([As,wP,uV,CP],G_),Fle=Y([Rr,Or,Qe,qt,fa,CP,fV],V_),EP=Y([Og,Fle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),TP=Y([Og],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),zle=Y([fV,yi,hi,Vl,j_,q_,wP],W_),dV=Y([zle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){Hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hle(t,e,n){return(e=Vle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=Gle(t,"string");return typeof e=="symbol"?e:e+""}function Gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qle=()=>ge(zn),mV=()=>{var t=qle(),e=ge(fa),n=ge(AP);return!t||!n?si(void 0,e):si(hV(hV({},t),{},{scale:n}),e)};var bV=ae(Fm());function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return(e=jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=Xle(t,"string");return typeof e=="symbol"?e:e+""}function Xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vV=(t,e,n,r)=>{var a=e.find(i=>i&&i.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},yV=(t,e,n,r)=>{var a=e.find(u=>u&&u.index===n);if(a){if(t==="centric"){var i=a.coordinate,{radius:o}=r;return fp(fp(fp({},r),ln(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return fp(fp(fp({},r),ln(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xV(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var IP=(t,e,n,r,a)=>{var i,o=(i=e?.length)!==null&&i!==void 0?i:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,f,d,p=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,m=(c=n[s])===null||c===void 0?void 0:c.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(d=n[s+1])===null||d===void 0?void 0:d.coordinate,v=void 0;if(!(p==null||m==null||y==null))if(nn(m-p)!==nn(y-m)){var h=[];if(nn(y-m)===nn(a[1]-a[0])){v=y;var g=m+a[1]-a[0];h[0]=Math.min(g,(g+p)/2),h[1]=Math.max(g,(g+p)/2)}else{v=p;var x=y+a[1]-a[0];h[0]=Math.min(m,(x+m)/2),h[1]=Math.max(m,(x+m)/2)}var b=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>b[0]&&t<=b[1]||t>=h[0]&&t<=h[1]){var _;return(_=n[s])===null||_===void 0?void 0:_.index}}else{var M=Math.min(p,y),A=Math.max(p,y);if(t>(M+m)/2&&t<=(A+m)/2){var S;return(S=n[s])===null||S===void 0?void 0:S.index}}}else if(e)for(var w=0;w<o;w++){var U=e[w];if(U!=null){var D=e[w+1],k=e[w-1];if(w===0&&D!=null&&t<=(U.coordinate+D.coordinate)/2||w===o-1&&k!=null&&t>(U.coordinate+k.coordinate)/2||w>0&&w<o-1&&k!=null&&D!=null&&t>(U.coordinate+k.coordinate)/2&&t<=(U.coordinate+D.coordinate)/2)return U.index}}return-1};var X_=()=>ge(rp),LP=(t,e)=>e,SV=(t,e,n)=>n,PP=(t,e,n,r)=>r,_V=Y(fa,t=>(0,bV.default)(t,e=>e.coordinate)),RP=Y([As,LP,SV,PP],H_),OP=Y([RP,Gl,Vl,Mc],up),MV=(t,e,n)=>{if(e!=null){var r=As(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},AV=Y([As,LP,SV,PP],G_),Dg=Y([Rr,Or,Qe,qt,fa,PP,AV],V_),wV=Y([RP,Dg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),DP=Y([fa,OP],D_),CV=Y([AV,OP,hi,Vl,DP,q_,LP],W_),EV=Y([RP,OP],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Yle=(t,e,n,r,a,i,o)=>{if(!(!t||!n||!r||!a)&&xV(t,o)){var s=hz(t,e),l=IP(s,i,a,n,r),u=vV(e,a,l,t);return{activeIndex:String(l),activeCoordinate:u}}},Kle=(t,e,n,r,a,i,o)=>{if(!(!t||!r||!a||!i||!n)){var s=N4(t,n);if(s){var l=mz(s,e),u=IP(l,o,i,r,a),c=yV(e,i,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},TV=(t,e,n,r,a,i,o,s)=>{if(!(!t||!e||!r||!a||!i))return e==="horizontal"||e==="vertical"?Yle(t,e,r,a,i,o,s):Kle(t,e,n,r,a,i,o)};var FV=ae(ce()),zV=ae(zp());var IV=Y(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),LV=Y(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(pt)),n=Array.from(new Set(e));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:OH}});function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function RV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){Zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zle(t,e,n){return(e=$le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Jle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qle={},eue={zIndexMap:Object.values(pt).reduce((t,e)=>RV(RV({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Qle)},tue=new Set(Object.values(pt));function nue(t){return tue.has(t)}var OV=$t({name:"zIndex",initialState:eue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Gt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!nue(n)&&delete t.zIndexMap[n])},prepare:Gt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:a}=e.payload;t.zIndexMap[n]?a?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Gt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Gt()}}}),{registerZIndexPortal:DV,unregisterZIndexPortal:NV,registerZIndexPortalElement:kV,unregisterZIndexPortalElement:BV}=OV.actions,UV=OV.reducer;function Qt(t){var{zIndex:e,children:n}=t,r=Oz(),a=r&&e!==void 0&&e!==0,i=It(),o=Je();(0,FV.useLayoutEffect)(()=>a?(o(DV({zIndex:e})),()=>{o(NV({zIndex:e}))}):Vr,[o,e,a]);var s=ge(l=>IV(l,e,i));return a?s?(0,zV.createPortal)(n,s):null:n}function NP(){return NP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NP.apply(null,arguments)}function HV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HV(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=iue(t,"string");return typeof e=="symbol"?e:e+""}function iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return(0,dp.isValidElement)(e)?(0,dp.cloneElement)(e,r):(0,dp.createElement)(n,r)}function sue(t){var e,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=t,f=n,d=r,p=a;if(!l||!f||c!=="ScatterChart"&&u!=="axis")return null;var m,y,v;if(c==="ScatterChart")m=f,y=t4,v=pt.cursorLine;else if(c==="BarChart")m=n4(s,f,i,o),y=MS,v=pt.cursorRectangle;else if(s==="radial"&&bb(f)){var{cx:h,cy:g,radius:x,startAngle:b,endAngle:_}=wS(f);m={cx:h,cy:g,startAngle:b,endAngle:_,innerRadius:x,outerRadius:x},y=ES,v=pt.cursorLine}else m={points:W4(s,f,i)},y=yo,v=pt.cursorLine;var M=typeof l=="object"&&"className"in l?l.className:void 0,A=Y_(Y_(Y_(Y_({stroke:"#ccc",pointerEvents:"none"},i),m),Pa(l)),{},{payload:d,payloadIndex:p,className:Fe("recharts-tooltip-cursor",M)});return K_.createElement(Qt,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:v},K_.createElement(oue,{cursor:l,cursorComp:y,cursorProps:A}))}function VV(t){var e=mV(),n=fS(),r=ua(),a=X_();return e==null||n==null||r==null||a==null?null:K_.createElement(sue,NP({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var Z_=ae(ce()),kP=(0,Z_.createContext)(null),GV=()=>(0,Z_.useContext)(kP);var kg=ae(ce());var jV=ae(WV(),1);var XV=jV.default;var pp=new XV;var J_="recharts.syncEvent.tooltip",UP="recharts.syncEvent.brush";var ql=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!cr(n))return t[n]}},cue={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},YV=$t({name:"options",initialState:cue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KV=YV.reducer,{createEventEmitter:ZV}=YV.actions;function $V(t){return t.tooltip.syncInteraction}var fue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JV=$t({name:"chartData",initialState:fue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:FP,setDataStartEndIndexes:QV,setComputedData:due}=JV.actions,eG=JV.reducer;var pue=["x","y"];function tG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tG(Object(n),!0).forEach(function(r){hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hue(t,e,n){return(e=mue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=gue(t,"string");return typeof e=="symbol"?e:e+""}function gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vue(t,e){if(t==null)return{};var n,r,a=yue(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xue(){var t=ge(m_),e=ge(g_),n=Je(),r=ge(zL),a=ge(fa),i=ua(),o=gs(),s=ge(l=>l.rootProps.className);(0,kg.useEffect)(()=>{if(t==null)return Vr;var l=(u,c,f)=>{if(e!==f&&t===u){if(r==="index"){var d;if(o&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:m,y}=p,v=vue(p,pue),{x:h,y:g,width:x,height:b}=c.payload.sourceViewBox,_=hp(hp({},v),{},{x:o.x+(x?(m-h)/x:0)*o.width,y:o.y+(b?(y-g)/b:0)*o.height});n(hp(hp({},c),{},{payload:hp(hp({},c.payload),{},{coordinate:_})}))}else n(c);return}if(a!=null){var M;if(typeof r=="function"){var A={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=r(a,A);M=a[S]}else r==="value"&&(M=a.find(C=>String(C.value)===c.payload.label));var{coordinate:w}=c.payload;if(M==null||c.payload.active===!1||w==null||o==null){n(U_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:D}=w,k=Math.min(U,o.x+o.width),z=Math.min(D,o.y+o.height),V={x:i==="horizontal"?M.coordinate:k,y:i==="horizontal"?z:M.coordinate},W=U_({active:c.payload.active,coordinate:V,dataKey:c.payload.dataKey,index:String(M.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(W)}}};return pp.on(J_,l),()=>{pp.off(J_,l)}},[s,n,e,t,r,a,i,o])}function bue(){var t=ge(m_),e=ge(g_),n=Je();(0,kg.useEffect)(()=>{if(t==null)return Vr;var r=(a,i,o)=>{e!==o&&t===a&&n(QV(i))};return pp.on(UP,r),()=>{pp.off(UP,r)}},[n,e,t])}function nG(){var t=Je();(0,kg.useEffect)(()=>{t(ZV())},[t]),xue(),bue()}function rG(t,e,n,r,a,i){var o=ge(p=>MV(p,t,e)),s=ge(g_),l=ge(m_),u=ge(zL),c=ge($V),f=c?.active,d=gs();(0,kg.useEffect)(()=>{if(!f&&l!=null&&s!=null){var p=U_({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:d,graphicalItemId:void 0});pp.emit(J_,l,p,s)}},[f,n,o,a,r,s,l,u,i,d])}function aG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aG(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ue(t){var e=Mue(t,"string");return typeof e=="symbol"?e:e+""}function Mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aue(t){return t.dataKey}function wue(t,e){return xi.isValidElement(t)?xi.cloneElement(t,e):typeof t=="function"?xi.createElement(t,e):xi.createElement(Hz,e)}var oG=[],Cue={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ws(t){var e,n,r=nt(t,Cue),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:f,payloadUniqBy:d,position:p,reverseDirection:m,useTranslate3d:y,wrapperStyle:v,cursor:h,shared:g,trigger:x,defaultIndex:b,portal:_,axisId:M}=r,A=Je(),S=typeof b=="number"?String(b):b;(0,sG.useEffect)(()=>{A(JH({shared:g,trigger:x,axisId:M,active:a,defaultIndex:S}))},[A,g,x,M,a,S]);var w=gs(),U=mS(),D=jH(g),{activeIndex:k,isActive:z}=(e=ge(Q=>EV(Q,D,x,S)))!==null&&e!==void 0?e:{},V=ge(Q=>CV(Q,D,x,S)),W=ge(Q=>DP(Q,D,x,S)),C=ge(Q=>wV(Q,D,x,S)),L=V,B=GV(),R=(n=a??z)!==null&&n!==void 0?n:!1,[T,P]=Rb([L,R]),H=D==="axis"?W:void 0;rG(D,x,C,H,k,R);var K=_??B;if(K==null||w==null||D==null)return null;var ee=L??oG;R||(ee=oG),u&&ee.length&&(ee=Cb(ee.filter(Q=>Q.value!=null&&(Q.hide!==!0||r.includeHidden)),d,Aue));var ne=ee.length>0,G=xi.createElement(hS,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:c,active:R,coordinate:C,hasPayload:ne,offset:f,position:p,reverseDirection:m,useTranslate3d:y,viewBox:w,wrapperStyle:v,lastBoundingBox:T,innerRef:P,hasPortalFromProps:!!_},wue(l,iG(iG({},r),{},{payload:ee,label:H,active:R,activeIndex:k,coordinate:C,accessibilityLayer:U})));return xi.createElement(xi.Fragment,null,(0,lG.createPortal)(G,K),R&&xi.createElement(VV,{cursor:h,tooltipEventType:D,coordinate:C,payload:ee,index:k}))}var wo=t=>null;wo.displayName="Cell";var HP=ae(ce()),tM=ae(ce());function Eue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Iue(t,"string");return typeof e=="symbol"?e:e+""}function Iue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q_=class{constructor(e){Eue(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}};function uG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uG(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Oue(t,"string");return typeof e=="symbol"?e:e+""}function Oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Due={cacheSize:2e3,enableCache:!0},pG=Lue({},Due),cG=new Q_(pG.cacheSize),Nue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fG="recharts_measurement_span";function kue(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",i=e.fontStyle||"",o=e.letterSpacing||"",s=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var dG=(t,e)=>{try{var n=document.getElementById(fG);n||(n=document.createElement("span"),n.setAttribute("id",fG),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Nue,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Ac=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||li.isSsr)return{width:0,height:0};if(!pG.enableCache)return dG(e,n);var r=kue(e,n),a=cG.get(r);if(a)return a;var i=dG(e,n);return cG.set(r,i),i};var vG;function Bue(t,e,n){return(e=Uue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mG=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Hue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vue={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gue=["cm","mm","pt","pc","in","Q","px"];function que(t){return Gue.includes(t)}var mp="NaN";function Wue(t,e){return t*Vue[e]}var Wl=class t{static parse(e){var n,[,r,a]=(n=Hue.exec(e))!==null&&n!==void 0?n:[];return r==null?t.NaN:new t(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,cr(e)&&(this.unit=""),n!==""&&!zue.test(n)&&(this.num=NaN,this.unit=""),que(n)&&(this.num=Wue(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new t(NaN,""):new t(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new t(NaN,""):new t(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return cr(this.num)}};vG=Wl;Bue(Wl,"NaN",new vG(NaN,""));function yG(t){if(t==null||t.includes(mp))return mp;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,i]=(n=hG.exec(e))!==null&&n!==void 0?n:[],o=Wl.parse(r??""),s=Wl.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return mp;e=e.replace(hG,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,f,d]=(u=mG.exec(e))!==null&&u!==void 0?u:[],p=Wl.parse(c??""),m=Wl.parse(d??""),y=f==="+"?p.add(m):p.subtract(m);if(y.isNaN())return mp;e=e.replace(mG,y.toString())}return e}var gG=/\(([^()]*)\)/;function jue(t){for(var e=t,n;(n=gG.exec(e))!=null;){var[,r]=n;e=e.replace(gG,yG(r))}return e}function Xue(t){var e=t.replace(/\s+/g,"");return e=jue(e),e=yG(e),e}function Yue(t){try{return Xue(t)}catch{return mp}}function eM(t){var e=Yue(t.slice(5,-1));return e===mp?"":e}var Kue=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Zue=["dx","dy","angle","className","breakAll"];function zP(){return zP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zP.apply(null,arguments)}function xG(t,e){if(t==null)return{};var n,r,a=$ue(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $ue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _G=/[ \f\n\r\t\v\u2028\u2029]+/,MG=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];xt(e)||(n?a=e.toString().split(""):a=e.toString().split(_G));var i=a.map(s=>({word:s,width:Ac(s,r).width})),o=n?0:Ac("\xA0",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function AG(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var wG=(t,e,n,r)=>t.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(e==null||r||l.width+s+n<Number(e)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),CG=t=>t.reduce((e,n)=>e.width>n.width?e:n),Jue="\u2026",bG=(t,e,n,r,a,i,o,s)=>{var l=t.slice(0,e),u=MG({breakAll:n,style:r,children:l+Jue});if(!u)return[!1,[]];var c=wG(u.wordsWithComputedWidth,i,o,s),f=c.length>a||CG(c).width>Number(i);return[f,c]},Que=(t,e,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=t,u=xe(i),c=String(o),f=wG(e,r,n,a);if(!u||a)return f;var d=f.length>i||CG(f).width>Number(r);if(!d)return f;for(var p=0,m=c.length-1,y=0,v;p<=m&&y<=c.length-1;){var h=Math.floor((p+m)/2),g=h-1,[x,b]=bG(c,g,l,s,i,r,n,a),[_]=bG(c,h,l,s,i,r,n,a);if(!x&&!_&&(p=h+1),x&&_&&(m=h-1),!x&&_){v=b;break}y++}return v||f},SG=t=>{var e=xt(t)?[]:t.toString().split(_G);return[{words:e,width:void 0}]},ece=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=t;if((e||n)&&!li.isSsr){var s,l,u=MG({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:c,spaceWidth:f}=u;s=c,l=f}else return SG(r);return Que({breakAll:i,children:r,maxLines:o,style:a},s,l,e,!!n)}return SG(r)},EG="#808080",tce={angle:0,breakAll:!1,capHeight:"0.71em",fill:EG,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wc=(0,tM.forwardRef)((t,e)=>{var n=nt(t,tce),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,f=xG(n,Kue),d=(0,tM.useMemo)(()=>ece({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:y,className:v,breakAll:h}=f,g=xG(f,Zue);if(!fr(r)||!fr(a)||d.length===0)return null;var x=Number(r)+(xe(p)?p:0),b=Number(a)+(xe(m)?m:0);if(!Ve(x)||!Ve(b))return null;var _;switch(c){case"start":_=eM("calc(".concat(o,")"));break;case"middle":_=eM("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:_=eM("calc(".concat(d.length-1," * -").concat(i,")"));break}var M=[],A=d[0];if(l&&A!=null){var S=A.width,{width:w}=f;M.push("scale(".concat(xe(w)&&xe(S)?w/S:1,")"))}return y&&M.push("rotate(".concat(y,", ").concat(x,", ").concat(b,")")),M.length&&(g.transform=M.join(" ")),HP.createElement("text",zP({},Ut(g),{ref:e,x,y:b,className:Fe("recharts-text",v),textAnchor:u,fill:s.includes("url")?EG:s}),d.map((U,D)=>{var k=U.words.join(h?"":" ");return HP.createElement("tspan",{x,dy:D===0?_:i,key:"".concat(k,"-").concat(D)},k)}))});wc.displayName="Text";var Ha=ae(ce()),pr=ae(ce());function TG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TG(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ace(t,"string");return typeof e=="symbol"?e:e+""}function ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IG=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:a,clamp:i}=t,{x:o,y:s,height:l,upperWidth:u,lowerWidth:c}=Xm(e),f=o,d=o+(u-c)/2,p=(f+d)/2,m=(u+c)/2,y=f+u/2,v=l>=0?1:-1,h=v*r,g=v>0?"end":"start",x=v>0?"start":"end",b=u>=0?1:-1,_=b*r,M=b>0?"end":"start",A=b>0?"start":"end",S=a;if(n==="top"){var w={x:f+u/2,y:s-h,horizontalAnchor:"middle",verticalAnchor:g};return i&&S&&(w.height=Math.max(s-S.y,0),w.width=u),w}if(n==="bottom"){var U={x:d+c/2,y:s+l+h,horizontalAnchor:"middle",verticalAnchor:x};return i&&S&&(U.height=Math.max(S.y+S.height-(s+l),0),U.width=c),U}if(n==="left"){var D={x:p-_,y:s+l/2,horizontalAnchor:M,verticalAnchor:"middle"};return i&&S&&(D.width=Math.max(D.x-S.x,0),D.height=l),D}if(n==="right"){var k={x:p+m+_,y:s+l/2,horizontalAnchor:A,verticalAnchor:"middle"};return i&&S&&(k.width=Math.max(S.x+S.width-k.x,0),k.height=l),k}var z=i&&S?{width:m,height:l}:{};return n==="insideLeft"?Co({x:p+_,y:s+l/2,horizontalAnchor:A,verticalAnchor:"middle"},z):n==="insideRight"?Co({x:p+m-_,y:s+l/2,horizontalAnchor:M,verticalAnchor:"middle"},z):n==="insideTop"?Co({x:f+u/2,y:s+h,horizontalAnchor:"middle",verticalAnchor:x},z):n==="insideBottom"?Co({x:d+c/2,y:s+l-h,horizontalAnchor:"middle",verticalAnchor:g},z):n==="insideTopLeft"?Co({x:f+_,y:s+h,horizontalAnchor:A,verticalAnchor:x},z):n==="insideTopRight"?Co({x:f+u-_,y:s+h,horizontalAnchor:M,verticalAnchor:x},z):n==="insideBottomLeft"?Co({x:d+_,y:s+l-h,horizontalAnchor:A,verticalAnchor:g},z):n==="insideBottomRight"?Co({x:d+c-_,y:s+l-h,horizontalAnchor:M,verticalAnchor:g},z):n&&typeof n=="object"&&(xe(n.x)||ls(n.x))&&(xe(n.y)||ls(n.y))?Co({x:o+Cn(n.x,m),y:s+Cn(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},z):Co({x:y,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)};var ice=["labelRef"],oce=["content"];function LG(t,e){if(t==null)return{};var n,r,a=sce(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function sce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PG(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(null,arguments)}var RG=(0,pr.createContext)(null),rM=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=t,l=(0,pr.useMemo)(()=>({x:e,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[e,n,r,a,i,o]);return Ha.createElement(RG.Provider,{value:l},s)},OG=()=>{var t=(0,pr.useContext)(RG),e=gs();return t||(e?Xm(e):void 0)},fce=(0,pr.createContext)(null);var dce=()=>{var t=(0,pr.useContext)(fce),e=ge(S_);return t||e},pce=t=>{var{value:e,formatter:n}=t,r=xt(t.children)?e:t.children;return typeof n=="function"?n(r):r},Ug=t=>t!=null&&typeof t=="function",hce=(t,e)=>{var n=nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},mce=(t,e,n,r,a)=>{var{offset:i,className:o}=t,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:f,endAngle:d,clockWise:p}=a,m=(u+c)/2,y=hce(f,d),v=y>=0?1:-1,h,g;switch(e){case"insideStart":h=f+v*i,g=p;break;case"insideEnd":h=d-v*i,g=!p;break;case"end":h=d+v*i,g=p;break;default:throw new Error("Unsupported position ".concat(e))}g=y<=0?g:!g;var x=ln(s,l,m,h),b=ln(s,l,m,h+(g?1:-1)*359),_="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(g?0:1,`,
    `).concat(b.x,",").concat(b.y),M=xt(t.id)?us("recharts-radial-line-"):t.id;return Ha.createElement("text",Es({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",o)}),Ha.createElement("defs",null,Ha.createElement("path",{id:M,d:_})),Ha.createElement("textPath",{xlinkHref:"#".concat(M)},n))},gce=(t,e,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=t,u=(s+l)/2;if(n==="outside"){var{x:c,y:f}=ln(r,a,o+e,u);return{x:c,y:f,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=(i+o)/2,{x:p,y:m}=ln(r,a,d,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},nM=t=>t!=null&&"cx"in t&&xe(t.cx),vce={angle:0,offset:5,zIndex:pt.label,position:"middle",textBreakAll:!1};function yce(t){if(!nM(t))return t;var{cx:e,cy:n,outerRadius:r}=t,a=r*2;return{x:e-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Cs(t){var e=nt(t,vce),{viewBox:n,parentViewBox:r,position:a,value:i,children:o,content:s,className:l="",textBreakAll:u,labelRef:c}=e,f=dce(),d=OG(),p=a==="center"?d:f??d,m,y,v;n==null?m=p:nM(n)?m=n:m=Xm(n);var h=yce(m);if(!m||xt(i)&&xt(o)&&!(0,pr.isValidElement)(s)&&typeof s!="function")return null;var g=Bg(Bg({},e),{},{viewBox:m});if((0,pr.isValidElement)(s)){var{labelRef:x}=g,b=LG(g,ice);return(0,pr.cloneElement)(s,b)}if(typeof s=="function"){var{content:_}=g,M=LG(g,oce);if(y=(0,pr.createElement)(s,M),(0,pr.isValidElement)(y))return y}else y=pce(e);var A=Ut(e);if(nM(m)){if(a==="insideStart"||a==="insideEnd"||a==="end")return mce(e,a,y,A,m);v=gce(m,e.offset,e.position)}else{if(!h)return null;var S=IG({viewBox:h,position:a,offset:e.offset,parentViewBox:nM(r)?void 0:r,clamp:!0});v=Bg(Bg({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return Ha.createElement(Qt,{zIndex:e.zIndex},Ha.createElement(wc,Es({ref:c,className:Fe("recharts-label",l)},A,v,{textAnchor:AG(A.textAnchor)?A.textAnchor:v.textAnchor,breakAll:u}),y))}Cs.displayName="Label";var xce=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?Ha.createElement(Cs,Es({key:"label-implicit"},r)):fr(t)?Ha.createElement(Cs,Es({key:"label-implicit",value:t},r)):(0,pr.isValidElement)(t)?t.type===Cs?(0,pr.cloneElement)(t,Bg({key:"label-implicit"},r)):Ha.createElement(Cs,Es({key:"label-implicit",content:t},r)):Ug(t)?Ha.createElement(Cs,Es({key:"label-implicit",content:t},r)):t&&typeof t=="object"?Ha.createElement(Cs,Es({},t,{key:"label-implicit"},r)):null};function aM(t){var{label:e,labelRef:n}=t,r=OG();return xce(e,r,n)||null}var Ts=ae(ce()),gp=ae(ce()),zG=ae(UG());var Cce=["valueAccessor"],Ece=["dataKey","clockWise","id","textBreakAll","zIndex"];function oM(){return oM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oM.apply(null,arguments)}function FG(t,e){if(t==null)return{};var n,r,a=Tce(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ice=t=>Array.isArray(t.value)?(0,zG.default)(t.value):t.value,HG=(0,gp.createContext)(void 0),vp=HG.Provider,VG=(0,gp.createContext)(void 0),GG=VG.Provider;function Lce(){return(0,gp.useContext)(HG)}function Pce(){return(0,gp.useContext)(VG)}function iM(t){var{valueAccessor:e=Ice}=t,n=FG(t,Cce),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=FG(n,Ece),u=Lce(),c=Pce(),f=u||c;return!f||!f.length?null:Ts.createElement(Qt,{zIndex:s??pt.label},Ts.createElement(Tt,{className:"recharts-label-list"},f.map((d,p)=>{var m,y=xt(r)?e(d,p):ut(d.payload,r),v=xt(i)?{}:{id:"".concat(i,"-").concat(p)};return Ts.createElement(Cs,oM({key:"label-".concat(p)},Ut(d),l,v,{fill:(m=n.fill)!==null&&m!==void 0?m:d.fill,parentViewBox:d.parentViewBox,value:y,textBreakAll:o,viewBox:d.viewBox,index:p,zIndex:0}))})))}iM.displayName="LabelList";function jl(t){var{label:e}=t;return e?e===!0?Ts.createElement(iM,{key:"labelList-implicit"}):Ts.isValidElement(e)||Ug(e)?Ts.createElement(iM,{key:"labelList-implicit",content:e}):typeof e=="object"?Ts.createElement(iM,oM({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var qG=ae(ce());function WP(){return WP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WP.apply(null,arguments)}var sM=t=>{var{cx:e,cy:n,r,className:a}=t,i=Fe("recharts-dot",a);return xe(e)&&xe(n)&&xe(r)?qG.createElement("circle",WP({},bn(t),_d(t),{className:i,cx:e,cy:n,r})):null};var jP=t=>t.graphicalItems.polarItems,Rce=Y([gn,vc],Sg),lM=Y([jP,En,Rce],_g),Oce=Y([lM],Ag),uM=Y([Oce,np],wg),Dce=Y([uM,En,lM],Cg),e2e=Y([uM,En,lM],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(a=>{var i,o=ut(r,(i=e.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:ut(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),WG=()=>{},Nce=Y([uM,En,lM,sp,gn],Eg),kce=Y([En,T_,I_,WG,Nce,WG,Qe,gn],Tg),jG=Y([En,Qe,uM,Dce,Bl,gn,kce],Ig),Bce=Y([jG,xc,_s],Lg),Uce=Y([En,jG,Bce,gn],Pg),t2e=Y([_s,Uce],M_);var Fce={radiusAxis:{},angleAxis:{}},XG=$t({name:"polarAxis",initialState:Fce,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:a2e,removeRadiusAxis:i2e,addAngleAxis:o2e,removeAngleAxis:s2e}=XG.actions,YG=XG.reducer;function cM(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var ct=ae(ce()),Yi=ae(ce()),B8=ae(Sd());function KG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KG(Object(n),!0).forEach(function(r){zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zce(t,e,n){return(e=Hce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t){var e=Vce(t,"string");return typeof e=="symbol"?e:e+""}function Vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gce=(t,e)=>e,XP=Y([jP,Gce],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),qce=[],YP=(t,e,n)=>n?.length===0?qce:n,$G=Y([np,XP,YP],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var a;if(e?.data!=null&&e.data.length>0?a=e.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>ZG(ZG({},e.presentationProps),i.props))),a!=null)return a}}),JG=Y([$G,XP,YP],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,a)=>{var i,o=ut(r,e.nameKey,e.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=e.fill,{value:Na(o,e.dataKey),color:s,payload:r,type:e.legendType}})}),QG=Y([$G,XP,YP,qt],(t,e,n,r)=>{if(!(e==null||t==null))return e8({offset:r,pieSettings:e,displayedData:t,cells:n})});var JP=ae(Sd()),o8=ae(ce()),s8=ae(r8());var a8=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",i8=null,$P=null,l8=t=>{if(t===i8&&Array.isArray($P))return $P;var e=[];return o8.Children.forEach(t,n=>{xt(n)||((0,s8.isFragment)(n)?e=e.concat(l8(n.props.children)):e.push(n))}),$P=e,i8=t,e};function Fg(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(a=>a8(a)):r=[a8(e)],l8(t).forEach(a=>{var i=(0,JP.default)(a,"type.displayName")||(0,JP.default)(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var yp=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;var Is=ae(ce()),Vg=ae(ce()),M8=ae(f8());var Hg=ae(ce()),Xi=ae(ce());var d8,p8,h8,m8,g8;function v8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function y8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(n),!0).forEach(function(r){Yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SM(){return SM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SM.apply(null,arguments)}function zg(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var x8=(t,e,n,r,a)=>{var i=n-r,o;return o=mn(d8||(d8=zg(["M ",",",""])),t,e),o+=mn(p8||(p8=zg(["L ",",",""])),t+n,e),o+=mn(h8||(h8=zg(["L ",",",""])),t+n-i/2,e+a),o+=mn(m8||(m8=zg(["L ",",",""])),t+n-i/2-r,e+a),o+=mn(g8||(g8=zg(["L ",","," Z"])),t,e),o},$ce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},b8=t=>{var e=nt(t,$ce),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=e,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:f}=e,d=(0,Xi.useRef)(null),[p,m]=(0,Xi.useState)(-1),y=(0,Xi.useRef)(a),v=(0,Xi.useRef)(i),h=(0,Xi.useRef)(o),g=(0,Xi.useRef)(n),x=(0,Xi.useRef)(r),b=ci(t,"trapezoid-");if((0,Xi.useEffect)(()=>{if(d.current&&d.current.getTotalLength)try{var V=d.current.getTotalLength();V&&m(V)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var _=Fe("recharts-trapezoid",s);if(!f)return Hg.createElement("g",null,Hg.createElement("path",SM({},Ut(e),{className:_,d:x8(n,r,a,i,o)})));var M=y.current,A=v.current,S=h.current,w=g.current,U=x.current,D="0px ".concat(p===-1?1:p,"px"),k="".concat(p,"px 0px"),z=vS(["strokeDasharray"],u,l);return Hg.createElement(ui,{animationId:b,key:b,canBegin:p>0,duration:u,easing:l,isActive:f,begin:c},V=>{var W=St(M,a,V),C=St(A,i,V),L=St(S,o,V),B=St(w,n,V),R=St(U,r,V);d.current&&(y.current=W,v.current=C,h.current=L,g.current=B,x.current=R);var T=V>0?{transition:z,strokeDasharray:k}:{strokeDasharray:D};return Hg.createElement("path",SM({},Ut(e),{className:_,d:x8(B,R,W,C,L),ref:d,style:y8(y8({},T),e.style)}))})};var Jce=["option","shapeType","activeClassName"];function Qce(t,e){if(t==null)return{};var n,r,a=efe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function efe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function afe(t,e){return _M(_M({},e),t)}function ife(t,e){return t==="symbols"}function _8(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return Is.createElement(MS,n);case"trapezoid":return Is.createElement(b8,n);case"sector":return Is.createElement(ES,n);case"symbols":if(ife(e,n))return Is.createElement(Dm,n);break;case"curve":return Is.createElement(yo,n);default:return null}}function ofe(t){return(0,Vg.isValidElement)(t)?t.props:t}function xp(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,a=Qce(t,Jce),i;if((0,Vg.isValidElement)(e))i=(0,Vg.cloneElement)(e,_M(_M({},a),ofe(e)));else if(typeof e=="function")i=e(a,a.index);else if((0,M8.default)(e)&&typeof e!="boolean"){var o=afe(e,a);i=Is.createElement(_8,{shapeType:n,elementProps:o})}else{var s=a;i=Is.createElement(_8,{shapeType:n,elementProps:s})}return a.isActive?Is.createElement(Tt,{className:r},i):i}var Gg=(t,e,n)=>{var r=Je();return(a,i)=>o=>{t?.(a,i,o),r(N_({activeIndex:String(i),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},qg=t=>{var e=Je();return(n,r)=>a=>{t?.(n,r,a),e(QH())}},Wg=(t,e,n)=>{var r=Je();return(a,i)=>o=>{t?.(a,i,o),r(eV({activeIndex:String(i),activeDataKey:e,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};var jg=ae(ce());function Xl(t){var{tooltipEntrySettings:e}=t,n=Je(),r=It(),a=(0,jg.useRef)(null);return(0,jg.useLayoutEffect)(()=>{r||(a.current===null?n(KH(e)):a.current!==e&&n(ZH({prev:a.current,next:e})),a.current=e)},[e,n,r]),(0,jg.useLayoutEffect)(()=>()=>{a.current&&(n($H(a.current)),a.current=null)},[n]),null}var Yl=ae(ce());function bp(t){var{legendPayload:e}=t,n=Je(),r=It(),a=(0,Yl.useRef)(null);return(0,Yl.useLayoutEffect)(()=>{r||(a.current===null?n(kI(e)):a.current!==e&&n(BI({prev:a.current,next:e})),a.current=e)},[n,r,e]),(0,Yl.useLayoutEffect)(()=>()=>{a.current&&(n(UI(a.current)),a.current=null)},[n]),null}function A8(t){var{legendPayload:e}=t,n=Je(),r=ge(Qe),a=(0,Yl.useRef)(null);return(0,Yl.useLayoutEffect)(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(kI(e)):a.current!==e&&n(BI({prev:a.current,next:e})),a.current=e)},[n,r,e]),(0,Yl.useLayoutEffect)(()=>()=>{a.current&&(n(UI(a.current)),a.current=null)},[n]),null}var E8=ae(ce()),tR=ae(ce());var MM=ae(ce());var eR,sfe=()=>{var[t]=MM.useState(()=>us("uid-"));return t},w8=(eR=MM.useId)!==null&&eR!==void 0?eR:sfe;function C8(t,e){var n=w8();return e||(t?"".concat(t,"-").concat(n):n)}var lfe=(0,tR.createContext)(void 0),Kl=t=>{var{id:e,type:n,children:r}=t,a=C8("recharts-".concat(n),e);return E8.createElement(lfe.Provider,{value:a},r(a))};var Zl=ae(ce());var ufe={cartesianItems:[],polarItems:[]},T8=$t({name:"graphicalItems",initialState:ufe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Gt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,a=Lr(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},prepare:Gt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Lr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Gt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Gt()},removePolarGraphicalItem:{reducer(t,e){var n=Lr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Gt()}}}),{addCartesianGraphicalItem:I8,replaceCartesianGraphicalItem:L8,removeCartesianGraphicalItem:P8,addPolarGraphicalItem:R8,removePolarGraphicalItem:O8}=T8.actions,D8=T8.reducer;var cfe=t=>{var e=Je(),n=(0,Zl.useRef)(null);return(0,Zl.useLayoutEffect)(()=>{n.current===null?e(I8(t)):n.current!==t&&e(L8({prev:n.current,next:t})),n.current=t},[e,t]),(0,Zl.useLayoutEffect)(()=>()=>{n.current&&(e(P8(n.current)),n.current=null)},[e]),null},Sp=(0,Zl.memo)(cfe);function N8(t){var e=Je();return(0,Zl.useLayoutEffect)(()=>(e(R8(t)),()=>{e(O8(t))}),[e,t]),null}var ffe=["key"],dfe=["onMouseEnter","onClick","onMouseLeave"],pfe=["id"],hfe=["id"];function k8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(n),!0).forEach(function(r){mfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mfe(t,e,n){return(e=gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$l.apply(null,arguments)}function AM(t,e){if(t==null)return{};var n,r,a=yfe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xfe(t){var e=(0,Yi.useMemo)(()=>Fg(t.children,wo),[t.children]),n=ge(r=>JG(r,t.id,e));return n==null?null:ct.createElement(A8,{legendPayload:n})}var bfe=ct.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:c}=t,f={dataDefinedOnItem:r.map(d=>d.tooltipPayload),getPosition:d=>{var p;return(p=r[Number(d)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:a,strokeWidth:i,fill:o,dataKey:e,nameKey:n,name:Na(s,e),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return ct.createElement(Xl,{tooltipEntrySettings:f})}),Sfe=(t,e)=>t>e?"start":t<e?"end":"middle",_fe=(t,e,n)=>typeof e=="function"?Cn(e(t),n,n*.8):Cn(e,n,n*.8),Mfe=(t,e,n)=>{var{top:r,left:a,width:i,height:o}=e,s=AS(i,o),l=a+Cn(t.cx,i,i/2),u=r+Cn(t.cy,o,o/2),c=Cn(t.innerRadius,s,0),f=_fe(n,t.outerRadius,s),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:f,maxRadius:d}},Afe=(t,e)=>{var n=nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wfe=(t,e)=>{if(ct.isValidElement(t))return ct.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Fe("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,a=AM(e,ffe);return ct.createElement(yo,$l({},a,{type:"linear",className:n}))},Cfe=(t,e,n)=>{if(ct.isValidElement(t))return ct.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),ct.isValidElement(r)))return r;var a=Fe("recharts-pie-label-text",cM(t));return ct.createElement(wc,$l({},e,{alignmentBaseline:"middle",className:a}),r)};function Efe(t){var{sectors:e,props:n,showLabels:r}=t,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!e)return null;var s=bn(n),l=Pa(a),u=Pa(i),c=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=e.map((d,p)=>{var m=(d.startAngle+d.endAngle)/2,y=ln(d.cx,d.cy,d.outerRadius+c,m),v=Rn(Rn(Rn(Rn({},s),d),{},{stroke:"none"},l),{},{index:p,textAnchor:Sfe(y.x,d.cx)},y),h=Rn(Rn(Rn(Rn({},s),d),{},{fill:"none",stroke:d.fill},u),{},{index:p,points:[ln(d.cx,d.cy,d.outerRadius,m),y],key:"line"});return ct.createElement(Qt,{zIndex:pt.label,key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(p)},ct.createElement(Tt,null,i&&wfe(i,h),Cfe(a,v,ut(d,o))))});return ct.createElement(Tt,{className:"recharts-pie-labels"},f)}function Tfe(t){var{sectors:e,props:n,showLabels:r}=t,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?ct.createElement(jl,{label:a}):ct.createElement(Efe,{sectors:e,props:n,showLabels:r})}function Ife(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=t,s=ge(yi),l=ge(cp),u=ge(cV),{onMouseEnter:c,onClick:f,onMouseLeave:d}=a,p=AM(a,dfe),m=Gg(c,a.dataKey,o),y=qg(d),v=Wg(f,a.dataKey,o);return e==null||e.length===0?null:ct.createElement(ct.Fragment,null,e.map((h,g)=>{if(h?.startAngle===0&&h?.endAngle===0&&e.length!==1)return null;var x=u==null||u===o,b=String(g)===s&&(l==null||a.dataKey===l)&&x,_=s?r:null,M=n&&b?n:_,A=Rn(Rn({},h),{},{stroke:h.stroke,tabIndex:-1,[sS]:g,[lS]:o});return ct.createElement(Tt,$l({key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},fs(p,h,g),{onMouseEnter:m(h,g),onMouseLeave:y(h,g),onClick:v(h,g)}),ct.createElement(xp,$l({option:i??M,index:g,shapeType:"sector",isActive:b},A)))}))}function e8(t){var e,{pieSettings:n,displayedData:r,cells:a,offset:i}=t,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:f}=n,d=Math.abs(n.minAngle),p=Afe(s,l),m=Math.abs(p),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,v=r.filter(M=>ut(M,u,0)!==0).length,h=(m>=360?v:v-1)*y,g=m-v*d-h,x=r.reduce((M,A)=>{var S=ut(A,u,0);return M+(xe(S)?S:0)},0),b;if(x>0){var _;b=r.map((M,A)=>{var S=ut(M,u,0),w=ut(M,c,A),U=Mfe(n,i,M),D=(xe(S)?S:0)/x,k,z=Rn(Rn({},M),a&&a[A]&&a[A].props);A?k=_.endAngle+nn(p)*y*(S!==0?1:0):k=s;var V=k+nn(p)*((S!==0?d:0)+D*g),W=(k+V)/2,C=(U.innerRadius+U.outerRadius)/2,L=[{name:w,value:S,payload:z,dataKey:u,type:f,graphicalItemId:n.id}],B=ln(U.cx,U.cy,C,W);return _=Rn(Rn(Rn(Rn({},n.presentationProps),{},{percent:D,cornerRadius:typeof o=="string"?parseFloat(o):o,name:w,tooltipPayload:L,midAngle:W,middleRadius:C,tooltipPosition:B},z),U),{},{value:S,dataKey:u,startAngle:k,endAngle:V,payload:z,paddingAngle:nn(p)*y}),_})}return b}function Lfe(t){var{showLabels:e,sectors:n,children:r}=t,a=(0,Yi.useMemo)(()=>!e||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,e]);return ct.createElement(GG,{value:e?a:void 0},r)}function Pfe(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:f,onAnimationEnd:d}=e,p=ci(e,"recharts-pie-"),m=n.current,[y,v]=(0,Yi.useState)(!1),h=(0,Yi.useCallback)(()=>{typeof d=="function"&&d(),v(!1)},[d]),g=(0,Yi.useCallback)(()=>{typeof f=="function"&&f(),v(!0)},[f]);return ct.createElement(Lfe,{showLabels:!y,sectors:a},ct.createElement(ui,{animationId:p,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:g,onAnimationEnd:h,key:p},x=>{var b,_=[],M=a&&a[0],A=(b=M?.startAngle)!==null&&b!==void 0?b:0;return a?.forEach((S,w)=>{var U=m&&m[w],D=w>0?(0,B8.default)(S,"paddingAngle",0):0;if(U){var k=St(U.endAngle-U.startAngle,S.endAngle-S.startAngle,x),z=Rn(Rn({},S),{},{startAngle:A+D,endAngle:A+k+D});_.push(z),A=z.endAngle}else{var{endAngle:V,startAngle:W}=S,C=St(0,V-W,x),L=Rn(Rn({},S),{},{startAngle:A+D,endAngle:A+C+D});_.push(L),A=L.endAngle}}),n.current=_,ct.createElement(Tt,null,ct.createElement(Ife,{sectors:_,activeShape:u,inactiveShape:c,allOtherPieProps:e,shape:e.shape,id:r}))}),ct.createElement(Tfe,{showLabels:!y,sectors:a,props:e}),e.children)}var Rfe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pt.area};function Ofe(t){var{id:e}=t,n=AM(t,pfe),{hide:r,className:a,rootTabIndex:i}=t,o=(0,Yi.useMemo)(()=>Fg(t.children,wo),[t.children]),s=ge(c=>QG(c,e,o)),l=(0,Yi.useRef)(null),u=Fe("recharts-pie",a);return r||s==null?(l.current=null,ct.createElement(Tt,{tabIndex:i,className:u})):ct.createElement(Qt,{zIndex:t.zIndex},ct.createElement(bfe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:s,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),ct.createElement(Tt,{tabIndex:i,className:u},ct.createElement(Pfe,{props:Rn(Rn({},n),{},{sectors:s}),previousSectorsRef:l,id:e})))}function wM(t){var e=nt(t,Rfe),{id:n}=e,r=AM(e,hfe),a=bn(r);return ct.createElement(Kl,{id:n,type:"pie"},i=>ct.createElement(ct.Fragment,null,ct.createElement(N8,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:e.maxRadius}),ct.createElement(xfe,$l({},r,{id:i})),ct.createElement(Ofe,$l({},r,{id:i}))))}wM.displayName="Pie";var Xg=ae(ce()),EM=ae(ce());var Dfe=["points"];function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){Nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nfe(t,e,n){return(e=kfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kfe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CM(){return CM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CM.apply(null,arguments)}function Ufe(t,e){if(t==null)return{};var n,r,a=Ffe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ffe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zfe(t){var{option:e,dotProps:n,className:r}=t;if((0,EM.isValidElement)(e))return(0,EM.cloneElement)(e,n);if(typeof e=="function")return e(n);var a=Fe(r,typeof e!="boolean"?e.className:""),i=n??{},{points:o}=i,s=Ufe(i,Dfe);return Xg.createElement(sM,CM({},s,{className:a}))}function Hfe(t,e){return t==null?!1:e?!0:t.length===1}function TM(t){var{points:e,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=pt.scatter}=t;if(!Hfe(e,n))return null;var c=yp(n),f=DB(n),d=e.map((m,y)=>{var v,h,g=nR(nR(nR({r:3},o),f),{},{index:y,cx:(v=m.x)!==null&&v!==void 0?v:void 0,cy:(h=m.y)!==null&&h!==void 0?h:void 0,dataKey:i,value:m.value,payload:m.payload,points:e});return Xg.createElement(zfe,{key:"dot-".concat(y),option:n,dotProps:g,className:a})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),Xg.createElement(Qt,{zIndex:u},Xg.createElement(Tt,CM({className:r},p),d))}var Yg=ae(ce()),IM=ae(ce());function F8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=qfe(t,"string");return typeof e=="symbol"?e:e+""}function qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rR=0,Wfe={xAxis:{},yAxis:{},zAxis:{}},H8=$t({name:"cartesianAxis",initialState:Wfe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Gt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Gt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Gt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Gt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Gt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Gt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Gt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Gt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Gt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,a=t.yAxis[n];if(a){var i,o=a.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==a.width&&Math.abs(r-((i=o[0])!==null&&i!==void 0?i:0))<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=z8(z8({},a),{},{width:r,widthHistory:s})}}}}),{addXAxis:V8,replaceXAxis:G8,removeXAxis:q8,addYAxis:W8,replaceYAxis:j8,removeYAxis:X8,addZAxis:jNe,replaceZAxis:XNe,removeZAxis:YNe,updateYAxisWidth:Y8}=H8.actions,K8=H8.reducer;var Z8=Y([qt],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right}));var $8=Y([Z8,Rr,Or],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}});var Jl=()=>ge($8),J8=()=>ge(dV);function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){jfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kfe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=t;if(a===!1||e.x==null||e.y==null)return null;var s={index:n,dataKey:i,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=aR(aR(aR({},s),Pa(a)),_d(a)),u;return(0,IM.isValidElement)(a)?u=(0,IM.cloneElement)(a,l):typeof a=="function"?u=a(l):u=Yg.createElement(sM,l),Yg.createElement(Tt,{className:"recharts-active-dot",clipPath:o},u)};function Kg(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=pt.activeDot}=t,s=ge(yi),l=J8();if(e==null||l==null)return null;var u=e.find(c=>l.includes(c.payload));return xt(u)?null:Yg.createElement(Qt,{zIndex:o},Yg.createElement(Kfe,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var e6=(t,e,n)=>{var r=n??t;if(!xt(r))return Cn(r,e,0)},t6=(t,e,n)=>{var r={},a=t.filter(yc),i=t.filter(u=>u.stackId==null),o=a.reduce((u,c)=>{var f=u[c.stackId];return f==null&&(f=[]),f.push(c),u[c.stackId]=f,u},r),s=Object.entries(o).map(u=>{var c,[f,d]=u,p=d.map(y=>y.dataKey),m=e6(e,n,(c=d[0])===null||c===void 0?void 0:c.barSize);return{stackId:f,dataKeys:p,barSize:m}}),l=i.map(u=>{var c=[u.dataKey].filter(d=>d!=null),f=e6(e,n,u.barSize);return{stackId:void 0,dataKeys:c,barSize:f}});return[...s,...l]};function n6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qfe(t,e,n,r,a){var i,o=r.length;if(!(o<1)){var s=Cn(t,n,0,!0),l,u=[];if(Ve((i=r[0])===null||i===void 0?void 0:i.barSize)){var c=!1,f=n/o,d=r.reduce((g,x)=>g+(x.barSize||0),0);d+=(o-1)*s,d>=n&&(d-=(o-1)*s,s=0),d>=n&&f>0&&(c=!0,f*=.9,d=o*f);var p=(n-d)/2>>0,m={offset:p-s,size:0};l=r.reduce((g,x)=>{var b,_={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+s,size:c?f:(b=x.barSize)!==null&&b!==void 0?b:0}},M=[...g,_];return m=_.position,M},u)}else{var y=Cn(e,n,0,!0);n-2*y-(o-1)*s<=0&&(s=0);var v=(n-2*y-(o-1)*s)/o;v>1&&(v>>=0);var h=Ve(a)?Math.min(v,a):v;l=r.reduce((g,x,b)=>[...g,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:y+(v+s)*b+(v-h)/2,size:h}}],u)}return l}}var r6=(t,e,n,r,a,i,o)=>{var s=xt(o)?e:o,l=Qfe(n,r,a!==i?a:i,t,s);return a!==i&&l!=null&&(l=l.map(u=>LM(LM({},u),{},{position:LM(LM({},u.position),{},{offset:u.position.offset-a/2})}))),l};var a6=(t,e)=>{var n=Fl(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var a=t[r];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===n)}}}};var i6=(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}};function o6(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ve(t.zIndex)?t.zIndex:e}var s6=ae(ce());var PM=t=>{var{chartData:e}=t,n=Je(),r=It();return(0,s6.useEffect)(()=>r?()=>{}:(n(FP(e)),()=>{n(FP(void 0))}),[e,n,r]),null};var l6={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},u6=$t({name:"brush",initialState:l6,reducers:{setBrushSettings(t,e){return e.payload==null?l6:e.payload}}}),{setBrushSettings:D3e}=u6.actions,c6=u6.reducer;var Yr=ae(ce()),_6=ae(ce());var ede=(t,e)=>{var{x:n,y:r}=t,{x:a,y:i}=e;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},f6=t=>{var{x1:e,y1:n,x2:r,y2:a}=t;return ede({x:e,y:n},{x:r,y:a})};function tde(t){return(t%180+180)%180}var d6=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tde(a),o=i*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)};var nde={dots:[],areas:[],lines:[]},p6=$t({name:"referenceElements",initialState:nde,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Lr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Lr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Lr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:U3e,removeDot:F3e,addArea:z3e,removeArea:H3e,addLine:h6,removeLine:m6}=p6.actions,g6=p6.reducer;var Zg=ae(ce()),_p=ae(ce());var v6=(0,_p.createContext)(void 0),y6=t=>{var{children:e}=t,[n]=(0,_p.useState)("".concat(us("recharts"),"-clip")),r=Jl();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return Zg.createElement(v6.Provider,{value:n},Zg.createElement("defs",null,Zg.createElement("clipPath",{id:n},Zg.createElement("rect",{x:a,y:i,height:s,width:o}))),e)},x6=()=>(0,_p.useContext)(v6);var RM=class{constructor(e){var{x:n,y:r}=e;this.xAxisScale=n,this.yAxisScale=r}map(e,n){var r,a,{position:i}=n;return{x:(r=this.xAxisScale.map(e.x,{position:i}))!==null&&r!==void 0?r:0,y:(a=this.yAxisScale.map(e.y,{position:i}))!==null&&a!==void 0?a:0}}mapWithFallback(e,n){var r,a,{position:i,fallback:o}=n,s,l;return o==="rangeMin"?s=this.yAxisScale.rangeMin():o==="rangeMax"?s=this.yAxisScale.rangeMax():s=0,o==="rangeMin"?l=this.xAxisScale.rangeMin():o==="rangeMax"?l=this.xAxisScale.rangeMax():l=0,{x:(r=this.xAxisScale.map(e.x,{position:i}))!==null&&r!==void 0?r:l,y:(a=this.yAxisScale.map(e.y,{position:i}))!==null&&a!==void 0?a:s}}isInRange(e){var{x:n,y:r}=e,a=n==null||this.xAxisScale.isInRange(n),i=r==null||this.yAxisScale.isInRange(r);return a&&i}};function b6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function S6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(n),!0).forEach(function(r){rde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rde(t,e,n){return(e=ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=ide(t,"string");return typeof e=="symbol"?e:e+""}function ide(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OM(){return OM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OM.apply(null,arguments)}var ode=(t,e)=>{var n;if(Yr.isValidElement(t))n=Yr.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{if(!Ve(e.x1)||!Ve(e.y1)||!Ve(e.x2)||!Ve(e.y2))return null;n=Yr.createElement("line",OM({},e,{className:"recharts-reference-line-line"}))}return n},sde=(t,e,n,r,a,i)=>{var{x:o,width:s}=i,l=a.map(t,{position:n});if(!Ve(l)||e==="discard"&&!a.isInRange(l))return null;var u=[{x:o+s,y:l},{x:o,y:l}];return r==="left"?u.reverse():u},lde=(t,e,n,r,a,i)=>{var{y:o,height:s}=i,l=a.map(t,{position:n});if(!Ve(l)||e==="discard"&&!a.isInRange(l))return null;var u=[{x:l,y:o+s},{x:l,y:o}];return r==="top"?u.reverse():u},ude=(t,e,n,r)=>{var a=[r.mapWithFallback(t[0],{position:n,fallback:"rangeMin"}),r.mapWithFallback(t[1],{position:n,fallback:"rangeMax"})];return e==="discard"&&a.some(i=>!r.isInRange(i))?null:a},cde=(t,e,n,r,a,i,o)=>{var{x:s,y:l,segment:u,ifOverflow:c}=o,f=fr(s),d=fr(l);return d?sde(l,c,r,i,e,n):f?lde(s,c,r,a,t,n):u!=null&&u.length===2?ude(u,c,r,new RM({x:t,y:e})):null};function fde(t){var e=Je();return(0,_6.useEffect)(()=>(e(h6(t)),()=>{e(m6(t))})),null}function dde(t){var{xAxisId:e,yAxisId:n,shape:r,className:a,ifOverflow:i}=t,o=It(),s=x6(),l=ge(A=>gi(A,e)),u=ge(A=>vi(A,n)),c=ge(A=>Sc(A,"xAxis",e,o)),f=ge(A=>Sc(A,"yAxis",n,o)),d=gs();if(!s||!d||l==null||u==null||c==null||f==null)return null;var p=cde(c,f,d,t.position,l.orientation,u.orientation,t);if(!p)return null;var m=p[0],y=p[1];if(m==null||y==null)return null;var{x:v,y:h}=m,{x:g,y:x}=y,b=i==="hidden"?"url(#".concat(s,")"):void 0,_=S6(S6({clipPath:b},Ut(t)),{},{x1:v,y1:h,x2:g,y2:x}),M=f6({x1:v,y1:h,x2:g,y2:x});return Yr.createElement(Qt,{zIndex:t.zIndex},Yr.createElement(Tt,{className:Fe("recharts-reference-line",a)},ode(r,_),Yr.createElement(rM,OM({},M,{lowerWidth:M.width,upperWidth:M.width}),Yr.createElement(aM,{label:t.label}),t.children)))}var pde={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:pt.line};function Mp(t){var e=nt(t,pde);return Yr.createElement(Yr.Fragment,null,Yr.createElement(fde,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y,segment:e.segment}),Yr.createElement(dde,e))}Mp.displayName="ReferenceLine";var _n=ae(ce()),Si=ae(ce()),iR=ae(Sd());function DM(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var a=t[r];a!==void 0&&n.push(a)}return n}function M6(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return d6(r,n)}function A6(t,e,n){var r=n==="width",{x:a,y:i,width:o,height:s}=t;return e===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Cc(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function w6(t,e){return DM(t,e+1)}function C6(t,e,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=e,l=0,u=1,c=o,f=function(){var m=r?.[l];if(m===void 0)return{v:DM(r,u)};var y=l,v,h=()=>(v===void 0&&(v=n(m,y)),v),g=m.coordinate,x=l===0||Cc(t,g,h,c,s);x||(l=0,c=o,u+=1),x&&(c=g+t*(h()/2+a),l+=u)},d;u<=i.length;)if(d=f(),d)return d.v;return[]}function E6(t,e,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=e,u=1;u<=o;u++){for(var c=(o-1)%u,f=s,d=!0,p=function(){var b=r[y];if(b==null)return 0;var _=y,M,A=()=>(M===void 0&&(M=n(b,_)),M),S=b.coordinate,w=y===c||Cc(t,S,A,f,l);if(!w)return d=!1,1;w&&(f=S+t*(A()/2+a))},m,y=c;y<o&&(m=p(),!(m!==0&&m===1));y+=u);if(d){for(var v=[],h=c;h<o;h+=u){var g=r[h];g!=null&&v.push(g)}return v}}return[]}function T6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T6(Object(n),!0).forEach(function(r){hde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e,n){return(e=mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mde(t){var e=gde(t,"string");return typeof e=="symbol"?e:e+""}function gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vde(t,e,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=e,{end:l}=e,u=function(d){var p=i[d];if(p==null)return 1;var m=p,y,v=()=>(y===void 0&&(y=n(p,d)),y);if(d===o-1){var h=t*(m.coordinate+t*v()/2-l);i[d]=m=Nr(Nr({},m),{},{tickCoord:h>0?m.coordinate-h*t:m.coordinate})}else i[d]=m=Nr(Nr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var g=Cc(t,m.tickCoord,v,s,l);g&&(l=m.tickCoord-t*(v()/2+a),i[d]=Nr(Nr({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return i}function yde(t,e,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=e;if(i){var c=r[s-1];if(c!=null){var f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);if(o[s-1]=c=Nr(Nr({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate}),c.tickCoord!=null){var p=Cc(t,c.tickCoord,()=>f,l,u);p&&(u=c.tickCoord-t*(f/2+a),o[s-1]=Nr(Nr({},c),{},{isShow:!0}))}}}for(var m=i?s-1:s,y=function(g){var x=o[g];if(x==null)return 1;var b=x,_,M=()=>(_===void 0&&(_=n(x,g)),_);if(g===0){var A=t*(b.coordinate-t*M()/2-l);o[g]=b=Nr(Nr({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else o[g]=b=Nr(Nr({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var S=Cc(t,b.tickCoord,M,l,u);S&&(l=b.tickCoord+t*(M()/2+a),o[g]=Nr(Nr({},b),{},{isShow:!0}))}},v=0;v<m;v++)y(v);return o}function $g(t,e,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:f}=t;if(!a||!a.length||!r)return[];if(xe(l)||li.isSsr){var d;return(d=w6(a,xe(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",y=c&&m==="width"?Ac(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=(_,M)=>{var A=typeof u=="function"?u(_.value,M):_.value;return m==="width"?M6(Ac(A,{fontSize:e,letterSpacing:n}),y,f):Ac(A,{fontSize:e,letterSpacing:n})[m]},h=a[0],g=a[1],x=a.length>=2&&h!=null&&g!=null?nn(g.coordinate-h.coordinate):1,b=A6(i,x,m);return l==="equidistantPreserveStart"?C6(x,b,v,a,o):l==="equidistantPreserveEnd"?E6(x,b,v,a,o):(l==="preserveStart"||l==="preserveStartEnd"?p=yde(x,b,v,a,o,l==="preserveStartEnd"):p=vde(x,b,v,a,o),p.filter(_=>_.isShow))}var I6=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=t,o=0;if(e){Array.from(e).forEach(c=>{if(c){var f=c.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0};var xde=["axisLine","width","height","className","hide","ticks","axisType"];function bde(t,e){if(t==null)return{};var n,r,a=Sde(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Sde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(null,arguments)}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=Mde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=Ade(t,"string");return typeof e=="symbol"?e:e+""}function Ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _i={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pt.axis};function wde(t){var{x:e,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=t;if(!s)return null;var u=On(On(On({},l),bn(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var c=+(i==="top"&&!o||i==="bottom"&&o);u=On(On({},u),{},{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=On(On({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+a})}return _n.createElement("line",Ec({},u,{className:Fe("recharts-cartesian-axis-line",(0,iR.default)(s,"className"))}))}function Cde(t,e,n,r,a,i,o,s,l){var u,c,f,d,p,m,y=s?-1:1,v=t.tickSize||o,h=xe(t.tickCoord)?t.tickCoord:t.coordinate;switch(i){case"top":u=c=t.coordinate,d=n+ +!s*a,f=d-y*v,m=f-y*l,p=h;break;case"left":f=d=t.coordinate,c=e+ +!s*r,u=c-y*v,p=u-y*l,m=h;break;case"right":f=d=t.coordinate,c=e+ +s*r,u=c+y*v,p=u+y*l,m=h;break;default:u=c=t.coordinate,d=n+ +s*a,f=d+y*v,m=f+y*l,p=h;break}return{line:{x1:u,y1:f,x2:c,y2:d},tick:{x:p,y:m}}}function Ede(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Tde(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Ide(t){var{option:e,tickProps:n,value:r}=t,a,i=Fe(n.className,"recharts-cartesian-axis-tick-value");if(_n.isValidElement(e))a=_n.cloneElement(e,On(On({},n),{},{className:i}));else if(typeof e=="function")a=e(On(On({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Fe(o,cM(e))),a=_n.createElement(wc,Ec({},n,{className:o}),r)}return a}var Lde=(0,Si.forwardRef)((t,e)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:f,x:d,y:p,width:m,height:y,tickSize:v,tickMargin:h,fontSize:g,letterSpacing:x,getTicksConfig:b,events:_,axisType:M}=t,A=$g(On(On({},b),{},{ticks:n}),g,x),S=Ede(c,f),w=Tde(c,f),U=bn(b),D=Pa(r),k={};typeof a=="object"&&(k=a);var z=On(On({},U),{},{fill:"none"},k),V=A.map(L=>On({entry:L},Cde(L,d,p,m,y,c,v,f,h))),W=V.map(L=>{var{entry:B,line:R}=L;return _n.createElement(Tt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&_n.createElement("line",Ec({},z,R,{className:Fe("recharts-cartesian-axis-tick-line",(0,iR.default)(a,"className"))})))}),C=V.map((L,B)=>{var R,T,{entry:P,tick:H}=L,K=On(On(On(On({verticalAnchor:w},U),{},{textAnchor:S,stroke:"none",fill:i},H),{},{index:B,payload:P,visibleTicksCount:A.length,tickFormatter:o,padding:l},u),{},{angle:(R=(T=u?.angle)!==null&&T!==void 0?T:U.angle)!==null&&R!==void 0?R:0}),ee=On(On({},K),D);return _n.createElement(Tt,Ec({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},fs(_,P,B)),r&&_n.createElement(Ide,{option:r,tickProps:ee,value:"".concat(typeof o=="function"?o(P.value,B):P.value).concat(s||"")}))});return _n.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},C.length>0&&_n.createElement(Qt,{zIndex:pt.label},_n.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:e},C)),W.length>0&&_n.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},W))}),Pde=(0,Si.forwardRef)((t,e)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=t,u=bde(t,xde),[c,f]=(0,Si.useState)(""),[d,p]=(0,Si.useState)(""),m=(0,Si.useRef)(null);(0,Si.useImperativeHandle)(e,()=>({getCalculatedWidth:()=>{var v;return I6({ticks:m.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=(0,Si.useCallback)(v=>{if(v){var h=v.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=h;var g=h[0];if(g){var x=window.getComputedStyle(g),b=x.fontSize,_=x.letterSpacing;(b!==c||_!==d)&&(f(b),p(_))}}},[c,d]);return o||r!=null&&r<=0||a!=null&&a<=0?null:_n.createElement(Qt,{zIndex:t.zIndex},_n.createElement(Tt,{className:Fe("recharts-cartesian-axis",i)},_n.createElement(wde,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:bn(t)}),_n.createElement(Lde,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:t,height:t.height,letterSpacing:d,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:s,unit:t.unit,width:t.width,x:t.x,y:t.y}),_n.createElement(rM,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_n.createElement(aM,{label:t.label,labelRef:t.labelRef}),t.children)))}),Jg=_n.forwardRef((t,e)=>{var n=nt(t,_i);return _n.createElement(Pde,Ec({},n,{ref:e}))});Jg.displayName="CartesianAxis";var Dn=ae(ce());var Rde=["x1","y1","x2","y2","key"],Ode=["offset"],Dde=["xAxisId","yAxisId"],Nde=["xAxisId","yAxisId"];function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){kde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=Ude(t,"string");return typeof e=="symbol"?e:e+""}function Ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(null,arguments)}function NM(t,e){if(t==null)return{};var n,r,a=Fde(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zde=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=t;return Dn.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function R6(t){var{option:e,lineItemProps:n}=t,r;if(Dn.isValidElement(e))r=Dn.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,c=NM(n,Rde),f=(a=bn(c))!==null&&a!==void 0?a:{},{offset:d}=f,p=NM(f,Ode);r=Dn.createElement("line",Tc({},p,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Hde(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=t,s=NM(t,Dde),l=a.map((u,c)=>{var f=kr(kr({},s),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return Dn.createElement(R6,{key:"line-".concat(c),option:r,lineItemProps:f})});return Dn.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Vde(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=t,s=NM(t,Nde),l=a.map((u,c)=>{var f=kr(kr({},s),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return Dn.createElement(R6,{option:r,lineItemProps:f,key:"line-".concat(c)})});return Dn.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Gde(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=t;if(!l||!e||!e.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,d)=>f-d);a!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=u[d+1],m=p==null,y=m?a+o-f:p-f;if(y<=0)return null;var v=d%e.length;return Dn.createElement("rect",{key:"react-".concat(d),y:f,x:r,height:y,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Dn.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function qde(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,d)=>f-d);a!==u[0]&&u.unshift(0);var c=u.map((f,d)=>{var p=u[d+1],m=p==null,y=m?a+o-f:p-f;if(y<=0)return null;var v=d%n.length;return Dn.createElement("rect",{key:"react-".concat(d),x:f,y:i,width:y,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Dn.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Wde=(t,e)=>{var{xAxis:n,width:r,height:a,offset:i}=t;return MI($g(kr(kr(kr({},_i),n),{},{ticks:AI(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,e)},jde=(t,e)=>{var{yAxis:n,width:r,height:a,offset:i}=t;return MI($g(kr(kr(kr({},_i),n),{},{ticks:AI(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,e)},Xde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pt.grid};function Ls(t){var e=Dd(),n=Nd(),r=fS(),a=kr(kr({},nt(t,Xde)),{},{x:xe(t.x)?t.x:r.left,y:xe(t.y)?t.y:r.top,width:xe(t.width)?t.width:r.width,height:xe(t.height)?t.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:f,horizontalValues:d,verticalValues:p}=a,m=It(),y=ge(w=>vP(w,"xAxis",i,m)),v=ge(w=>vP(w,"yAxis",o,m));if(!la(u)||!la(c)||!xe(s)||!xe(l))return null;var h=a.verticalCoordinatesGenerator||Wde,g=a.horizontalCoordinatesGenerator||jde,{horizontalPoints:x,verticalPoints:b}=a;if((!x||!x.length)&&typeof g=="function"){var _=d&&d.length,M=g({yAxis:v?kr(kr({},v),{},{ticks:_?d:v.ticks}):void 0,width:e??u,height:n??c,offset:r},_?!0:f);Od(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(x=M)}if((!b||!b.length)&&typeof h=="function"){var A=p&&p.length,S=h({xAxis:y?kr(kr({},y),{},{ticks:A?p:y.ticks}):void 0,width:e??u,height:n??c,offset:r},A?!0:f);Od(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}return Dn.createElement(Qt,{zIndex:a.zIndex},Dn.createElement("g",{className:"recharts-cartesian-grid"},Dn.createElement(zde,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),Dn.createElement(Gde,Tc({},a,{horizontalPoints:x})),Dn.createElement(qde,Tc({},a,{verticalPoints:b})),Dn.createElement(Hde,Tc({},a,{offset:r,horizontalPoints:x,xAxis:y,yAxis:v})),Dn.createElement(Vde,Tc({},a,{offset:r,verticalPoints:b,xAxis:y,yAxis:v}))))}Ls.displayName="CartesianGrid";var At=ae(ce()),Kr=ae(ce());var N6=ae(ce()),Qg=ae(ce());var Yde={},O6=$t({name:"errorBars",initialState:Yde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:tBe,replaceErrorBar:nBe,removeErrorBar:rBe}=O6.actions,D6=O6.reducer;var Kde=["children"];function Zde(t,e){if(t==null)return{};var n,r,a=$de(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $de(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Jde={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Qde=(0,Qg.createContext)(Jde);function kM(t){var{children:e}=t,n=Zde(t,Kde);return N6.createElement(Qde.Provider,{value:n},e)}var oR=ae(ce());function Ic(t,e){var n,r,a=ge(u=>gi(u,t)),i=ge(u=>vi(u,e)),o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Xn.allowDataOverflow,s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Yn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Ap(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=Jl(),{needClipX:i,needClipY:o,needClip:s}=Ic(e,n);if(!s||!a)return null;var{x:l,y:u,width:c,height:f}=a;return oR.createElement("clipPath",{id:"clipPath-".concat(r)},oR.createElement("rect",{x:i?l:l-c/2,y:o?u:u-f/2,width:i?c:c*2,height:o?f:f*2}))}var k6=(t,e,n,r)=>za(t,"xAxis",e,r),B6=(t,e,n,r)=>Fa(t,"xAxis",e,r),U6=(t,e,n,r)=>za(t,"yAxis",n,r),F6=(t,e,n,r)=>Fa(t,"yAxis",n,r),epe=Y([Qe,k6,U6,B6,F6],(t,e,n,r,a)=>Pr(t,"xAxis")?si(e,r,!1):si(n,a,!1)),tpe=(t,e,n,r,a)=>a;function npe(t){return t.type==="line"}var rpe=Y([Hl,tpe],(t,e)=>t.filter(npe).find(n=>n.id===e)),z6=Y([Qe,k6,U6,B6,F6,rpe,epe,xg],(t,e,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(i==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:f,data:d}=i,p;if(d!=null&&d.length>0?p=d:p=l?.slice(u,c+1),p!=null)return H6({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:p})}});function BM(t){var e=Pa(t),n=3,r=2;if(e!=null){var{r:a,strokeWidth:i}=e,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}var Nn=ae(ce(),1),Ipe=ae(W6(),1);var fpe=Symbol.for("react.forward_ref");var dpe=Symbol.for("react.memo");var ppe=fpe,hpe=dpe;function mpe(t){t()}function gpe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mpe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var j6={notify(){},get:()=>[]};function vpe(t,e){let n,r=j6,a=0,i=!1;function o(y){c();let v=r.subscribe(y),h=!1;return()=>{h||(h=!0,v(),f())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return i}function c(){a++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=gpe())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=j6)}function d(){i||(i=!0,c())}function p(){i&&(i=!1,f())}let m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return m}var ype=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xpe=ype(),bpe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Spe=bpe(),_pe=()=>xpe||Spe?Nn.useLayoutEffect:Nn.useEffect,Mpe=_pe();function X6(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Y6(t,e){if(X6(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(e,n[a])||!X6(t[n[a]],e[n[a]]))return!1;return!0}var Ape={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SBe={[ppe]:Ape,[hpe]:wpe};var _Be=Object.prototype;var sR=Symbol.for("react-redux-context"),lR=typeof globalThis<"u"?globalThis:{};function Cpe(){if(!Nn.createContext)return{};let t=lR[sR]??(lR[sR]=new Map),e=t.get(Nn.createContext);return e||(e=Nn.createContext(null),t.set(Nn.createContext,e)),e}var Epe=Cpe();function Tpe(t){let{children:e,context:n,serverState:r,store:a}=t,i=Nn.useMemo(()=>{let l=vpe(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=Nn.useMemo(()=>a.getState(),[a]);return Mpe(()=>{let{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]),Nn.createElement((n||Epe).Provider,{value:i},e)}var K6=Tpe;var Lpe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ppe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Eo(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Lpe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Y6(t[r],e[r]))return!1}else if(!Ppe(t[r],e[r]))return!1;return!0}var Rpe=["id"],Ope=["type","layout","connectNulls","needClip","shape"],Dpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(null,arguments)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function To(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return(e=kpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kpe(t){var e=Bpe(t,"string");return typeof e=="symbol"?e:e+""}function Bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cR(t,e){if(t==null)return{};var n,r,a=Upe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:i}=t;return[{inactive:i,dataKey:e,type:a,color:r,value:Na(n,e),payload:t}]},zpe=At.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:c}=t,f={dataDefinedOnItem:n,getPosition:Vr,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:e,nameKey:void 0,name:Na(o,e),hide:s,type:u,color:r,unit:l,graphicalItemId:c}};return At.createElement(Xl,{tooltipEntrySettings:f})}),J6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Hpe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var Vpe=(t,e,n)=>{var r=n.reduce((p,m)=>p+m);if(!r)return J6(e,t);for(var a=Math.floor(t/r),i=t%r,o=e-t,s=[],l=0,u=0;l<n.length;u+=(c=n[l])!==null&&c!==void 0?c:0,++l){var c,f=n[l];if(f!=null&&u+f>i){s=[...n.slice(0,l),i-u];break}}var d=s.length%2===0?[0,o]:[o];return[...Hpe(n,a),...s,...d].map(p=>"".concat(p,"px")).join(", ")};function Gpe(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=cR(r,Rpe),u=bn(l);return At.createElement(TM,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:e})}function qpe(t){var{showLabels:e,children:n,points:r}=t,a=(0,Kr.useMemo)(()=>r?.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return At.createElement(vp,{value:e?a:void 0},n)}function $6(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:i}=t,{type:o,layout:s,connectNulls:l,needClip:u,shape:c}=i,f=cR(i,Ope),d=To(To({},Ut(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return At.createElement(At.Fragment,null,r?.length>1&&At.createElement(xp,tv({shapeType:"curve",option:c},d,{pathRef:n})),At.createElement(Gpe,{points:r,clipPathId:e,props:i}))}function Wpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function jpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=t,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,animateNewValues:d,width:p,height:m,onAnimationEnd:y,onAnimationStart:v}=n,h=a.current,g=ci(o,"recharts-line-"),x=(0,Kr.useRef)(g),[b,_]=(0,Kr.useState)(!1),M=!b,A=(0,Kr.useCallback)(()=>{typeof y=="function"&&y(),_(!1)},[y]),S=(0,Kr.useCallback)(()=>{typeof v=="function"&&v(),_(!0)},[v]),w=Wpe(r.current),U=(0,Kr.useRef)(0);x.current!==g&&(U.current=i.current,x.current=g);var D=U.current;return At.createElement(qpe,{points:o,showLabels:M},n.children,At.createElement(ui,{animationId:g,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:S,key:g},k=>{var z=St(D,w+D,k),V=Math.min(z,w),W;if(l)if(s){var C="".concat(s).split(/[,\s]+/gim).map(R=>parseFloat(R));W=Vpe(V,w,C)}else W=J6(w,V);else W=s==null?void 0:String(s);if(k>0&&w>0&&(a.current=o,i.current=Math.max(i.current,V)),h){var L=h.length/o.length,B=k===1?o:o.map((R,T)=>{var P=Math.floor(T*L);if(h[P]){var H=h[P];return To(To({},R),{},{x:St(H.x,R.x,k),y:St(H.y,R.y,k)})}return d?To(To({},R),{},{x:St(p*2,R.x,k),y:St(m/2,R.y,k)}):To(To({},R),{},{x:R.x,y:R.y})});return a.current=B,At.createElement($6,{props:n,points:B,clipPathId:e,pathRef:r,strokeDasharray:W})}return At.createElement($6,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:W})}),At.createElement(jl,{label:n.label}))}function Xpe(t){var{clipPathId:e,props:n}=t,r=(0,Kr.useRef)(null),a=(0,Kr.useRef)(0),i=(0,Kr.useRef)(null);return At.createElement(jpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Ype=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:ut(t.payload,e)}},uR=class extends Kr.Component{render(){var{hide:e,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:c,id:f,needClip:d,zIndex:p}=this.props;if(e)return null;var m=Fe("recharts-line",a),y=f,{r:v,strokeWidth:h}=BM(n),g=yp(n),x=v*2+h,b=d?"url(#clipPath-".concat(g?"":"dots-").concat(y,")"):void 0;return At.createElement(Qt,{zIndex:p},At.createElement(Tt,{className:m},d&&At.createElement("defs",null,At.createElement(Ap,{clipPathId:y,xAxisId:i,yAxisId:o}),!g&&At.createElement("clipPath",{id:"clipPath-dots-".concat(y)},At.createElement("rect",{x:l-x/2,y:s-x/2,width:u+x,height:c+x}))),At.createElement(kM,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Ype,errorBarOffset:0},At.createElement(Xpe,{props:this.props,clipPathId:y}))),At.createElement(Kg,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}},Q6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pt.line,type:"linear"};function Kpe(t){var e=nt(t,Q6),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:f,legendType:d,xAxisId:p,yAxisId:m,id:y}=e,v=cR(e,Dpe),{needClip:h}=Ic(p,m),g=Jl(),x=ua(),b=It(),_=ge(U=>z6(U,p,m,b,y));if(x!=="horizontal"&&x!=="vertical"||_==null||g==null)return null;var{height:M,width:A,x:S,y:w}=g;return At.createElement(uR,tv({},v,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:c,hide:u,label:f,legendType:d,xAxisId:p,yAxisId:m,points:_,layout:x,height:M,width:A,left:S,top:w,needClip:h}))}function H6(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=t;return l.map((u,c)=>{var f=ut(u,o);if(e==="horizontal"){var d=Td({axis:n,ticks:a,bandSize:s,entry:u,index:c}),p=xt(f)?null:r.scale.map(f);return{x:d,y:p??null,value:f,payload:u}}var m=xt(f)?null:n.scale.map(f),y=Td({axis:r,ticks:i,bandSize:s,entry:u,index:c});return m==null||y==null?null:{x:m,y,value:f,payload:u}}).filter(Boolean)}function Zpe(t){var e=nt(t,Q6),n=It();return At.createElement(Kl,{id:e.id,type:"line"},r=>At.createElement(At.Fragment,null,At.createElement(bp,{legendPayload:Fpe(e)}),At.createElement(zpe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),At.createElement(Sp,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),At.createElement(Kpe,tv({},e,{id:r}))))}var Lc=At.memo(Zpe,Eo);Lc.displayName="Line";var $e=ae(ce()),wi=ae(ce());function Mi(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:rR}function Ai(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(a=>a.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:rR}var eq=(t,e,n)=>za(t,"xAxis",Mi(t,e),n),tq=(t,e,n)=>Fa(t,"xAxis",Mi(t,e),n),nq=(t,e,n)=>za(t,"yAxis",Ai(t,e),n),rq=(t,e,n)=>Fa(t,"yAxis",Ai(t,e),n),$pe=Y([Qe,eq,nq,tq,rq],(t,e,n,r,a)=>Pr(t,"xAxis")?si(e,r,!1):si(n,a,!1)),Jpe=(t,e)=>e,aq=Y([Hl,Jpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),iq=t=>{var e=Qe(t),n=Pr(e,"xAxis");return n?"yAxis":"xAxis"},Qpe=(t,e)=>{var n=iq(t);return n==="yAxis"?Ai(t,e):Mi(t,e)},ehe=(t,e,n)=>op(t,iq(t),Qpe(t,e),n),the=Y([aq,ehe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,a=Fl(t);if(!(r==null||a==null)){var i=(n=e[r])===null||n===void 0?void 0:n.stackedData,o=i?.find(s=>s.key===a);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),oq=Y([Qe,eq,nq,tq,rq,the,c_,$pe,aq,EH],(t,e,n,r,a,i,o,s,l,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:d}=o;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||a==null||r.length===0||a.length===0||s==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=c?.slice(f,d+1),m!=null)return sq({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:i,displayedData:m,chartBaseValue:u,bandSize:s})}});var nhe=["id"],rhe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(null,arguments)}function cq(t,e){if(t==null)return{};var n,r,a=ahe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ahe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(n),!0).forEach(function(r){ihe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ihe(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=she(t,"string");return typeof e=="symbol"?e:e+""}function she(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UM(t,e){return t&&t!=="none"?t:e}var lhe=t=>{var{dataKey:e,name:n,stroke:r,fill:a,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:UM(r,a),value:Na(n,e),payload:t}]},uhe=$e.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:c}=t,f={dataDefinedOnItem:n,getPosition:Vr,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:e,nameKey:void 0,name:Na(o,e),hide:s,type:u,color:UM(r,i),unit:l,graphicalItemId:c}};return $e.createElement(Xl,{tooltipEntrySettings:f})});function che(t){var{clipPathId:e,points:n,props:r}=t,{needClip:a,dot:i,dataKey:o}=r,s=bn(r);return $e.createElement(TM,{points:n,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:a,clipPathId:e})}function fhe(t){var{showLabels:e,children:n,points:r}=t,a=r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wp(wp({},l),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return $e.createElement(vp,{value:e?a:void 0},n)}function uq(t){var{points:e,baseLine:n,needClip:r,clipPathId:a,props:i}=t,{layout:o,type:s,stroke:l,connectNulls:u,isRange:c}=i,{id:f}=i,d=cq(i,nhe),p=bn(d),m=Ut(d);return $e.createElement($e.Fragment,null,e?.length>1&&$e.createElement(Tt,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},$e.createElement(yo,Pc({},m,{id:f,points:e,connectNulls:u,type:s,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&$e.createElement(yo,Pc({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:e})),l!=="none"&&c&&$e.createElement(yo,Pc({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:n}))),$e.createElement(che,{points:e,props:d,clipPathId:a}))}function dhe(t){var e,n,{alpha:r,baseLine:a,points:i,strokeWidth:o}=t,s=(e=i[0])===null||e===void 0?void 0:e.y,l=(n=i[i.length-1])===null||n===void 0?void 0:n.y;if(!Ve(s)||!Ve(l))return null;var u=r*Math.abs(s-l),c=Math.max(...i.map(f=>f.x||0));return xe(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(f=>f.x||0),c)),xe(c)?$e.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function phe(t){var e,n,{alpha:r,baseLine:a,points:i,strokeWidth:o}=t,s=(e=i[0])===null||e===void 0?void 0:e.x,l=(n=i[i.length-1])===null||n===void 0?void 0:n.x;if(!Ve(s)||!Ve(l))return null;var u=r*Math.abs(s-l),c=Math.max(...i.map(f=>f.y||0));return xe(a)?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(...a.map(f=>f.y||0),c)),xe(c)?$e.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}function hhe(t){var{alpha:e,layout:n,points:r,baseLine:a,strokeWidth:i}=t;return n==="vertical"?$e.createElement(dhe,{alpha:e,points:r,baseLine:a,strokeWidth:i}):$e.createElement(phe,{alpha:e,points:r,baseLine:a,strokeWidth:i})}function mhe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:i}=t,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:f,onAnimationStart:d,onAnimationEnd:p}=r,m=(0,wi.useMemo)(()=>({points:o,baseLine:s}),[o,s]),y=ci(m,"recharts-area-"),v=kd(),[h,g]=(0,wi.useState)(!1),x=!h,b=(0,wi.useCallback)(()=>{typeof p=="function"&&p(),g(!1)},[p]),_=(0,wi.useCallback)(()=>{typeof d=="function"&&d(),g(!0)},[d]);if(v==null)return null;var M=a.current,A=i.current;return $e.createElement(fhe,{showLabels:x,points:o},r.children,$e.createElement(ui,{animationId:y,begin:u,duration:c,isActive:l,easing:f,onAnimationEnd:b,onAnimationStart:_,key:y},S=>{if(M){var w=M.length/o.length,U=S===1?o:o.map((k,z)=>{var V=Math.floor(z*w);if(M[V]){var W=M[V];return wp(wp({},k),{},{x:St(W.x,k.x,S),y:St(W.y,k.y,S)})}return k}),D;return xe(s)?D=St(A,s,S):xt(s)||cr(s)?D=St(A,0,S):D=s.map((k,z)=>{var V=Math.floor(z*w);if(Array.isArray(A)&&A[V]){var W=A[V];return wp(wp({},k),{},{x:St(W.x,k.x,S),y:St(W.y,k.y,S)})}return k}),S>0&&(a.current=U,i.current=D),$e.createElement(uq,{points:U,baseLine:D,needClip:e,clipPathId:n,props:r})}return S>0&&(a.current=o,i.current=s),$e.createElement(Tt,null,l&&$e.createElement("defs",null,$e.createElement("clipPath",{id:"animationClipPath-".concat(n)},$e.createElement(hhe,{alpha:S,points:o,baseLine:s,layout:v,strokeWidth:r.strokeWidth}))),$e.createElement(Tt,{clipPath:"url(#animationClipPath-".concat(n,")")},$e.createElement(uq,{points:o,baseLine:s,needClip:e,clipPathId:n,props:r})))}),$e.createElement(jl,{label:r.label}))}function ghe(t){var{needClip:e,clipPathId:n,props:r}=t,a=(0,wi.useRef)(null),i=(0,wi.useRef)();return $e.createElement(mhe,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:i})}var fR=class extends wi.PureComponent{render(){var{hide:e,dot:n,points:r,className:a,top:i,left:o,needClip:s,xAxisId:l,yAxisId:u,width:c,height:f,id:d,baseLine:p,zIndex:m}=this.props;if(e)return null;var y=Fe("recharts-area",a),v=d,{r:h,strokeWidth:g}=BM(n),x=yp(n),b=h*2+g,_=s?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return $e.createElement(Qt,{zIndex:m},$e.createElement(Tt,{className:y},s&&$e.createElement("defs",null,$e.createElement(Ap,{clipPathId:v,xAxisId:l,yAxisId:u}),!x&&$e.createElement("clipPath",{id:"clipPath-dots-".concat(v)},$e.createElement("rect",{x:o-b/2,y:i-b/2,width:c+b,height:f+b}))),$e.createElement(ghe,{needClip:s,clipPathId:v,props:this.props})),$e.createElement(Kg,{points:r,mainColor:UM(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}),this.props.isRange&&Array.isArray(p)&&$e.createElement(Kg,{points:p,mainColor:UM(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:_}))}},fq={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:pt.area};function vhe(t){var e,n=nt(t,fq),{activeDot:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:f,isAnimationActive:d,legendType:p,stroke:m,xAxisId:y,yAxisId:v}=n,h=cq(n,rhe),g=ua(),x=X_(),{needClip:b}=Ic(y,v),_=It(),{points:M,isRange:A,baseLine:S}=(e=ge(V=>oq(V,t.id,_)))!==null&&e!==void 0?e:{},w=Jl();if(g!=="horizontal"&&g!=="vertical"||w==null||x!=="AreaChart"&&x!=="ComposedChart")return null;var{height:U,width:D,x:k,y:z}=w;return!M||!M.length?null:$e.createElement(fR,Pc({},h,{activeDot:r,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:S,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:U,hide:f,layout:g,isAnimationActive:d==="auto"?!li.isSsr:d,isRange:A,legendType:p,needClip:b,points:M,stroke:m,width:D,left:k,top:z,xAxisId:y,yAxisId:v}))}var yhe=(t,e,n,r,a)=>{var i=n??e;if(xe(i))return i;var o=t==="horizontal"?a:r,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return i==="dataMin"?u:i==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return i==="dataMin"?s[0]:i==="dataMax"?s[1]:s[0]};function sq(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:a,layout:i,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:f,yAxisTicks:d,bandSize:p}=t,m=a&&a.length,y=yhe(i,o,n,s,l),v=i==="horizontal",h=!1,g=u.map((b,_)=>{var M,A,S,w;if(m)w=a[c+_];else{var U=ut(b,r);Array.isArray(U)?(w=U,h=!0):w=[y,U]}var D=(M=(A=w)===null||A===void 0?void 0:A[1])!==null&&M!==void 0?M:null,k=D==null||m&&!e&&ut(b,r)==null;if(v){var z;return{x:Td({axis:s,ticks:f,bandSize:p,entry:b,index:_}),y:k?null:(z=l.scale.map(D))!==null&&z!==void 0?z:null,value:w,payload:b}}return{x:k?null:(S=s.scale.map(D))!==null&&S!==void 0?S:null,y:Td({axis:l,ticks:d,bandSize:p,entry:b,index:_}),value:w,payload:b}}),x;return m||h?x=g.map(b=>{var _,M=Array.isArray(b.value)?b.value[0]:null;if(v){var A;return{x:b.x,y:M!=null&&b.y!=null&&(A=l.scale.map(M))!==null&&A!==void 0?A:null,payload:b.payload}}return{x:M!=null&&(_=s.scale.map(M))!==null&&_!==void 0?_:null,y:b.y,payload:b.payload}}):x=v?l.scale.map(y):s.scale.map(y),{points:g,baseLine:x??0,isRange:h}}function xhe(t){var e=nt(t,fq),n=It();return $e.createElement(Kl,{id:e.id,type:"area"},r=>$e.createElement($e.Fragment,null,$e.createElement(bp,{legendPayload:lhe(e)}),$e.createElement(uhe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),$e.createElement(Sp,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:iS(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),$e.createElement(vhe,Pc({},e,{id:r}))))}var Rc=$e.memo(xhe,Eo);Rc.displayName="Area";var ft=ae(ce()),Rs=ae(ce());var pq=ae(ce());var bhe=!0,dR="Invariant failed";function dq(t,e){if(!t){if(bhe)throw new Error(dR);var n=typeof e=="function"?e():e,r=n?"".concat(dR,": ").concat(n):dR;throw new Error(r)}}function pR(){return pR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pR.apply(null,arguments)}function nv(t){return pq.createElement(xp,pR({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var hq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(xe(e))return e;var i=xe(r)||xt(r);return i?e(r,a):(i||dq(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),n)}};var She=(t,e,n)=>n,_he=(t,e)=>e,rv=Y([Hl,_he],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Mhe=Y([rv],t=>t?.maxBarSize),Ahe=(t,e,n,r)=>r,whe=Y([Qe,Hl,Mi,Ai,She],(t,e,n,r,a)=>e.filter(i=>t==="horizontal"?i.xAxisId===n:i.yAxisId===r).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Che=(t,e,n)=>{var r=Qe(t),a=Mi(t,e),i=Ai(t,e);if(!(a==null||i==null))return r==="horizontal"?op(t,"yAxis",i,n):op(t,"xAxis",a,n)},Ehe=(t,e)=>{var n=Qe(t),r=Mi(t,e),a=Ai(t,e);if(!(r==null||a==null))return n==="horizontal"?dP(t,"xAxis",r):dP(t,"yAxis",a)},The=Y([whe,CH,Ehe],t6),Ihe=(t,e,n)=>{var r,a,i=rv(t,e);if(i==null)return 0;var o=Mi(t,e),s=Ai(t,e);if(o==null||s==null)return 0;var l=Qe(t),u=FL(t),{maxBarSize:c}=i,f=xt(c)?u:c,d,p;return l==="horizontal"?(d=za(t,"xAxis",o,n),p=Fa(t,"xAxis",o,n)):(d=za(t,"yAxis",s,n),p=Fa(t,"yAxis",s,n)),(r=(a=si(d,p,!0))!==null&&a!==void 0?a:f)!==null&&r!==void 0?r:0},mq=(t,e,n)=>{var r=Qe(t),a=Mi(t,e),i=Ai(t,e);if(!(a==null||i==null)){var o,s;return r==="horizontal"?(o=za(t,"xAxis",a,n),s=Fa(t,"xAxis",a,n)):(o=za(t,"yAxis",i,n),s=Fa(t,"yAxis",i,n)),si(o,s)}},Lhe=Y([The,FL,wH,p_,Ihe,mq,Mhe],r6),Phe=(t,e,n)=>{var r=Mi(t,e);if(r!=null)return za(t,"xAxis",r,n)},Rhe=(t,e,n)=>{var r=Ai(t,e);if(r!=null)return za(t,"yAxis",r,n)},Ohe=(t,e,n)=>{var r=Mi(t,e);if(r!=null)return Fa(t,"xAxis",r,n)},Dhe=(t,e,n)=>{var r=Ai(t,e);if(r!=null)return Fa(t,"yAxis",r,n)},Nhe=Y([Lhe,rv],i6),khe=Y([Che,rv],a6),gq=Y([qt,Pd,Phe,Rhe,Ohe,Dhe,Nhe,Qe,c_,mq,khe,rv,Ahe],(t,e,n,r,a,i,o,s,l,u,c,f,d)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:y}=l;if(!(f==null||o==null||e==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||a==null||i==null||u==null)){var{data:v}=f,h;if(v!=null&&v.length>0?h=v:h=p?.slice(m,y+1),h!=null)return vq({layout:s,barSettings:f,pos:o,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,stackedData:c,displayedData:h,offset:t,cells:d,dataStartIndex:m})}});var mR=ae(ce()),Cp=ae(ce());var Bhe=["index"];function hR(){return hR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hR.apply(null,arguments)}function Uhe(t,e){if(t==null)return{};var n,r,a=Fhe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yq=(0,Cp.createContext)(void 0),xq=t=>{var e=(0,Cp.useContext)(yq);if(e!=null)return e.stackId;if(t!=null)return iS(t)};var zhe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),Hhe=t=>{var e=(0,Cp.useContext)(yq);if(e!=null){var{stackId:n}=e;return"url(#".concat(zhe(n,t),")")}},gR=t=>{var{index:e}=t,n=Uhe(t,Bhe),r=Hhe(e);return mR.createElement(Tt,hR({className:"recharts-bar-stack-layer",clipPath:r},n))};var Vhe=["onMouseEnter","onMouseLeave","onClick"],Ghe=["value","background","tooltipPosition"],qhe=["id"],Whe=["onMouseEnter","onClick","onMouseLeave"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ps.apply(null,arguments)}function bq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=Xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Yhe(t,"string");return typeof e=="symbol"?e:e+""}function Yhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FM(t,e){if(t==null)return{};var n,r,a=Khe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Khe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zhe=t=>{var{dataKey:e,name:n,fill:r,legendType:a,hide:i}=t;return[{inactive:i,dataKey:e,type:a,color:r,value:Na(n,e),payload:t}]},$he=ft.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:a,name:i,hide:o,unit:s,tooltipType:l,id:u}=t,c={dataDefinedOnItem:void 0,getPosition:Vr,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:e,nameKey:void 0,name:Na(i,e),hide:o,type:l,color:a,unit:s,graphicalItemId:u}};return ft.createElement(Xl,{tooltipEntrySettings:c})});function Jhe(t){var e=ge(yi),{data:n,dataKey:r,background:a,allOtherBarProps:i}=t,{onMouseEnter:o,onMouseLeave:s,onClick:l}=i,u=FM(i,Vhe),c=Gg(o,r,i.id),f=qg(s),d=Wg(l,r,i.id);if(!a||n==null)return null;var p=Pa(a);return ft.createElement(Qt,{zIndex:o6(a,pt.barBackground)},n.map((m,y)=>{var{value:v,background:h,tooltipPosition:g}=m,x=FM(m,Ghe);if(!h)return null;var b=c(m,y),_=f(m,y),M=d(m,y),A=Zr(Zr(Zr(Zr(Zr({option:a,isActive:String(y)===e},x),{},{fill:"#eee"},h),p),fs(u,m,y)),{},{onMouseEnter:b,onMouseLeave:_,onClick:M,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return ft.createElement(nv,Ps({key:"background-bar-".concat(y)},A))}))}function Qhe(t){var{showLabels:e,children:n,rects:r}=t,a=r?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Zr(Zr({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return ft.createElement(vp,{value:e?a:void 0},n)}function eme(t){var{shape:e,activeBar:n,baseProps:r,entry:a,index:i,dataKey:o}=t,s=ge(yi),l=ge(cp),u=n&&String(i)===s&&(l==null||o===l),c=u?n:e;return u?ft.createElement(Qt,{zIndex:pt.activeBar},ft.createElement(gR,{index:i},ft.createElement(nv,Ps({},r,{name:String(r.name)},a,{isActive:u,option:c,index:i,dataKey:o})))):ft.createElement(nv,Ps({},r,{name:String(r.name)},a,{isActive:u,option:c,index:i,dataKey:o}))}function tme(t){var{shape:e,baseProps:n,entry:r,index:a,dataKey:i}=t;return ft.createElement(nv,Ps({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:a,dataKey:i}))}function nme(t){var e,{data:n,props:r}=t,a=(e=bn(r))!==null&&e!==void 0?e:{},{id:i}=a,o=FM(a,qhe),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:f,onMouseLeave:d}=r,p=FM(r,Whe),m=Gg(c,l,i),y=qg(d),v=Wg(f,l,i);return n?ft.createElement(ft.Fragment,null,n.map((h,g)=>ft.createElement(gR,Ps({index:g,key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g),className:"recharts-bar-rectangle"},fs(p,h,g),{onMouseEnter:m(h,g),onMouseLeave:y(h,g),onClick:v(h,g)}),u?ft.createElement(eme,{shape:s,activeBar:u,baseProps:o,entry:h,index:g,dataKey:l}):ft.createElement(tme,{shape:s,baseProps:o,entry:h,index:g,dataKey:l})))):null}function rme(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=e,f=n.current,d=ci(e,"recharts-bar-"),[p,m]=(0,Rs.useState)(!1),y=!p,v=(0,Rs.useCallback)(()=>{typeof u=="function"&&u(),m(!1)},[u]),h=(0,Rs.useCallback)(()=>{typeof c=="function"&&c(),m(!0)},[c]);return ft.createElement(Qhe,{showLabels:y,rects:r},ft.createElement(ui,{animationId:d,begin:o,duration:s,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:h,key:d},g=>{var x=g===1?r:r?.map((b,_)=>{var M=f&&f[_];if(M)return Zr(Zr({},b),{},{x:St(M.x,b.x,g),y:St(M.y,b.y,g),width:St(M.width,b.width,g),height:St(M.height,b.height,g)});if(a==="horizontal"){var A=St(0,b.height,g),S=St(b.stackedBarStart,b.y,g);return Zr(Zr({},b),{},{y:S,height:A})}var w=St(0,b.width,g),U=St(b.stackedBarStart,b.x,g);return Zr(Zr({},b),{},{width:w,x:U})});return g>0&&(n.current=x??null),x==null?null:ft.createElement(Tt,null,ft.createElement(nme,{props:e,data:x}))}),ft.createElement(jl,{label:e.label}),e.children)}function ame(t){var e=(0,Rs.useRef)(null);return ft.createElement(rme,{previousRectanglesRef:e,props:t})}var Sq=0,ime=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:ut(t,e)}},vR=class extends Rs.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:a,xAxisId:i,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(e||n==null)return null;var c=Fe("recharts-bar",a),f=u;return ft.createElement(Tt,{className:c,id:u},s&&ft.createElement("defs",null,ft.createElement(Ap,{clipPathId:f,xAxisId:i,yAxisId:o})),ft.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},ft.createElement(Jhe,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),ft.createElement(ame,this.props)))}},ome={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Sq,xAxisId:0,yAxisId:0,zIndex:pt.bar};function sme(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=t,{needClip:f}=Ic(e,n),d=ua(),p=It(),m=Fg(t.children,wo),y=ge(g=>gq(g,t.id,p,m));if(d!=="vertical"&&d!=="horizontal")return null;var v,h=y?.[0];return h==null||h.height==null||h.width==null?v=0:v=d==="vertical"?h.height/2:h.width/2,ft.createElement(kM,{xAxisId:e,yAxisId:n,data:y,dataPointFormatter:ime,errorBarOffset:v},ft.createElement(vR,Ps({},t,{layout:d,needClip:f,data:y,xAxisId:e,yAxisId:n,hide:r,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function vq(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:f,offset:d,cells:p,parentViewBox:m,dataStartIndex:y}=t,v=e==="horizontal"?s:o,h=c?v.scale.domain():null,g=dz({numericAxis:v}),x=v.scale.map(g);return f.map((b,_)=>{var M,A,S,w,U,D;if(c){var k=c[_+y];if(k==null)return null;M=cz(k,h)}else M=ut(b,n),Array.isArray(M)||(M=[g,M]);var z=hq(r,Sq)(M[1],_);if(e==="horizontal"){var V,W=s.scale.map(M[0]),C=s.scale.map(M[1]);if(W==null||C==null)return null;A=wI({axis:o,ticks:l,bandSize:i,offset:a.offset,entry:b,index:_}),S=(V=C??W)!==null&&V!==void 0?V:void 0,w=a.size;var L=W-C;if(U=cr(L)?0:L,D={x:A,y:d.top,width:w,height:d.height},Math.abs(z)>0&&Math.abs(U)<Math.abs(z)){var B=nn(U||z)*(Math.abs(z)-Math.abs(U));S-=B,U+=B}}else{var R=o.scale.map(M[0]),T=o.scale.map(M[1]);if(R==null||T==null)return null;if(A=R,S=wI({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:b,index:_}),w=T-R,U=a.size,D={x:d.left,y:S,width:d.width,height:U},Math.abs(z)>0&&Math.abs(w)<Math.abs(z)){var P=nn(w||z)*(Math.abs(z)-Math.abs(w));w+=P}}if(A==null||S==null||w==null||U==null)return null;var H=Zr(Zr({},b),{},{stackedBarStart:x,x:A,y:S,width:w,height:U,value:c?M:M[1],payload:b,background:D,tooltipPosition:{x:A+w/2,y:S+U/2},parentViewBox:m},p&&p[_]&&p[_].props);return H}).filter(Boolean)}function lme(t){var e=nt(t,ome),n=xq(e.stackId),r=It();return ft.createElement(Kl,{id:e.id,type:"bar"},a=>ft.createElement(ft.Fragment,null,ft.createElement(bp,{legendPayload:Zhe(e)}),ft.createElement($he,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:a}),ft.createElement(Sp,{type:"bar",id:a,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),ft.createElement(Qt,{zIndex:e.zIndex},ft.createElement(sme,Ps({},e,{id:a})))))}var zM=ft.memo(lme,Eo);zM.displayName="Bar";var Os=ae(ce()),Oc=ae(ce());var ume=["domain","range"],cme=["domain","range"];function _q(t,e){if(t==null)return{};var n,r,a=fme(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mq(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function HM(t,e){if(t===e)return!0;var{domain:n,range:r}=t,a=_q(t,ume),{domain:i,range:o}=e,s=_q(e,cme);return!Mq(n,i)||!Mq(r,o)?!1:Eo(a,s)}var dme=["type"],pme=["dangerouslySetInnerHTML","ticks","scale"],hme=["id","scale"];function yR(){return yR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yR.apply(null,arguments)}function Aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(n),!0).forEach(function(r){mme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=vme(t,"string");return typeof e=="symbol"?e:e+""}function vme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xR(t,e){if(t==null)return{};var n,r,a=yme(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xme(t){var e=Je(),n=(0,Oc.useRef)(null),r=kd(),{type:a}=t,i=xR(t,dme),o=gc(r,"xAxis",a),s=(0,Oc.useMemo)(()=>{if(o!=null)return wq(wq({},i),{},{type:o})},[i,o]);return(0,Oc.useLayoutEffect)(()=>{s!=null&&(n.current===null?e(V8(s)):n.current!==s&&e(G8({prev:n.current,next:s})),n.current=s)},[s,e]),(0,Oc.useLayoutEffect)(()=>()=>{n.current&&(e(q8(n.current)),n.current=null)},[e]),null}var bme=t=>{var{xAxisId:e,className:n}=t,r=ge(Pd),a=It(),i="xAxis",o=ge(h=>O_(h,i,e,a)),s=ge(h=>cP(h,e)),l=ge(h=>GH(h,e)),u=ge(h=>XL(h,e));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:f,scale:d}=t,p=xR(t,pme),{id:m,scale:y}=u,v=xR(u,hme);return Os.createElement(Jg,yR({},p,v,{x:l.x,y:l.y,width:s.width,height:s.height,className:Fe("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Sme={allowDataOverflow:Xn.allowDataOverflow,allowDecimals:Xn.allowDecimals,allowDuplicatedCategory:Xn.allowDuplicatedCategory,angle:Xn.angle,axisLine:_i.axisLine,height:Xn.height,hide:!1,includeHidden:Xn.includeHidden,interval:Xn.interval,label:!1,minTickGap:Xn.minTickGap,mirror:Xn.mirror,orientation:Xn.orientation,padding:Xn.padding,reversed:Xn.reversed,scale:Xn.scale,tick:Xn.tick,tickCount:Xn.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:Xn.type,xAxisId:0},_me=t=>{var e=nt(t,Sme);return Os.createElement(Os.Fragment,null,Os.createElement(xme,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),Os.createElement(bme,e))},Ds=Os.memo(_me,HM);Ds.displayName="XAxis";var Ns=ae(ce()),Ci=ae(ce());var Mme=["type"],Ame=["dangerouslySetInnerHTML","ticks","scale"],wme=["id","scale"];function bR(){return bR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bR.apply(null,arguments)}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(r){Cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cme(t,e,n){return(e=Eme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=Tme(t,"string");return typeof e=="symbol"?e:e+""}function Tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SR(t,e){if(t==null)return{};var n,r,a=Ime(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lme(t){var e=Je(),n=(0,Ci.useRef)(null),r=kd(),{type:a}=t,i=SR(t,Mme),o=gc(r,"yAxis",a),s=(0,Ci.useMemo)(()=>{if(o!=null)return Eq(Eq({},i),{},{type:o})},[o,i]);return(0,Ci.useLayoutEffect)(()=>{s!=null&&(n.current===null?e(W8(s)):n.current!==s&&e(j8({prev:n.current,next:s})),n.current=s)},[s,e]),(0,Ci.useLayoutEffect)(()=>()=>{n.current&&(e(X8(n.current)),n.current=null)},[e]),null}function Pme(t){var{yAxisId:e,className:n,width:r,label:a}=t,i=(0,Ci.useRef)(null),o=(0,Ci.useRef)(null),s=ge(Pd),l=It(),u=Je(),c="yAxis",f=ge(M=>fP(M,e)),d=ge(M=>qH(M,e)),p=ge(M=>O_(M,c,e,l)),m=ge(M=>YL(M,e));if((0,Ci.useLayoutEffect)(()=>{if(!(r!=="auto"||!f||Ug(a)||(0,Ci.isValidElement)(a)||m==null)){var M=i.current;if(M){var A=M.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Y8({id:e,width:A}))}}},[p,f,u,a,e,r,m]),f==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:y,ticks:v,scale:h}=t,g=SR(t,Ame),{id:x,scale:b}=m,_=SR(m,wme);return Ns.createElement(Jg,bR({},g,_,{ref:i,labelRef:o,x:d.x,y:d.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Fe("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:p,axisType:c}))}var Rme={allowDataOverflow:Yn.allowDataOverflow,allowDecimals:Yn.allowDecimals,allowDuplicatedCategory:Yn.allowDuplicatedCategory,angle:Yn.angle,axisLine:_i.axisLine,hide:!1,includeHidden:Yn.includeHidden,interval:Yn.interval,label:!1,minTickGap:Yn.minTickGap,mirror:Yn.mirror,orientation:Yn.orientation,padding:Yn.padding,reversed:Yn.reversed,scale:Yn.scale,tick:Yn.tick,tickCount:Yn.tickCount,tickLine:_i.tickLine,tickSize:_i.tickSize,type:Yn.type,width:Yn.width,yAxisId:0},Ome=t=>{var e=nt(t,Rme);return Ns.createElement(Ns.Fragment,null,Ns.createElement(Lme,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),Ns.createElement(Pme,e))},Ki=Ns.memo(Ome,HM);Ki.displayName="YAxis";var Xq=ae(ce()),Yq=ae(ce());var Ep=ae(ce()),jq=ae(ce());var Uq=ae(ce()),Fq=ae(ce());var Dme=(t,e)=>e,av=Y([Dme,Qe,S_,Fn,MP,fa,_V,qt],TV);var iv=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}};var _R=Qn("mouseClick"),MR=hs();MR.startListening({actionCreator:_R,effect:(t,e)=>{var n=t.payload,r=av(e.getState(),iv(n));r?.activeIndex!=null&&e.dispatch(tV({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var GM=Qn("mouseMove"),AR=hs(),VM=null;AR.startListening({actionCreator:GM,effect:(t,e)=>{var n=t.payload;VM!==null&&cancelAnimationFrame(VM);var r=iv(n);VM=requestAnimationFrame(()=>{var a=e.getState(),i=Rg(a,a.tooltip.settings.shared);if(i==="axis"){var o=av(a,r);o?.activeIndex!=null?e.dispatch(B_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(k_())}VM=null})}});function Tq(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var Iq={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Lq=$t({name:"rootProps",initialState:Iq,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Iq.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Pq=Lq.reducer,{updateOptions:Rq}=Lq.actions;var Nme=null,kme={updatePolarOptions:(t,e)=>e.payload},Oq=$t({name:"polarOptions",initialState:Nme,reducers:kme}),{updatePolarOptions:Dq}=Oq.actions,Nq=Oq.reducer;var wR=Qn("keyDown"),CR=Qn("focus"),qM=hs();qM.startListening({actionCreator:wR,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=t.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=up(a,Gl(n),Vl(n),Mc(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=fa(n);if(i==="Enter"){var u=Dg(n,"axis","hover",String(a.index));e.dispatch(F_({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var c=WH(n),f=c==="left-to-right"?1:-1,d=i==="ArrowRight"?1:-1,p=s+d*f;if(!(l==null||p>=l.length||p<0)){var m=Dg(n,"axis","hover",String(p));e.dispatch(F_({active:!0,activeIndex:p.toString(),activeCoordinate:m}))}}}}}});qM.startListening({actionCreator:CR,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Dg(n,"axis","hover",String(i));e.dispatch(F_({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Va=Qn("externalEvent"),TR=hs(),ER=new Map;TR.startListening({actionCreator:Va,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var a=r.type,i=ER.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=e.getState(),l={activeCoordinate:EP(s),activeDataKey:cp(s),activeIndex:yi(s),activeLabel:j_(s),activeTooltipIndex:yi(s),isTooltipActive:TP(s)};n(l,r)}finally{ER.delete(a)}});ER.set(a,o)}}});var Bme=Y([As],t=>t.tooltipItemPayloads),kq=Y([Bme,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(i=>i.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(e)}}});var IR=Qn("touchMove"),LR=hs();LR.startListening({actionCreator:IR,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),a=Rg(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=av(r,iv({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&e.dispatch(B_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(sS),f=(s=u.getAttribute(lS))!==null&&s!==void 0?s:void 0,d=_c(r).find(y=>y.id===f);if(c==null||d==null||f==null)return;var{dataKey:p}=d,m=kq(r,c,f);e.dispatch(N_({activeDataKey:p,activeIndex:c,activeCoordinate:m,activeGraphicalItemId:f}))}}}});var Ume=Nb({brush:c6,cartesianAxis:K8,chartData:eG,errorBars:D6,graphicalItems:D8,layout:iz,legend:kz,options:KV,polarAxis:YG,polarOptions:Nq,referenceElements:g6,rootProps:Pq,tooltip:nV,zIndex:UV}),Bq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HF({reducer:Ume,preloadedState:e,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([MR.middleware,AR.middleware,qM.middleware,TR.middleware,LR.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(xI({type:"raf"}))},devTools:li.devToolsEnabled&&{serialize:{replacer:Tq},name:"recharts-".concat(n)}})};function WM(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=It(),i=(0,Fq.useRef)(null);if(a)return n;i.current==null&&(i.current=Bq(e,r));var o=Bm;return Uq.createElement(K6,{context:o,store:i.current},n)}var jM=ae(ce());function Fme(t){var{layout:e,margin:n}=t,r=Je(),a=It();return(0,jM.useEffect)(()=>{a||(r(nz(e)),r(_I(n)))},[r,a,e,n]),null}var XM=(0,jM.memo)(Fme,Eo);var zq=ae(ce());function YM(t){var e=Je();return(0,zq.useEffect)(()=>{e(Rq(t))},[e,t]),null}var ks=ae(ce()),Wq=ae(ce());var Nc=ae(ce()),RR=ae(ce());var Dc=ae(ce()),KM=ae(ce());function Hq(t){var{zIndex:e,isPanorama:n}=t,r=(0,KM.useRef)(null),a=Je();return(0,KM.useLayoutEffect)(()=>(r.current&&a(kV({zIndex:e,element:r.current,isPanorama:n})),()=>{a(BV({zIndex:e,isPanorama:n}))}),[a,e,n]),Dc.createElement("g",{tabIndex:-1,ref:r})}function PR(t){var{children:e,isPanorama:n}=t,r=ge(LV);if(!r||r.length===0)return e;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return Dc.createElement(Dc.Fragment,null,a.map(o=>Dc.createElement(Hq,{key:o,zIndex:o,isPanorama:n})),e,i.map(o=>Dc.createElement(Hq,{key:o,zIndex:o,isPanorama:n})))}var zme=["children"];function Hme(t,e){if(t==null)return{};var n,r,a=Vme(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZM(){return ZM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZM.apply(null,arguments)}var Gme={width:"100%",height:"100%",display:"block"},qme=(0,RR.forwardRef)((t,e)=>{var n=Dd(),r=Nd(),a=mS();if(!la(n)||!la(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=t,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?c=o.role:c=a?"application":void 0),Nc.createElement(Pm,ZM({},o,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Gme,ref:e}),i)}),Wme=t=>{var{children:e}=t,n=ge($u);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return Nc.createElement(Pm,{width:r,height:a,x:o,y:i},e)},OR=(0,RR.forwardRef)((t,e)=>{var{children:n}=t,r=Hme(t,zme),a=It();return a?Nc.createElement(Wme,null,Nc.createElement(PR,{isPanorama:!0},n)):Nc.createElement(qme,ZM({ref:e},r),Nc.createElement(PR,{isPanorama:!1},n))});var Mn=ae(ce()),wt=ae(ce());var $M=ae(ce());function Vq(){var t=Je(),[e,n]=(0,$M.useState)(null),r=ge(gz);return(0,$M.useEffect)(()=>{if(e!=null){var a=e.getBoundingClientRect(),i=a.width/e.offsetWidth;Ve(i)&&i!==r&&t(az(i))}},[e,t,r]),n}function Gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(n),!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Kme(t,"string");return typeof e=="symbol"?e:e+""}function Kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ql.apply(null,arguments)}var Zme=()=>(nG(),null);function JM(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var $me=(0,wt.forwardRef)((t,e)=>{var n,r,a=(0,wt.useRef)(null),[i,o]=(0,wt.useState)({containerWidth:JM((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:JM((r=t.style)===null||r===void 0?void 0:r.height)}),s=(0,wt.useCallback)((u,c)=>{o(f=>{var d=Math.round(u),p=Math.round(c);return f.containerWidth===d&&f.containerHeight===p?f:{containerWidth:d,containerHeight:p}})},[]),l=(0,wt.useCallback)(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:f}=u.getBoundingClientRect();s(c,f);var d=m=>{var y=m[0];if(y!=null){var{width:v,height:h}=y.contentRect;s(v,h)}},p=new ResizeObserver(d);p.observe(u),a.current=p}},[e,s]);return(0,wt.useEffect)(()=>()=>{var u=a.current;u?.disconnect()},[s]),Mn.createElement(Mn.Fragment,null,Mn.createElement(Qu,{width:i.containerWidth,height:i.containerHeight}),Mn.createElement("div",Ql({ref:l},t)))}),Jme=(0,wt.forwardRef)((t,e)=>{var{width:n,height:r}=t,[a,i]=(0,wt.useState)({containerWidth:JM(n),containerHeight:JM(r)}),o=(0,wt.useCallback)((l,u)=>{i(c=>{var f=Math.round(l),d=Math.round(u);return c.containerWidth===f&&c.containerHeight===d?c:{containerWidth:f,containerHeight:d}})},[]),s=(0,wt.useCallback)(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[e,o]);return Mn.createElement(Mn.Fragment,null,Mn.createElement(Qu,{width:a.containerWidth,height:a.containerHeight}),Mn.createElement("div",Ql({ref:s},t)))}),Qme=(0,wt.forwardRef)((t,e)=>{var{width:n,height:r}=t;return Mn.createElement(Mn.Fragment,null,Mn.createElement(Qu,{width:n,height:r}),Mn.createElement("div",Ql({ref:e},t)))}),ege=(0,wt.forwardRef)((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?Mn.createElement(Jme,Ql({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?Mn.createElement(Qme,Ql({},t,{width:n,height:r,ref:e})):Mn.createElement(Mn.Fragment,null,Mn.createElement(Qu,{width:n,height:r}),Mn.createElement("div",Ql({ref:e},t)))});function tge(t){return t?$me:ege}var qq=(0,wt.forwardRef)((t,e)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:f,onMouseUp:d,onTouchEnd:p,onTouchMove:m,onTouchStart:y,style:v,width:h,responsive:g,dispatchTouchEvents:x=!0}=t,b=(0,wt.useRef)(null),_=Je(),[M,A]=(0,wt.useState)(null),[S,w]=(0,wt.useState)(null),U=Vq(),D=jm(),k=D?.width>0?D.width:h,z=D?.height>0?D.height:a,V=(0,wt.useCallback)(X=>{U(X),typeof e=="function"&&e(X),A(X),w(X),X!=null&&(b.current=X)},[U,e,A,w]),W=(0,wt.useCallback)(X=>{_(_R(X)),_(Va({handler:i,reactEvent:X}))},[_,i]),C=(0,wt.useCallback)(X=>{_(GM(X)),_(Va({handler:u,reactEvent:X}))},[_,u]),L=(0,wt.useCallback)(X=>{_(k_()),_(Va({handler:c,reactEvent:X}))},[_,c]),B=(0,wt.useCallback)(X=>{_(GM(X)),_(Va({handler:f,reactEvent:X}))},[_,f]),R=(0,wt.useCallback)(()=>{_(CR())},[_]),T=(0,wt.useCallback)(X=>{_(wR(X.key))},[_]),P=(0,wt.useCallback)(X=>{_(Va({handler:o,reactEvent:X}))},[_,o]),H=(0,wt.useCallback)(X=>{_(Va({handler:s,reactEvent:X}))},[_,s]),K=(0,wt.useCallback)(X=>{_(Va({handler:l,reactEvent:X}))},[_,l]),ee=(0,wt.useCallback)(X=>{_(Va({handler:d,reactEvent:X}))},[_,d]),ne=(0,wt.useCallback)(X=>{_(Va({handler:y,reactEvent:X}))},[_,y]),G=(0,wt.useCallback)(X=>{x&&_(IR(X)),_(Va({handler:m,reactEvent:X}))},[_,x,m]),Q=(0,wt.useCallback)(X=>{_(Va({handler:p,reactEvent:X}))},[_,p]),de=tge(g);return Mn.createElement(kP.Provider,{value:M},Mn.createElement(_E.Provider,{value:S},Mn.createElement(de,{width:k??v?.width,height:z??v?.height,className:Fe("recharts-wrapper",r),style:jme({position:"relative",cursor:"default",width:k,height:z},v),onClick:W,onContextMenu:P,onDoubleClick:H,onFocus:R,onKeyDown:T,onMouseDown:K,onMouseEnter:C,onMouseLeave:L,onMouseMove:B,onMouseUp:ee,onTouchEnd:Q,onTouchMove:G,onTouchStart:ne,ref:V},Mn.createElement(Zme,null),n)))});var nge=["width","height","responsive","children","className","style","compact","title","desc"];function rge(t,e){if(t==null)return{};var n,r,a=age(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function age(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QM=(0,Wq.forwardRef)((t,e)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:c}=t,f=rge(t,nge),d=bn(f);return l?ks.createElement(ks.Fragment,null,ks.createElement(Qu,{width:n,height:r}),ks.createElement(OR,{otherAttributes:d,title:u,desc:c},i)):ks.createElement(qq,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},ks.createElement(OR,{otherAttributes:d,title:u,desc:c,ref:e},ks.createElement(y6,null,i)))});function DR(){return DR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DR.apply(null,arguments)}var ige={top:5,right:5,bottom:5,left:5},oge={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ige,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Tp=(0,jq.forwardRef)(function(e,n){var r,a=nt(e.categoricalChartProps,oge),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,c={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return Ep.createElement(WM,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:i},Ep.createElement(PM,{chartData:u.data}),Ep.createElement(XM,{layout:a.layout,margin:a.margin}),Ep.createElement(YM,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),Ep.createElement(QM,DR({},a,{ref:n})))});var sge=["axis"],NR=(0,Yq.forwardRef)((t,e)=>Xq.createElement(Tp,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sge,tooltipPayloadSearcher:ql,categoricalChartProps:t,ref:e}));var Kq=ae(ce()),Zq=ae(ce());var lge=["axis","item"],kR=(0,Zq.forwardRef)((t,e)=>Kq.createElement(Tp,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lge,tooltipPayloadSearcher:ql,categoricalChartProps:t,ref:e}));var rW=ae(ce()),aW=ae(ce());var Qq=ae(ce()),kc=ae(ce());var $q=ae(ce());function Jq(t){var e=Je();return(0,$q.useEffect)(()=>{e(Dq(t))},[e,t]),null}var uge=["layout"];function BR(){return BR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BR.apply(null,arguments)}function cge(t,e){if(t==null)return{};var n,r,a=fge(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dge={top:5,right:5,bottom:5,left:5},UR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eW=(0,Qq.forwardRef)(function(e,n){var r,a=nt(e.categoricalChartProps,UR),{layout:i}=a,o=cge(a,uge),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=e,f={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return kc.createElement(WM,{preloadedState:{options:f},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:s},kc.createElement(PM,{chartData:a.data}),kc.createElement(XM,{layout:i,margin:a.margin}),kc.createElement(YM,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),kc.createElement(Jq,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),kc.createElement(QM,BR({},o,{ref:n})))});function tW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return(e=hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=mge(t,"string");return typeof e=="symbol"?e:e+""}function mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gge=["item"],vge=nW(nW({},UR),{},{layout:"centric",startAngle:0,endAngle:360}),FR=(0,aW.forwardRef)((t,e)=>{var n=nt(t,vge);return rW.createElement(eW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gge,tooltipPayloadSearcher:ql,categoricalChartProps:n,ref:e})});var iW=ae(ce()),oW=ae(ce());var yge=["axis"],Ip=(0,oW.forwardRef)((t,e)=>iW.createElement(Tp,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yge,tooltipPayloadSearcher:ql,categoricalChartProps:t,ref:e}));var t1=ae(ce());var e1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();var sW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var lW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());var zR=t=>{let e=lW(t);return e.charAt(0).toUpperCase()+e.slice(1)};var ov=ae(ce());var uW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var cW=t=>{for(let e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};var fW=(0,ov.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...s},l)=>(0,ov.createElement)("svg",{ref:l,...uW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:e1("lucide",a),...!i&&!cW(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,c])=>(0,ov.createElement)(u,c)),...Array.isArray(i)?i:[i]]));var rt=(t,e)=>{let n=(0,t1.forwardRef)(({className:r,...a},i)=>(0,t1.createElement)(fW,{ref:i,iconNode:e,className:e1(`lucide-${sW(zR(t))}`,`lucide-${t}`,r),...a}));return n.displayName=zR(t),n};var xge=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],sv=rt("anchor",xge);var bge=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lv=rt("book-open",bge);var Sge=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],uv=rt("chevron-down",Sge);var _ge=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cv=rt("chevron-right",_ge);var Mge=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fv=rt("chevron-up",Mge);var Age=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eu=rt("circle-check-big",Age);var wge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],dv=rt("clock",wge);var Cge=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bc=rt("dollar-sign",Cge);var Ege=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pv=rt("eye",Ege);var Tge=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Lp=rt("flame",Tge);var Ige=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Pp=rt("gauge",Ige);var Lge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hv=rt("info",Lge);var Pge=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tu=rt("layers",Pge);var Rge=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mv=rt("map-pin",Rge);var Oge=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Rp=rt("navigation",Oge);var Dge=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],gv=rt("pause",Dge);var Nge=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vv=rt("play",Nge);var kge=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],yv=rt("scissors",kge);var Bge=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Op=rt("send",Bge);var Uge=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Dp=rt("ship",Uge);var Fge=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Np=rt("thermometer",Fge);var zge=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],xv=rt("trending-down",zge);var E=ae(HR()),N={bg:"#050a14",s:"#0b1222",s2:"#101c2e",s3:"#162440",b:"#1a2744",b2:"#243556",t:"#e4e9f2",tm:"#6882a8",td:"#3d5478",cy:"#00c8ff",cyD:"#00c8ff30",cyG:"#00c8ff18",rd:"#ff4757",rdD:"#ff475730",gn:"#00d68f",gnD:"#00d68f30",am:"#ffa726",amD:"#ffa72630",pu:"#b388ff"},Zi=[[.32,.42,.62],[.3,.52,.38],[.45,.55,.3],[.58,.48,.22],[.65,.35,.18],[.58,.22,.14]],qR=["FR0 \xB7 Clean","FR1 \xB7 Light Biofilm","FR2 \xB7 Medium Slime","FR3 \xB7 Heavy Slime","FR4 \xB7 Light Calcareous","FR5 \xB7 Heavy Calcareous"],VR=[0,15,35,60,95,193],r1=[{id:"svitzer-fremantle",name:"Svitzer Fremantle",type:"Harbor Tug",loa:32,beam:12,draft:5.5,cb:.55,cm:.92,cwp:.78,displacement:1188,coatingAge:540,fuelRate:180,fuelType:"MDO",fuelPrice:2,homePort:"Fremantle, WA",mmsi:"503001234",imo:"9881275",idleRatio:.55,harborRatio:.3,transitRatio:.15,maxSpeed:13,econSpeed:10,propDiameter:2.2,numProps:2,hasRudder:!0,hasBulb:!1},{id:"hmas-perth",name:"HMAS Perth",type:"ANZAC Class FFH",loa:118,beam:14.8,draft:4.35,cb:.48,cm:.82,cwp:.72,displacement:3600,coatingAge:380,fuelRate:580,fuelType:"F76",fuelPrice:2.1,homePort:"Fleet Base West, WA",mmsi:"503000015",imo:"9087628",idleRatio:.4,harborRatio:.2,transitRatio:.4,maxSpeed:27,econSpeed:18,propDiameter:3.8,numProps:1,hasRudder:!0,hasBulb:!0},{id:"coral-adventurer",name:"Coral Adventurer",type:"Expedition Vessel",loa:63,beam:14,draft:3.2,cb:.52,cm:.88,cwp:.75,displacement:1503,coatingAge:720,fuelRate:260,fuelType:"MDO",fuelPrice:2,homePort:"Cairns, QLD",mmsi:"503005678",imo:"9838644",idleRatio:.35,harborRatio:.15,transitRatio:.5,maxSpeed:15,econSpeed:12,propDiameter:1.8,numProps:2,hasRudder:!0,hasBulb:!1},{id:"svitzer-cottesloe",name:"Svitzer Cottesloe",type:"Harbor Tug",loa:30,beam:11,draft:5.2,cb:.54,cm:.91,cwp:.77,displacement:960,coatingAge:420,fuelRate:160,fuelType:"MDO",fuelPrice:2,homePort:"Fremantle, WA",mmsi:"503001045",imo:"1045057",idleRatio:.58,harborRatio:.28,transitRatio:.14,maxSpeed:12.5,econSpeed:9,propDiameter:2,numProps:2,hasRudder:!0,hasBulb:!1}],Gge={MDO:3.206,F76:3.206,VLSFO:3.151,HFO:3.114},qge={MDO:.85,F76:.84,VLSFO:.87,HFO:.99};function yW(t,e,n,r,a,i){return t*(2*n+e)*Math.sqrt(a)*(.453+.4425*r-.2862*a-.003467*(e/n)+.3696*i)}function Wge(t,e){return t*e/119e-8}function jge(t){return t<1e5?.005:.075/Math.pow(Math.log10(t)-2,2)}function Xge(t,e){return t/Math.sqrt(9.81*e)}function Yge(t){return t<=0?0:.05+1.8/(1+Math.exp(-18*(t-.22)))}function Kge(t){let e=Math.max(.05,Math.min(1.2,t));return .35+.3*Math.sin(e*Math.PI*.75)}function Zge(t){return t<=0?1:t<3?.85:Math.max(.05,1-.7*(1/(1+Math.exp(-.8*(t-7)))))}function $ge(t,e=22){let r=.006*Math.exp((e-20)*.04);return 5/(1+(5/.1-1)*Math.exp(-r*t*.3))}function GR(t,e=365,n=-1,r=0){let a=[],i=Jge(t.id.length*137+42),o=new Date("2025-01-01"),s=t.homePort.includes("Cairns")?-16.92:-32.05,l=t.homePort.includes("Cairns")?145.77:115.74,u=yW(t.loa,t.beam,t.draft,t.cb,t.cm,t.cwp),c=Gge[t.fuelType]||3.206,f=qge[t.fuelType]||.85,d=t.homePort.includes("Cairns")?26.5:20.5,p=$ge(t.coatingAge,d),m=0,y=0;for(let v=0;v<e;v++){let h=new Date(o);h.setDate(h.getDate()+v);let g=h.getMonth();v===n&&(p=Math.max(0,p*.05));let x=t.homePort.includes("Cairns")?26.5:20.5,b=t.homePort.includes("Cairns")?2.5:2.8,_=x+b*Math.cos(g*2*Math.PI/12)+(i()-.5)*.6,M=i(),A,S,w;M<t.idleRatio?(A="idle",S=0,w=0):M<t.idleRatio+t.harborRatio?(A="harbor_ops",S=3+i()*5,w=6+i()*10):(A="transit",S=t.econSpeed*(.8+i()*.25),w=10+i()*12);let U=A==="transit"?.1:.015,D=s+(i()-.5)*U*2+(A==="transit"?Math.sin(v*.07)*.04:0),k=l+(i()-.5)*U*2.5-(A==="transit"?Math.cos(v*.05)*.03:0),z=Math.exp((_-20)*.04),V=Zge(S),W=Math.min(2.5,1+(t.coatingAge+v)/1600),C=Math.max(0,1-Math.pow(p/5.2,1.5)),L=1+r*.1;p=Math.min(5,Math.max(0,p+.006*z*V*W*C*L));let B=S*.5144,R=Wge(B,t.loa),T=jge(R),P=Xge(B,t.loa),H=Math.min(4,Math.floor(p)),K=p-H,ee=VR[H]+K*(VR[Math.min(5,H+1)]-VR[H]),ne=Yge(P),G=S>0?ee/(1+ne+.05):0,Q=S/t.maxSpeed,de=Kge(Q),X=S>0?G*(.65/Math.max(.3,de)):0,ue=t.fuelRate*t.fuelPrice*(X/100)*w;m+=ue;let qe=t.fuelRate*(X/100)*w*f*c/1e3;y+=qe,a.push({day:v,date:h.toISOString().slice(0,10),month:h.toLocaleString("default",{month:"short"}),sst:+_.toFixed(1),activity:A,avgSpeed:+S.toFixed(1),hoursActive:+w.toFixed(1),lat:D,lon:k,fouling:+p.toFixed(3),frRating:Math.min(5,Math.round(p)),frictionIncrease:+ee.toFixed(1),totalResistanceIncrease:+G.toFixed(1),fuelPenaltyPct:+X.toFixed(1),dailyExtraCost:Math.round(ue),cumulativeCost:Math.round(m),dailyCO2:+qe.toFixed(2),cumulativeCO2:+y.toFixed(1),heading:Math.round(i()*360),wsa:Math.round(u),Re:R.toExponential(2),Cf:T.toFixed(6),Fr:+P.toFixed(3)})}return a}function Jge(t){let e=Math.abs(t)||1;return()=>(e=e*16807%2147483647,(e-1)/2147483646)}function Qge({foulingState:t,vessel:e,width:n,height:r}){let a=(0,Ot.useRef)(null),i=(0,Ot.useRef)(null),o=(0,Ot.useRef)({isDown:!1,lastX:0,lastY:0,rotY:.4,rotX:-.15}),s=(0,Ot.useRef)(null),l=(0,Ot.useCallback)((u,c,f,d)=>{let y=[],v=[],h=[],g=d/.5;for(let b=0;b<=56;b++){let _=b/56,M=(_-.5)*u,A=.5+(1-g)*.3,S;_<.08?S=Math.pow(_/.08,A)*.45:_<.18?S=.45+.5*Math.pow((_-.08)/.1,.8):_<.55?S=.95+.05*Math.sin((_-.18)/.37*Math.PI/2):_<.82?S=1-.12*Math.pow((_-.55)/.27,1.2+g*.3):S=.88-.4*Math.pow((_-.82)/.18,.65);let w=c/2*S,U;_<.1?U=.35+.55*(_/.1):_<.7?U=.9+.1*Math.sin((_-.1)/.6*Math.PI):U=1-.12*Math.pow((_-.7)/.3,1.1);let D=f*U,k=1.6+g*1.2,z;_<.12?z=1.2+(k-1.2)*(_/.12):_<.55?z=k+.8*g*Math.sin((_-.12)/.43*Math.PI/2):z=k+.8*g-1.2*Math.pow((_-.55)/.45,.75),z=Math.max(1.2,z);for(let V=0;V<=32;V++){let C=V/32*Math.PI,L=Math.cos(C),B=Math.sin(C),R=2/z,T=w*Math.sign(L)*Math.pow(Math.abs(L),R),P=-D*Math.pow(Math.abs(B),.7+.2*(z/4));y.push(T,P,M),v.push(.32,.42,.62)}}for(let b=0;b<56;b++)for(let _=0;_<32;_++){let M=b*33+_,A=M+32+1;h.push(M,A,M+1,A,A+1,M+1)}let x=new lr;return x.setAttribute("position",new Kt(y,3)),x.setAttribute("color",new Kt(v,3)),x.setIndex(h),x.computeVertexNormals(),x},[]);return(0,Ot.useEffect)(()=>{if(!a.current||n<50||r<50)return;let u=a.current,c=e.loa,f=new Qh;f.background=new lt(198672),f.fog=new Jh(198672,c*1.2,c*4);let d=new Er(42,n/r,.1,c*6);d.position.set(c*.35,c*.15,c*.45),d.lookAt(0,-e.draft*.3,0);let p=new ab({antialias:!0,alpha:!0});p.setSize(n,r),p.setPixelRatio(Math.min(window.devicePixelRatio,2)),p.shadowMap.enabled=!0,p.toneMapping=bm,p.toneMappingExposure=1.1,u.appendChild(p.domElement),f.add(new ym(2245802,.45));let m=new Bu(16777215,.95);m.position.set(c*.6,c*.8,c*.7),m.castShadow=!0,f.add(m),f.add(new Bu(3368618,.3).translateX(-c*.5)),f.add(new Bu(43775,.2).translateZ(-c));let y=l(e.loa,e.beam,e.draft,e.cb),v=new hn(y,new zr({vertexColors:!0,shininess:50,specular:new lt(2241348),side:oa}));v.castShadow=!0,f.add(v);let h=ne=>{let G=.5+(1-e.cb/.5)*.3;return ne<.08?Math.pow(ne/.08,G)*.45:ne<.18?.45+.5*Math.pow((ne-.08)/.1,.8):ne<.55?.95+.05*Math.sin((ne-.18)/.37*Math.PI/2):ne<.82?1-.12*Math.pow((ne-.55)/.27,1.2+e.cb/.5*.3):.88-.4*Math.pow((ne-.82)/.18,.65)},g=new Du;for(let ne=0;ne<=50;ne++){let G=ne/50,Q=e.beam/2*h(G)*.93,de=(G-.5)*e.loa;ne===0?g.moveTo(de,Q):g.lineTo(de,Q)}for(let ne=50;ne>=0;ne--){let G=ne/50;g.lineTo((G-.5)*e.loa,-(e.beam/2)*h(G)*.93)}let x=new hn(new rd(g),new zr({color:2767434,shininess:15}));x.rotation.x=-Math.PI/2,x.rotation.z=-Math.PI/2,x.position.y=.08,f.add(x);let b=c*.055,_=c*.16,M=e.beam*.55,A=new hn(new co(M,b,_),new zr({color:5269624}));A.position.set(0,b/2+.15,c*.05),A.castShadow=!0,f.add(A);let S=new hn(new co(M*.72,b*.55,_*.4),new zr({color:6322312}));S.position.set(0,b+b*.55/2+.15,c*.06),f.add(S);let w=new hn(new ed(e.beam*.05,e.beam*.07,b*1.4,8),new zr({color:3355443}));w.position.set(0,b*1.6+.15,c*.03),f.add(w);let U=new hn(new hm(c*.55,c*.003,4,64),new Ou({color:13378082,transparent:!0,opacity:.7}));U.rotation.x=Math.PI/2,U.position.y=-.05,f.add(U);let D=new ns,k=e.propDiameter/2;for(let ne=0;ne<e.numProps;ne++){let G=e.numProps===1?0:ne===0?-e.beam*.22:e.beam*.22,Q=new hn(new ad(k*.25,12,8),new zr({color:11176004,shininess:80}));Q.position.set(G,-e.draft*.7,-c*.47),D.add(Q);let de=new hn(new ed(k*.08,k*.08,c*.08,8),new zr({color:8947848}));de.rotation.x=Math.PI/2,de.position.set(G,-e.draft*.7,-c*.44),D.add(de);for(let X=0;X<4;X++){let pe=new Du;pe.moveTo(0,0),pe.quadraticCurveTo(k*.3,k*.15,k*.9,k*.05),pe.quadraticCurveTo(k*.5,-k*.1,0,0);let ue=new hn(new rd(pe),new zr({color:11176004,shininess:60,side:oa}));ue.position.set(G,-e.draft*.7,-c*.47),ue.rotation.z=X*Math.PI/2,ue.rotation.y=.3,D.add(ue)}}if(f.add(D),e.hasRudder){let ne=new hn(new co(e.draft*.06,e.draft*.6,e.draft*.3),new zr({color:13382451}));ne.position.set(0,-e.draft*.5,-c*.49),f.add(ne)}if(e.hasBulb){let ne=new hn(new ad(e.beam*.12,16,12),new zr({color:4478310}));ne.scale.set(.6,.8,1.5),ne.position.set(0,-e.draft*.6,c*.5),f.add(ne)}let z=new ku(c*3.5,c*3.5,50,50),V=new hn(z,new zr({color:530472,transparent:!0,opacity:.5,shininess:100,specular:new lt(1140394),side:oa}));V.rotation.x=-Math.PI/2,f.add(V);let W=250,C=new lr,L=new Float32Array(W*3);for(let ne=0;ne<W;ne++)L[ne*3]=(Math.random()-.5)*c*2.5,L[ne*3+1]=-Math.random()*e.draft*4,L[ne*3+2]=(Math.random()-.5)*c*2.5;C.setAttribute("position",new Kt(L,3));let B=new rm(C,new Qf({color:3368618,size:c*.004,transparent:!0,opacity:.35}));f.add(B),i.current={scene:f,camera:d,renderer:p,hull:v,hullGeo:y,water:V,pts:B,pC:W,pg:D};let R=0,T=()=>{s.current=requestAnimationFrame(T),R+=.004;let ne=o.current;ne.isDown||(ne.rotY+=.0015);let G=new $(0,-e.draft*.25,0),Q=c*.7;d.position.set(G.x+Q*Math.sin(ne.rotY)*Math.cos(ne.rotX),G.y+Q*Math.sin(ne.rotX)+c*.1,G.z+Q*Math.cos(ne.rotY)*Math.cos(ne.rotX)),d.lookAt(G);let de=V.geometry.attributes.position;for(let pe=0;pe<de.count;pe++)de.setY(pe,Math.sin(de.getX(pe)*.25+R*1.8)*c*.003+Math.cos(de.getZ(pe)*.18+R*1.3)*c*.002);de.needsUpdate=!0;let X=B.geometry.attributes.position;for(let pe=0;pe<W;pe++){let ue=X.getY(pe)+c*8e-5;ue>0&&(ue=-e.draft*4),X.setY(pe,ue),X.setX(pe,X.getX(pe)+Math.sin(R+pe*.7)*c*5e-5)}X.needsUpdate=!0,D.children.forEach(pe=>{pe.geometry?.type==="ShapeGeometry"&&(pe.rotation.z+=.02)}),p.render(f,d)};T();let P=ne=>{let G=ne.touches?ne.touches[0]:ne;o.current={...o.current,isDown:!0,lastX:G.clientX,lastY:G.clientY}},H=()=>{o.current.isDown=!1},K=ne=>{if(!o.current.isDown)return;ne.preventDefault();let G=ne.touches?ne.touches[0]:ne;o.current.rotY+=(G.clientX-o.current.lastX)*.005,o.current.rotX=Math.max(-.7,Math.min(.7,o.current.rotX+(G.clientY-o.current.lastY)*.005)),o.current.lastX=G.clientX,o.current.lastY=G.clientY},ee=p.domElement;return ee.addEventListener("mousedown",P),ee.addEventListener("mouseup",H),ee.addEventListener("mouseleave",H),ee.addEventListener("mousemove",K),ee.addEventListener("touchstart",P,{passive:!1}),ee.addEventListener("touchend",H),ee.addEventListener("touchmove",K,{passive:!1}),()=>{cancelAnimationFrame(s.current),ee.removeEventListener("mousedown",P),ee.removeEventListener("mouseup",H),ee.removeEventListener("mouseleave",H),ee.removeEventListener("mousemove",K),ee.removeEventListener("touchstart",P),ee.removeEventListener("touchend",H),ee.removeEventListener("touchmove",K),p.dispose(),u.contains(ee)&&u.removeChild(ee)}},[e,n,r,l]),(0,Ot.useEffect)(()=>{if(!i.current)return;let{hullGeo:u}=i.current,c=u.attributes.color,f=u.attributes.position;for(let d=0;d<=56;d++){let p=d/56;for(let m=0;m<=32;m++){let y=d*33+m,v=m/32,h=f.getY(y),g=1,x=-h/e.draft;x>.85?g=1.25:x>.3?g=1:x>0?g=.85:g=.15,(p<.08||p>.9)&&(g*=1.35),Math.abs(v-.5)<.12&&(g*=1.15);let b=Math.min(5,t*g),_=Math.min(4,Math.floor(b)),M=b-_,A=Zi[_][0]+M*(Zi[_+1][0]-Zi[_][0]),S=Zi[_][1]+M*(Zi[_+1][1]-Zi[_][1]),w=Zi[_][2]+M*(Zi[_+1][2]-Zi[_][2]),U=(Math.sin(d*7.3+m*11.7)*.5+.5)*.06,D=(Math.sin(d*3.1+m*17.3)*.5+.5)*.04;c.setXYZ(y,Math.min(1,A+U),Math.min(1,S+D),Math.min(1,w-U*.5))}}c.needsUpdate=!0},[t,e]),(0,E.jsx)("div",{ref:a,style:{width:n,height:r,cursor:"grab",touchAction:"none"}})}function Ga({icon:t,label:e,value:n,unit:r,color:a,sub:i}){return(0,E.jsxs)("div",{style:{background:`linear-gradient(145deg,${N.s}ee,${N.s2}cc)`,border:`1px solid ${N.b}`,borderRadius:10,padding:"12px 14px",position:"relative",overflow:"hidden",minWidth:0},children:[(0,E.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:2,background:`linear-gradient(90deg,transparent,${a}aa,transparent)`}}),(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:5,marginBottom:4},children:[(0,E.jsx)(t,{size:12,color:N.tm}),(0,E.jsx)("span",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:.8,fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e})]}),(0,E.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:3,flexWrap:"wrap"},children:[(0,E.jsx)("span",{style:{fontSize:22,fontWeight:700,color:a,fontFamily:"monospace",letterSpacing:-.5},children:n}),r&&(0,E.jsx)("span",{style:{fontSize:10,color:N.tm},children:r})]}),i&&(0,E.jsx)("div",{style:{fontSize:9,color:N.td,marginTop:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i})]})}function eve({data:t,currentDay:e,vessel:n}){let r=(0,Ot.useRef)(null);return(0,Ot.useEffect)(()=>{let a=r.current;if(!a)return;let i=a.getContext("2d"),o=a.width,s=a.height;i.fillStyle=N.bg,i.fillRect(0,0,o,s),i.strokeStyle=N.b+"40",i.lineWidth=.5;for(let x=1;x<5;x++)i.beginPath(),i.moveTo(0,s/5*x),i.lineTo(o,s/5*x),i.stroke(),i.beginPath(),i.moveTo(o/5*x,0),i.lineTo(o/5*x,s),i.stroke();if(!t.length)return;let l=t.slice(0,e+1),u=l.map(x=>x.lat),c=l.map(x=>x.lon),f=.015,d=Math.min(...u)-f,p=Math.max(...u)+f,m=Math.min(...c)-f*1.5,y=Math.max(...c)+f*1.5,v=12,h=x=>v+(x-m)/(y-m)*(o-v*2),g=x=>s-v-(x-d)/(p-d)*(s-v*2);i.beginPath(),l.forEach((x,b)=>{let _=h(x.lon),M=g(x.lat);b===0?i.moveTo(_,M):i.lineTo(_,M)}),i.strokeStyle=N.cy+"25",i.lineWidth=1,i.stroke(),l.forEach((x,b)=>{let _=h(x.lon),M=g(x.lat),A=b===e,S=A?1:.12+b/e*.35;i.beginPath(),i.arc(_,M,A?5:1.5,0,Math.PI*2),i.fillStyle=x.activity==="idle"?`rgba(255,167,38,${S})`:x.activity==="harbor_ops"?`rgba(0,200,255,${S})`:`rgba(0,214,143,${S})`,i.fill(),A&&(i.strokeStyle=N.cy,i.lineWidth=2,i.stroke())}),i.font="bold 10px monospace",i.fillStyle=N.tm,i.fillText(n.homePort,v,s-4),i.fillText(`${l[e]?.lat.toFixed(3)}\xB0S, ${l[e]?.lon.toFixed(3)}\xB0E`,v,12)},[t,e,n]),(0,E.jsx)("canvas",{ref:r,width:300,height:210,style:{borderRadius:8,border:`1px solid ${N.b}`,width:"100%",display:"block"}})}function mW({val:t}){let e=t/5*100,n=Math.min(5,Math.round(t)),r=n<=1?N.gn:n<=3?N.am:N.rd;return(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:3},children:[(0,E.jsx)("span",{style:{fontSize:10,color:N.tm},children:"Hull Condition"}),(0,E.jsx)("span",{style:{fontSize:10,fontWeight:700,color:r},children:qR[n]})]}),(0,E.jsxs)("div",{style:{height:7,borderRadius:4,background:N.s,overflow:"hidden",position:"relative"},children:[(0,E.jsx)("div",{style:{width:`${e}%`,height:"100%",borderRadius:4,transition:"width 0.4s",background:`linear-gradient(90deg,${N.gn},${N.am},${N.rd})`}}),[1,2,3,4].map(a=>(0,E.jsx)("div",{style:{position:"absolute",left:`${a*20}%`,top:0,bottom:0,width:1,background:N.b}},a))]}),(0,E.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:2},children:[0,1,2,3,4,5].map(a=>(0,E.jsxs)("span",{style:{fontSize:7,color:N.td},children:["FR",a]},a))})]})}function Ei({title:t,children:e,defaultOpen:n=!1}){let[r,a]=(0,Ot.useState)(n);return(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,marginBottom:10,overflow:"hidden"},children:[(0,E.jsxs)("button",{onClick:()=>a(!r),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"transparent",border:"none",color:N.t,cursor:"pointer",fontSize:13,fontWeight:600,textAlign:"left"},children:[t,r?(0,E.jsx)(fv,{size:16,color:N.tm}):(0,E.jsx)(uv,{size:16,color:N.tm})]}),r&&(0,E.jsx)("div",{style:{padding:"4px 16px 16px",fontSize:12,lineHeight:1.7,color:N.tm},children:e})]})}function tve(){let[t,e]=(0,Ot.useState)(0),[n,r]=(0,Ot.useState)(120),[a,i]=(0,Ot.useState)("twin"),[o,s]=(0,Ot.useState)(!1),[l,u]=(0,Ot.useState)(-1),[c,f]=(0,Ot.useState)([]),[d,p]=(0,Ot.useState)({speed:"",fuel:"",fouling:"FR2",notes:""}),[m,y]=(0,Ot.useState)(0),v=(0,Ot.useRef)(null),h=(0,Ot.useRef)(null),g=m<680,x=m<960&&!g,b=r1[t],_=(0,Ot.useMemo)(()=>{if(c.length<2)return 0;let T=c.filter(H=>H.fuel&&H.day);if(!T.length)return 0;let P=0;return T.forEach(H=>{parseFloat(H.fuel)>b.fuelRate?P+=.5:P-=.3}),Math.max(-2,Math.min(2,P/T.length))},[c,b]),M=(0,Ot.useMemo)(()=>GR(b,365,l,_),[b,l,_]),A=(0,Ot.useMemo)(()=>l>=0?GR(b,365,-1,_):null,[b,l,_]),S=M[n]||M[0],w=(0,Ot.useMemo)(()=>{let T={};return M.forEach(P=>{let H=P.date.slice(0,7);T[H]||(T[H]={month:P.month,cost:0,co2:0,fouling:0,sst:0,speed:0,n:0,idle:0}),T[H].cost+=P.dailyExtraCost,T[H].co2+=P.dailyCO2,T[H].fouling=P.fouling,T[H].sst+=P.sst,T[H].speed+=P.avgSpeed,T[H].n++,P.activity==="idle"&&T[H].idle++}),Object.values(T).map(P=>({...P,sst:+(P.sst/P.n).toFixed(1),speed:+(P.speed/P.n).toFixed(1),idlePct:Math.round(P.idle/P.n*100),cost:Math.round(P.cost),co2:+P.co2.toFixed(1),fouling:+P.fouling.toFixed(2)}))},[M]),U=(0,Ot.useMemo)(()=>r1.map(T=>{let P=GR(T,365);return{vessel:T,latest:P[364]}}),[]),D=b.type.includes("Tug")?8e3:b.type.includes("ANZAC")?35e3:18e3,k=S.cumulativeCost/Math.max(1,n)*30,z=k>0?Math.round(D/(k/30)):999,V=m<50?400:Math.max(260,g?m-16:Math.min(m-326,1e3)),W=Math.max(180,Math.min(g?260:460,V*.55));(0,Ot.useEffect)(()=>(o?h.current=setInterval(()=>r(T=>T>=364?(s(!1),364):T+1),80):clearInterval(h.current),()=>clearInterval(h.current)),[o]),(0,Ot.useEffect)(()=>{let T=()=>{v.current&&y(v.current.offsetWidth)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);let C=()=>{!d.speed&&!d.fuel||(f(T=>[...T,{...d,day:n,date:S.date,ts:Date.now()}]),p({speed:"",fuel:"",fouling:"FR2",notes:""}))},L=[{id:"twin",label:"Twin",mLabel:"Twin",icon:Dp},{id:"voyage",label:"Voyage",mLabel:"Voy",icon:Rp},{id:"cost",label:"Cost Impact",mLabel:"Cost",icon:Bc},{id:"fleet",label:"Fleet",mLabel:"Fleet",icon:tu},{id:"input",label:"Skipper Input",mLabel:"Input",icon:Op},{id:"docs",label:"Documentation",mLabel:"Docs",icon:lv}],B={backgroundColor:N.s,border:`1px solid ${N.b}`,borderRadius:8,fontSize:11,color:N.t},R=(T,P="1fr")=>({display:"grid",gridTemplateColumns:g?P:T,gap:g?8:10});return(0,E.jsxs)("div",{style:{background:N.bg,minHeight:"100vh",color:N.t,fontFamily:"'Segoe UI',system-ui,sans-serif",overflowX:"hidden"},children:[(0,E.jsxs)("div",{style:{background:`linear-gradient(180deg,${N.s2},${N.bg})`,borderBottom:`1px solid ${N.b}`,padding:g?"8px 12px":"10px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,flexWrap:"wrap"},children:[(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,E.jsx)("div",{style:{width:30,height:30,borderRadius:6,background:`linear-gradient(135deg,${N.cy},#0066bb)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,E.jsx)(Dp,{size:16,color:"#fff"})}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{fontSize:g?12:14,fontWeight:700},children:["MARINE",(0,E.jsx)("span",{style:{color:N.cy},children:"STREAM"})]}),(0,E.jsx)("div",{style:{fontSize:8,color:N.tm,letterSpacing:2,textTransform:"uppercase"},children:"Digital Twin Platform"})]})]}),(0,E.jsx)("select",{value:t,onChange:T=>{e(+T.target.value),r(120),u(-1),s(!1)},style:{background:N.s,border:`1px solid ${N.b}`,borderRadius:6,color:N.t,padding:"6px 8px",fontSize:g?10:12,cursor:"pointer",outline:"none",maxWidth:g?160:300,minWidth:0},children:r1.map((T,P)=>(0,E.jsx)("option",{value:P,children:g?T.name:`${T.name} \u2014 ${T.type}`},T.id))}),!g&&(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,fontSize:10,color:N.tm,flexWrap:"wrap"},children:[(0,E.jsxs)("span",{children:["IMO ",b.imo]}),(0,E.jsxs)("span",{children:["MMSI ",b.mmsi]}),(0,E.jsxs)("span",{children:["WSA ",Math.round(yW(b.loa,b.beam,b.draft,b.cb,b.cm,b.cwp)),"m\xB2"]}),(0,E.jsx)("span",{style:{color:N.gn},children:"\u25CF LIVE"})]})]}),(0,E.jsx)("div",{style:{display:"flex",gap:0,padding:g?"0 2px":"0 16px",background:N.s,borderBottom:`1px solid ${N.b}`,overflowX:"auto",WebkitOverflowScrolling:"touch"},children:L.map(T=>(0,E.jsxs)("button",{onClick:()=>i(T.id),style:{display:"flex",alignItems:"center",gap:g?3:5,padding:g?"7px 6px":"9px 12px",fontSize:g?9:11,fontWeight:500,color:a===T.id?N.cy:N.tm,background:a===T.id?N.cyG:"transparent",border:"none",borderBottom:`2px solid ${a===T.id?N.cy:"transparent"}`,cursor:"pointer",whiteSpace:"nowrap",flexShrink:0},children:[(0,E.jsx)(T.icon,{size:g?12:13}),(0,E.jsx)("span",{children:g?T.mLabel:T.label})]},T.id))}),(0,E.jsxs)("div",{ref:v,style:{padding:g?"10px 8px":"14px 16px"},children:[a==="twin"&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{...R("repeat(auto-fit,minmax(145px,1fr))","repeat(2,1fr)"),marginBottom:g?8:12},children:[(0,E.jsx)(Ga,{icon:Bc,label:"YTD Excess",value:`$${S.cumulativeCost.toLocaleString()}`,color:N.rd,sub:`$${S.dailyExtraCost}/day`}),(0,E.jsx)(Ga,{icon:Lp,label:"CO\u2082",value:S.cumulativeCO2.toFixed(1),unit:"t",color:N.am,sub:`${S.dailyCO2.toFixed(2)}t/day`}),(0,E.jsx)(Ga,{icon:Pp,label:"Drag",value:`+${S.totalResistanceIncrease}%`,color:N.pu,sub:`${S.fuelPenaltyPct}% fuel`}),(0,E.jsx)(Ga,{icon:dv,label:"Clean ROI",value:z,unit:"d",color:N.gn,sub:`$${D.toLocaleString()}`}),!g&&(0,E.jsx)(Ga,{icon:Np,label:"SST",value:S.sst,unit:"\xB0C",color:N.cy,sub:b.homePort}),!g&&(0,E.jsx)(Ga,{icon:hv,label:"Confidence",value:c.length>5?"\xB110%":c.length>2?"\xB120%":"\xB130%",color:c.length>2?N.gn:N.am,sub:`${c.length} reports`})]}),(0,E.jsxs)("div",{style:{display:"flex",gap:g?0:12,marginBottom:g?8:12,flexDirection:g?"column":"row"},children:[(0,E.jsxs)("div",{style:{flex:"1 1 auto",minWidth:0,background:N.s,borderRadius:10,border:`1px solid ${N.b}`,overflow:"hidden",position:"relative",marginBottom:g?8:0},children:[(0,E.jsxs)("div",{style:{position:"absolute",top:8,left:8,zIndex:10,background:`${N.bg}cc`,borderRadius:6,padding:"5px 9px",border:`1px solid ${N.b}`,backdropFilter:"blur(8px)",maxWidth:"70%"},children:[(0,E.jsx)("div",{style:{fontSize:g?11:13,fontWeight:700,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b.name}),(0,E.jsxs)("div",{style:{fontSize:g?8:10,color:N.tm},children:[b.type," \xB7 ",b.loa,"m \xD7 ",b.beam,"m \xB7 Cb ",b.cb]})]}),!g&&(0,E.jsxs)("div",{style:{position:"absolute",top:8,right:8,zIndex:10,background:`${N.bg}cc`,borderRadius:6,padding:"4px 8px",border:`1px solid ${N.b}`,fontSize:9,color:N.tm},children:[(0,E.jsx)(pv,{size:10,style:{marginRight:3}}),"Drag to rotate"]}),m>50&&(0,E.jsx)(Qge,{foulingState:S.fouling,vessel:b,width:V,height:W}),(0,E.jsx)("div",{style:{position:"absolute",bottom:8,left:8,right:8,zIndex:10,background:`${N.bg}dd`,borderRadius:6,padding:g?6:10,border:`1px solid ${N.b}`,backdropFilter:"blur(8px)"},children:(0,E.jsx)(mW,{val:S.fouling})})]}),(0,E.jsxs)("div",{style:{display:"flex",flexDirection:g?"row":"column",gap:g?8:10,...g?{overflowX:"auto",WebkitOverflowScrolling:"touch",paddingBottom:4}:{},width:g?"100%":280,flexShrink:0},children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?8:10,minWidth:g?200:0,flexShrink:0},children:[(0,E.jsxs)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:5,fontWeight:600},children:[(0,E.jsx)(mv,{size:10,style:{marginRight:3}}),"AIS Track"]}),(0,E.jsx)(eve,{data:M,currentDay:n,vessel:b}),(0,E.jsxs)("div",{style:{display:"flex",gap:8,marginTop:4,fontSize:8},children:[(0,E.jsx)("span",{style:{color:"#ffa726"},children:"\u25CF Idle"}),(0,E.jsx)("span",{style:{color:"#00c8ff"},children:"\u25CF Harbor"}),(0,E.jsx)("span",{style:{color:"#00d68f"},children:"\u25CF Transit"})]})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?8:10,fontSize:10,minWidth:g?170:0,flexShrink:0},children:[(0,E.jsxs)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:5,fontWeight:600},children:[(0,E.jsx)(sv,{size:10,style:{marginRight:3}}),"Physics"]}),[["WSA",`${S.wsa}m\xB2`],["Re",S.Re],["Fr",S.Fr],["Cf (ITTC-57)",S.Cf],["Coating",`${b.coatingAge+n}d`],["Fuel",b.fuelType]].map(([T,P])=>(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0",borderBottom:`1px solid ${N.b}22`},children:[(0,E.jsx)("span",{style:{color:N.tm,fontSize:9},children:T}),(0,E.jsx)("span",{style:{fontFamily:"monospace",fontSize:9},children:P})]},T))]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${l>=0?N.gn+"66":N.b}`,padding:g?8:10,minWidth:g?190:0,flexShrink:0},children:[(0,E.jsxs)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:5,fontWeight:600},children:[(0,E.jsx)(yv,{size:10,style:{marginRight:3}}),"Clean Scenario"]}),l<0?(0,E.jsxs)("button",{onClick:()=>u(n),style:{width:"100%",padding:7,borderRadius:6,border:"none",cursor:"pointer",background:`linear-gradient(135deg,${N.gn},#008855)`,color:"#fff",fontSize:10,fontWeight:600},children:["Simulate Clean Day ",n+1]}):(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{fontSize:10,color:N.gn,fontWeight:600,marginBottom:4},children:["\u2713 Clean Day ",l+1]}),A&&(0,E.jsxs)("div",{style:{fontSize:10},children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2},children:[(0,E.jsx)("span",{style:{color:N.tm},children:"Without:"}),(0,E.jsxs)("span",{style:{color:N.rd,fontFamily:"monospace"},children:["$",A[364].cumulativeCost.toLocaleString()]})]}),(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:2},children:[(0,E.jsx)("span",{style:{color:N.tm},children:"With clean:"}),(0,E.jsxs)("span",{style:{color:N.gn,fontFamily:"monospace"},children:["$",(M[364].cumulativeCost+D).toLocaleString()]})]}),(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",borderTop:`1px solid ${N.b}`,paddingTop:4,fontWeight:600},children:[(0,E.jsx)("span",{children:"Saving:"}),(0,E.jsxs)("span",{style:{color:N.gn,fontFamily:"monospace"},children:["$",Math.max(0,A[364].cumulativeCost-M[364].cumulativeCost-D).toLocaleString()]})]})]}),(0,E.jsx)("button",{onClick:()=>u(-1),style:{marginTop:5,width:"100%",padding:5,borderRadius:5,border:`1px solid ${N.b}`,cursor:"pointer",background:N.s2,color:N.tm,fontSize:9},children:"Reset"})]})]})]})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?"10px 12px":"12px 16px",marginBottom:g?8:12},children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:5,flexWrap:"wrap",gap:6},children:[(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,E.jsx)("button",{onClick:()=>s(T=>!T),style:{background:N.cy,border:"none",borderRadius:5,width:26,height:26,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",flexShrink:0},children:o?(0,E.jsx)(gv,{size:12,color:"#fff"}):(0,E.jsx)(vv,{size:12,color:"#fff"})}),(0,E.jsx)("span",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,fontWeight:600},children:"Timeline"})]}),(0,E.jsxs)("span",{style:{fontSize:g?10:12,fontFamily:"monospace",color:N.cy,fontWeight:600},children:[S.date," \xB7 Day ",n+1," \xB7 ",S.activity.replace("_"," "),S.avgSpeed>0&&` \xB7 ${S.avgSpeed}kn`]})]}),(0,E.jsx)("input",{type:"range",min:0,max:364,value:n,onChange:T=>{r(+T.target.value),s(!1)},style:{width:"100%",accentColor:N.cy,cursor:"pointer"}}),(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:8,color:N.td,marginTop:2},children:[(0,E.jsx)("span",{children:"Jan"}),(0,E.jsx)("span",{children:"Mar"}),(0,E.jsx)("span",{children:"May"}),(0,E.jsx)("span",{children:"Jul"}),(0,E.jsx)("span",{children:"Sep"}),(0,E.jsx)("span",{children:"Nov"}),(0,E.jsx)("span",{children:"Dec"})]})]}),(0,E.jsxs)("div",{style:R("1fr 1fr"),children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"Fouling & SST"}),(0,E.jsx)(ms,{width:"100%",height:g?140:170,children:(0,E.jsxs)(Ip,{data:w,children:[(0,E.jsx)("defs",{children:(0,E.jsxs)("linearGradient",{id:"fg",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,E.jsx)("stop",{offset:"0%",stopColor:N.rd,stopOpacity:.35}),(0,E.jsx)("stop",{offset:"100%",stopColor:N.rd,stopOpacity:0})]})}),(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"month",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(Ki,{yAxisId:"l",tick:{fontSize:8,fill:N.tm},domain:[0,5]}),(0,E.jsx)(Ki,{yAxisId:"r",orientation:"right",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(ws,{contentStyle:B}),(0,E.jsx)(Rc,{yAxisId:"l",type:"monotone",dataKey:"fouling",stroke:N.rd,fill:"url(#fg)",strokeWidth:2,name:"FR"}),(0,E.jsx)(Lc,{yAxisId:"r",type:"monotone",dataKey:"sst",stroke:N.cy,strokeWidth:1.5,dot:!1,name:"SST\xB0C"})]})})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"Monthly Excess Cost"}),(0,E.jsx)(ms,{width:"100%",height:g?140:170,children:(0,E.jsxs)(kR,{data:w,children:[(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"month",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(Ki,{tick:{fontSize:8,fill:N.tm},tickFormatter:T=>`$${T>=1e3?(T/1e3).toFixed(0)+"k":T}`}),(0,E.jsx)(ws,{contentStyle:B,formatter:T=>[`$${T.toLocaleString()}`,"Cost"]}),(0,E.jsx)(zM,{dataKey:"cost",radius:[3,3,0,0],children:w.map((T,P)=>(0,E.jsx)(wo,{fill:P<4?N.am:N.rd},P))})]})})]})]})]}),a==="voyage"&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{...R("1fr 1fr 1fr","1fr 1fr"),marginBottom:g?8:12},children:[(0,E.jsx)(Ga,{icon:Rp,label:"Active Days",value:M.filter(T=>T.activity!=="idle").length,color:N.cy,sub:`${M.filter(T=>T.activity==="idle").length} idle`}),(0,E.jsx)(Ga,{icon:Pp,label:"Avg Speed",value:(M.filter(T=>T.avgSpeed>0).reduce((T,P)=>T+P.avgSpeed,0)/Math.max(1,M.filter(T=>T.avgSpeed>0).length)).toFixed(1),unit:"kn",color:N.gn}),(0,E.jsx)(Ga,{icon:Np,label:"Avg SST",value:(M.reduce((T,P)=>T+P.sst,0)/M.length).toFixed(1),unit:"\xB0C",color:N.am})]}),(0,E.jsxs)("div",{style:{...R("1fr 1fr"),marginBottom:g?8:12},children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"Speed Profile"}),(0,E.jsx)(ms,{width:"100%",height:g?150:190,children:(0,E.jsxs)(Ip,{data:M.filter((T,P)=>P%3===0),children:[(0,E.jsx)("defs",{children:(0,E.jsxs)("linearGradient",{id:"sg",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,E.jsx)("stop",{offset:"0%",stopColor:N.cy,stopOpacity:.25}),(0,E.jsx)("stop",{offset:"100%",stopColor:N.cy,stopOpacity:0})]})}),(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"date",tick:{fontSize:7,fill:N.tm},tickFormatter:T=>T.slice(5),interval:20}),(0,E.jsx)(Ki,{tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(ws,{contentStyle:B}),(0,E.jsx)(Mp,{x:S.date,stroke:N.cy,strokeDasharray:"3 3"}),(0,E.jsx)(Rc,{type:"monotone",dataKey:"avgSpeed",stroke:N.cy,fill:"url(#sg)",strokeWidth:1.5,name:"Speed(kn)"})]})})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"Activity Mix"}),(0,E.jsx)(ms,{width:"100%",height:g?150:190,children:(0,E.jsxs)(FR,{children:[(0,E.jsx)(wM,{data:[{name:"Idle",value:M.filter(T=>T.activity==="idle").length},{name:"Harbor",value:M.filter(T=>T.activity==="harbor_ops").length},{name:"Transit",value:M.filter(T=>T.activity==="transit").length}],cx:"50%",cy:"50%",innerRadius:g?30:45,outerRadius:g?55:75,paddingAngle:3,dataKey:"value",label:({name:T,percent:P})=>`${T} ${(P*100).toFixed(0)}%`,children:[N.am,N.cy,N.gn].map((T,P)=>(0,E.jsx)(wo,{fill:T},P))}),(0,E.jsx)(ws,{contentStyle:B})]})})]})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"SST \xB7 Idle% \xB7 Fouling Correlation"}),(0,E.jsx)(ms,{width:"100%",height:g?150:190,children:(0,E.jsxs)(NR,{data:w,children:[(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"month",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(Ki,{yAxisId:"l",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(Ki,{yAxisId:"r",orientation:"right",tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(ws,{contentStyle:B}),(0,E.jsx)(dS,{wrapperStyle:{fontSize:9}}),(0,E.jsx)(Lc,{yAxisId:"l",type:"monotone",dataKey:"sst",stroke:N.cy,strokeWidth:2,name:"SST\xB0C"}),(0,E.jsx)(Lc,{yAxisId:"l",type:"monotone",dataKey:"idlePct",stroke:N.am,strokeWidth:2,name:"Idle%",strokeDasharray:"5 5"}),(0,E.jsx)(Lc,{yAxisId:"r",type:"monotone",dataKey:"fouling",stroke:N.rd,strokeWidth:2,name:"FR"})]})})]})]}),a==="cost"&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{...R("repeat(4,1fr)","repeat(2,1fr)"),marginBottom:g?8:12},children:[(0,E.jsx)(Ga,{icon:Bc,label:"Annual Excess",value:`$${M[364].cumulativeCost.toLocaleString()}`,color:N.rd}),(0,E.jsx)(Ga,{icon:Lp,label:"Annual CO\u2082",value:M[364].cumulativeCO2.toFixed(1),unit:"t",color:N.am}),(0,E.jsx)(Ga,{icon:eu,label:"Clean Cost",value:`$${D.toLocaleString()}`,color:N.gn}),(0,E.jsx)(Ga,{icon:xv,label:"Net Saving",value:`$${Math.max(0,M[364].cumulativeCost-D*2).toLocaleString()}`,color:N.gn,sub:"2\xD7 clean/yr"})]}),(0,E.jsxs)("div",{style:{...R("2fr 1fr"),marginBottom:g?8:12},children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"Cumulative Cost"}),(0,E.jsx)(ms,{width:"100%",height:g?180:230,children:(0,E.jsxs)(Ip,{data:M.filter((T,P)=>P%4===0),children:[(0,E.jsx)("defs",{children:(0,E.jsxs)("linearGradient",{id:"cg",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,E.jsx)("stop",{offset:"0%",stopColor:N.rd,stopOpacity:.3}),(0,E.jsx)("stop",{offset:"100%",stopColor:N.rd,stopOpacity:0})]})}),(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"date",tick:{fontSize:7,fill:N.tm},tickFormatter:T=>T.slice(5),interval:10}),(0,E.jsx)(Ki,{tick:{fontSize:8,fill:N.tm},tickFormatter:T=>`$${(T/1e3).toFixed(0)}k`}),(0,E.jsx)(ws,{contentStyle:B,formatter:T=>[`$${T.toLocaleString()}`,""]}),(0,E.jsx)(Mp,{x:S.date,stroke:N.cy,strokeDasharray:"3 3"}),l>=0&&(0,E.jsx)(Mp,{x:M[l]?.date,stroke:N.gn,strokeWidth:2}),(0,E.jsx)(Rc,{type:"monotone",dataKey:"cumulativeCost",stroke:N.rd,fill:"url(#cg)",strokeWidth:2,name:"Excess"})]})})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"ROI"}),[["Daily penalty",`$${S.dailyExtraCost}/d`,N.rd],["Monthly",`$${Math.round(k).toLocaleString()}/mo`,N.rd],["Clean cost",`$${D.toLocaleString()}`,N.cy],["Payback",`${z}d`,N.gn],["12-mo saving",`$${Math.max(0,M[364].cumulativeCost-D*2).toLocaleString()}`,N.gn]].map(([T,P,H])=>(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"6px 8px",borderRadius:5,background:N.s2,marginBottom:4},children:[(0,E.jsx)("span",{style:{fontSize:10,color:N.tm},children:T}),(0,E.jsx)("span",{style:{fontSize:11,fontWeight:700,fontFamily:"monospace",color:H},children:P})]},T)),(0,E.jsxs)("div",{style:{marginTop:8,padding:8,borderRadius:5,background:S.fouling>2.5?N.rdD:S.fouling>1.5?N.amD:N.gnD,border:`1px solid ${S.fouling>2.5?N.rd:S.fouling>1.5?N.am:N.gn}44`},children:[(0,E.jsx)("div",{style:{fontSize:10,fontWeight:600,color:S.fouling>2.5?N.rd:S.fouling>1.5?N.am:N.gn},children:S.fouling>2.5?"\u26A0 CLEAN NOW":S.fouling>1.5?"SCHEDULE 60 DAYS":"\u2713 OK"}),(0,E.jsx)("div",{style:{fontSize:10,lineHeight:1.4,marginTop:2},children:S.fouling>2.5?`$${S.dailyExtraCost}/day excess.`:S.fouling>1.5?"Nearing intervention point.":"Monitor 90 days."})]})]})]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?10:14},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:8,fontWeight:600},children:"CO\u2082 \u2014 CII Impact"}),(0,E.jsx)(ms,{width:"100%",height:g?130:170,children:(0,E.jsxs)(Ip,{data:M.filter((T,P)=>P%4===0),children:[(0,E.jsx)("defs",{children:(0,E.jsxs)("linearGradient",{id:"c2g",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,E.jsx)("stop",{offset:"0%",stopColor:N.am,stopOpacity:.25}),(0,E.jsx)("stop",{offset:"100%",stopColor:N.am,stopOpacity:0})]})}),(0,E.jsx)(Ls,{strokeDasharray:"3 3",stroke:N.b}),(0,E.jsx)(Ds,{dataKey:"date",tick:{fontSize:7,fill:N.tm},tickFormatter:T=>T.slice(5),interval:10}),(0,E.jsx)(Ki,{tick:{fontSize:8,fill:N.tm}}),(0,E.jsx)(ws,{contentStyle:B}),(0,E.jsx)(Rc,{type:"monotone",dataKey:"cumulativeCO2",stroke:N.am,fill:"url(#c2g)",strokeWidth:2,name:"CO\u2082(t)"})]})})]})]}),a==="fleet"&&(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1,marginBottom:12,fontWeight:600},children:["Fleet \u2014 ",r1.length," Vessels"]}),(0,E.jsx)("div",{style:{display:"grid",gridTemplateColumns:`repeat(auto-fit,minmax(${g?200:270}px,1fr))`,gap:g?8:14,marginBottom:g?8:14},children:U.map(({vessel:T,latest:P},H)=>{let K=Math.min(5,Math.round(P.fouling));return(0,E.jsxs)("div",{onClick:()=>{e(H),i("twin"),r(364)},style:{background:N.s,borderRadius:10,border:`1px solid ${t===H?N.cy:N.b}`,padding:g?10:14,cursor:"pointer",position:"relative",overflow:"hidden"},children:[(0,E.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:3,background:K<=1?N.gn:K<=3?N.am:N.rd}}),(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{style:{fontSize:g?11:13,fontWeight:600},children:T.name}),(0,E.jsx)("div",{style:{fontSize:9,color:N.tm},children:T.type})]}),(0,E.jsx)("div",{style:{padding:"2px 6px",borderRadius:4,fontSize:9,fontWeight:600,background:K<=1?N.gnD:K<=3?N.amD:N.rdD,color:K<=1?N.gn:K<=3?N.am:N.rd,whiteSpace:"nowrap",height:"fit-content"},children:qR[K]})]}),(0,E.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:5,fontSize:10},children:[["Excess",`$${P.cumulativeCost.toLocaleString()}`,N.rd],["CO\u2082",`${P.cumulativeCO2.toFixed(1)}t`,N.am],["Drag",`+${P.totalResistanceIncrease}%`,N.pu],["Coating",`${T.coatingAge+365}d`,N.t]].map(([ee,ne,G])=>(0,E.jsxs)("div",{style:{padding:"5px 7px",borderRadius:4,background:N.s2},children:[(0,E.jsx)("div",{style:{color:N.tm,fontSize:8},children:ee}),(0,E.jsx)("div",{style:{fontWeight:700,fontFamily:"monospace",color:G},children:ne})]},ee))}),(0,E.jsx)("div",{style:{marginTop:6},children:(0,E.jsx)(mW,{val:P.fouling})}),(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:4,fontSize:9,color:N.cy},children:["View ",(0,E.jsx)(cv,{size:12})]})]},T.id)})}),(0,E.jsx)("div",{style:R("repeat(3,1fr)"),children:[["Fleet Excess",`$${U.reduce((T,P)=>T+P.latest.cumulativeCost,0).toLocaleString()}`,N.rd,"Annual"],["Fleet CO\u2082",`${U.reduce((T,P)=>T+P.latest.cumulativeCO2,0).toFixed(1)}t`,N.am,"Avoidable"],["Saving","~65%",N.gn,"With proactive cleaning"]].map(([T,P,H,K])=>(0,E.jsxs)("div",{style:{background:`linear-gradient(135deg,${H}18,${N.s})`,borderRadius:10,border:`1px solid ${H}33`,padding:g?12:18,textAlign:"center"},children:[(0,E.jsx)("div",{style:{fontSize:9,color:N.tm,textTransform:"uppercase",letterSpacing:1},children:T}),(0,E.jsx)("div",{style:{fontSize:g?22:30,fontWeight:700,fontFamily:"monospace",color:H,margin:"4px 0"},children:P}),(0,E.jsx)("div",{style:{fontSize:10,color:N.tm},children:K})]},T))})]}),a==="input"&&(0,E.jsx)("div",{children:(0,E.jsxs)("div",{style:R("1fr 1fr"),children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?12:18},children:[(0,E.jsx)("div",{style:{fontSize:13,fontWeight:600,marginBottom:3},children:"Ground Truth Collection"}),(0,E.jsxs)("div",{style:{fontSize:11,color:N.tm,marginBottom:14,lineHeight:1.5},children:["Reported data calibrates the model automatically.",_!==0&&(0,E.jsxs)("span",{style:{color:_>0?N.rd:N.gn,fontWeight:600},children:[" Adjustment: ",_>0?"+":"",(_*10).toFixed(0),"% growth."]})]}),[{l:"Speed (kn)",k:"speed",ph:"e.g., 8.5"},{l:"Fuel (L/hr)",k:"fuel",ph:`Baseline: ${b.fuelRate}`}].map(({l:T,k:P,ph:H})=>(0,E.jsxs)("label",{style:{display:"block",marginBottom:8,fontSize:11},children:[(0,E.jsx)("span",{style:{color:N.tm,display:"block",marginBottom:2},children:T}),(0,E.jsx)("input",{type:"number",step:"0.1",placeholder:H,value:d[P],onChange:K=>p(ee=>({...ee,[P]:K.target.value})),style:{width:"100%",padding:"7px 10px",borderRadius:6,background:N.s2,border:`1px solid ${N.b}`,color:N.t,fontSize:12,outline:"none",boxSizing:"border-box"}})]},P)),(0,E.jsxs)("label",{style:{display:"block",marginBottom:8,fontSize:11},children:[(0,E.jsx)("span",{style:{color:N.tm,display:"block",marginBottom:2},children:"Condition"}),(0,E.jsx)("select",{value:d.fouling,onChange:T=>p(P=>({...P,fouling:T.target.value})),style:{width:"100%",padding:"7px 10px",borderRadius:6,background:N.s2,border:`1px solid ${N.b}`,color:N.t,fontSize:12,outline:"none",boxSizing:"border-box"},children:qR.map((T,P)=>(0,E.jsx)("option",{value:`FR${P}`,children:T},P))})]}),(0,E.jsxs)("label",{style:{display:"block",marginBottom:8,fontSize:11},children:[(0,E.jsx)("span",{style:{color:N.tm,display:"block",marginBottom:2},children:"Notes"}),(0,E.jsx)("textarea",{rows:2,placeholder:"e.g., Heavy growth on sea chests...",value:d.notes,onChange:T=>p(P=>({...P,notes:T.target.value})),style:{width:"100%",padding:"7px 10px",borderRadius:6,resize:"vertical",background:N.s2,border:`1px solid ${N.b}`,color:N.t,fontSize:12,outline:"none",fontFamily:"inherit",boxSizing:"border-box"}})]}),(0,E.jsxs)("button",{onClick:C,style:{width:"100%",padding:9,borderRadius:6,border:"none",cursor:"pointer",background:`linear-gradient(135deg,${N.cy},#0066bb)`,color:"#fff",fontSize:12,fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[(0,E.jsx)(Op,{size:13}),"Submit"]})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?12:18,marginBottom:10},children:[(0,E.jsx)("div",{style:{fontSize:13,fontWeight:600,marginBottom:8},children:"Calibration Accuracy"}),[{r:"0",c:"\xB130%",cl:N.rd,l:"Model-only"},{r:"1-2",c:"\xB120%",cl:N.am,l:"Initial"},{r:"3-5",c:"\xB115%",cl:N.am,l:"Good"},{r:"6+",c:"\xB110%",cl:N.gn,l:"Strong"},{r:"Dive",c:"\xB15%",cl:N.gn,l:"Gold standard"}].map(({r:T,c:P,cl:H,l:K})=>(0,E.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 8px",borderRadius:5,background:N.s2,marginBottom:3},children:[(0,E.jsx)("div",{style:{width:6,height:6,borderRadius:"50%",background:H,flexShrink:0}}),(0,E.jsxs)("div",{style:{flex:1,fontSize:10},children:[(0,E.jsx)("span",{style:{fontWeight:500},children:T})," ",(0,E.jsx)("span",{style:{color:N.tm},children:K})]}),(0,E.jsx)("span",{style:{fontSize:11,fontFamily:"monospace",fontWeight:600,color:H},children:P})]},T))]}),(0,E.jsxs)("div",{style:{background:N.s,borderRadius:10,border:`1px solid ${N.b}`,padding:g?12:18},children:[(0,E.jsxs)("div",{style:{fontSize:13,fontWeight:600,marginBottom:8},children:["Reports (",c.length,")"]}),c.length===0?(0,E.jsx)("div",{style:{fontSize:11,color:N.tm,textAlign:"center",padding:12},children:"No reports yet."}):c.map((T,P)=>(0,E.jsxs)("div",{style:{padding:6,borderRadius:5,background:N.s2,border:`1px solid ${N.b}`,fontSize:10,marginBottom:3},children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,E.jsxs)("span",{style:{fontWeight:600},children:["Day ",T.day+1]}),(0,E.jsx)("span",{style:{color:N.gn},children:"\u2713"})]}),(0,E.jsxs)("div",{style:{color:N.tm},children:[T.speed&&`${T.speed}kn`," ",T.fuel&&`\xB7 ${T.fuel}L/hr`," \xB7 ",T.fouling]})]},P))]})]})]})}),a==="docs"&&(0,E.jsxs)("div",{style:{maxWidth:800},children:[(0,E.jsxs)("div",{style:{marginBottom:16},children:[(0,E.jsx)("div",{style:{fontSize:g?16:20,fontWeight:700,marginBottom:4},children:"MarineStream Digital Twin"}),(0,E.jsx)("div",{style:{fontSize:12,color:N.tm,lineHeight:1.6},children:"Technical documentation covering the fouling simulation model, data requirements, physics engine, and operational guide."})]}),(0,E.jsxs)(Ei,{title:"1. What Is This?",defaultOpen:!0,children:[(0,E.jsxs)("p",{children:["This application creates a ",(0,E.jsx)("strong",{style:{color:N.t},children:"parametric digital twin"})," of a vessel's hull and simulates biofouling accumulation over time. It ingests operational profiles (speed, activity, location), environmental data (sea surface temperature), and vessel characteristics to predict hull condition, drag penalties, excess fuel consumption, and CO\u2082 emissions."]}),(0,E.jsxs)("p",{children:["It is ",(0,E.jsx)("em",{children:"not"})," a CFD simulation. It is a calibrated parametric model \u2014 fast enough to run interactively, accurate enough (\xB110-30% depending on calibration) to support commercial maintenance decisions."]})]}),(0,E.jsxs)(Ei,{title:"2. How to Use It",children:[(0,E.jsx)("p",{style:{color:N.t,fontWeight:600},children:"Quick Start:"}),(0,E.jsx)("p",{children:"Select a vessel from the header dropdown. The Digital Twin tab loads immediately with a 3D hull, KPI dashboard, and 365-day simulation. Use the timeline slider or press Play to watch fouling accumulate over a year."}),(0,E.jsx)("p",{style:{color:N.t,fontWeight:600,marginTop:8},children:"Tab Guide:"}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Digital Twin"}),' \u2014 The main view. 3D hull rotates on drag/touch. Fouling colours update as you scrub the timeline. The side panel shows the AIS track, physics parameters (WSA, Re, Cf), and the Cleaning Scenario simulator. Click "Simulate Clean" at any timeline position to compare costs with vs without cleaning.']}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Voyage Analysis"})," \u2014 Speed profiles, activity breakdown (idle/harbor/transit), and the SST-idle-fouling correlation chart. Use this to understand which operational patterns drive fouling growth."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Cost Impact"})," \u2014 The money tab. Cumulative excess fuel cost, CO\u2082 trajectory, cleaning ROI calculator, and the auto-generated maintenance recommendation (Clean Now / Schedule / Monitor). This is the board presentation slide."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Fleet Overview"})," \u2014 All vessels at a glance. Click any card to jump to its twin. Shows total fleet excess cost and emissions \u2014 the aggregate case for proactive maintenance."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Skipper Input"})," \u2014 Ground truth collection. Skippers or engineers enter observed speed, fuel burn, and hull condition. When fuel burn diverges from model predictions, the growth rate auto-calibrates. Each report tightens accuracy from \xB130% toward \xB110%."]}),(0,E.jsx)("p",{style:{color:N.t,fontWeight:600,marginTop:8},children:"Board Presentation Tips:"}),(0,E.jsx)("p",{children:'1. Start on the Digital Twin tab with HMAS Perth. Press Play \u2014 the hull darkens from blue to brown over the year. Pause at Day 250. 2. Click "Simulate Clean" at Day 120 to show the intervention scenario. 3. Switch to Cost Impact to show the dollar savings. 4. Switch to Fleet to show the aggregate problem. 5. Finish on Skipper Input to explain the calibration moat.'})]}),(0,E.jsxs)(Ei,{title:"3. How the Fouling Model Works",children:[(0,E.jsx)("p",{style:{color:N.t,fontWeight:600,marginBottom:4},children:"Growth Equation (daily):"}),(0,E.jsx)("div",{style:{background:N.s2,padding:12,borderRadius:6,fontFamily:"monospace",fontSize:11,marginBottom:10,overflowX:"auto"},children:"\u0394Fouling = 0.006 \xD7 T_factor \xD7 Speed_suppression \xD7 Coating_factor \xD7 Saturation \xD7 Calibration"}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Temperature factor:"})," Exponential relationship \u2014 each degree above 20\xB0C increases growth rate by ~4%. Correctly models Southern Hemisphere seasonality (peaks Jan-Feb in Perth/Cairns, troughs Jul-Aug)."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Speed suppression:"})," Continuous sigmoid function. Stationary hull = full growth (1.0). At 7 knots, boundary layer shear begins removing biofilm (~50% suppression). Above 15 knots, only calcareous growth persists (~5% growth rate)."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Coating degradation:"})," Linear increase from 1.0 at application to 2.5\xD7 at ~4.4 years. Reflects antifouling biocide depletion \u2014 the single strongest predictor of fouling severity (Floerl et al., 2005)."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Saturation:"})," Logistic carrying capacity at FR5. Growth decelerates as available colonisation surface reduces. Uses power-law saturation (exponent 1.5) for steeper transition from rapid growth to plateau."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Initial condition:"})," Fouling state is initialised from coating age, not from zero. A 720-day-old coating starts at approximately FR1.5."]})]}),(0,E.jsxs)(Ei,{title:"4. Resistance & Cost Physics",children:[(0,E.jsx)("p",{children:"The drag penalty calculation chain:"}),(0,E.jsxs)("div",{style:{background:N.s2,padding:12,borderRadius:6,fontSize:11,marginBottom:10,lineHeight:1.8},children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"1."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Wetted Surface Area"})," \u2014 Holtrop-Mennen: S = L(2T+B)\u221ACm \xD7 (0.453 + 0.4425Cb \u2212 0.2862Cm \u2212 0.003467(B/T) + 0.3696Cwp)"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"2."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Reynolds Number"})," \u2014 Re = V\xD7L / \u03BD (\u03BD = 1.19\xD710\u207B\u2076 m\xB2/s for seawater)"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"3."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Clean friction"})," \u2014 ITTC-57: Cf = 0.075 / (log\u2081\u2080(Re) \u2212 2)\xB2"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"4."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Fouling \u0394Cf"})," \u2014 FR scale interpolation (0% at FR0 to +193% at FR5, UoM validated)"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"5."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Wave resistance ratio"})," \u2014 Smooth sigmoid f(Fr), replaces step function"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"6."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Total resistance increase"})," \u2014 \u0394R_T = \u0394Cf / (1 + Cr/Cf + Ca/Cf)"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"7."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Propulsive efficiency"})," \u2014 Speed-dependent curve peaking at ~65% design speed"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"8."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"Fuel penalty"})," \u2014 \u0394Fuel = \u0394R_T \xD7 (0.65 / \u03B7_prop)"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"9."})," ",(0,E.jsx)("strong",{style:{color:N.t},children:"CO\u2082"})," \u2014 Fuel-type specific: MDO 3.206, F-76 3.206, HFO 3.114 kg CO\u2082/kg fuel"]})]})]}),(0,E.jsx)(Ei,{title:"5. FR Rating Scale (Validated)",children:(0,E.jsx)("div",{style:{overflowX:"auto"},children:(0,E.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:11},children:[(0,E.jsx)("thead",{children:(0,E.jsx)("tr",{style:{borderBottom:`2px solid ${N.b}`},children:["Rating","Description","\u0394Cf (friction)","Validation"].map(T=>(0,E.jsx)("th",{style:{padding:"6px 8px",textAlign:"left",color:N.t,fontWeight:600},children:T},T))})}),(0,E.jsx)("tbody",{children:[["FR0","Clean hull, new coating","+0%","Baseline"],["FR1","Light biofilm / slime","+15%","Research calibrated"],["FR2","Medium slime film","+35%","Research calibrated"],["FR3","Heavy slime, light weed","+60%","Research calibrated"],["FR4","Light calcareous growth","+95%","Rio Tinto tug study"],["FR5","Heavy calcareous / barnacles","+193%","Coral Adventurer study"]].map(([T,P,H,K],ee)=>(0,E.jsxs)("tr",{style:{borderBottom:`1px solid ${N.b}22`,background:ee%2===0?N.s2:"transparent"},children:[(0,E.jsx)("td",{style:{padding:"5px 8px",fontWeight:600,color:Zi[ee]?`rgb(${Zi[ee].map(ne=>Math.round(ne*255)).join(",")})`:N.t},children:T}),(0,E.jsx)("td",{style:{padding:"5px 8px"},children:P}),(0,E.jsx)("td",{style:{padding:"5px 8px",fontFamily:"monospace",color:N.am},children:H}),(0,E.jsx)("td",{style:{padding:"5px 8px",color:N.tm},children:K})]},T))})]})})}),(0,E.jsx)(Ei,{title:"6. Data Requirements",children:(0,E.jsx)("div",{style:{overflowX:"auto"},children:(0,E.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:11},children:[(0,E.jsx)("thead",{children:(0,E.jsx)("tr",{style:{borderBottom:`2px solid ${N.b}`},children:["Data","Minimum","Ideal","Source"].map(T=>(0,E.jsx)("th",{style:{padding:"5px 8px",textAlign:"left",color:N.t,fontWeight:600},children:T},T))})}),(0,E.jsx)("tbody",{children:[["Vessel dimensions","L, B, T, type","+Cb, Cm, Cwp, displacement","MarineStream"],["AIS history","3 months","12+ months, 5min resolution","AIS provider"],["Sea surface temp","Monthly regional avg","Daily, 0.25\xB0 grid","NOAA OISST"],["Coating info","Type + application date","+system, DFT readings","Vessel records"],["Inspections","1 per vessel","Quarterly with FR ratings","Franmarine"],["Fuel baseline","Estimated (Holtrop)","Actual noon report data","Operator"],["Fuel price","Fixed assumption","Live bunker prices","Ship & Bunker"]].map(([T,P,H,K],ee)=>(0,E.jsxs)("tr",{style:{borderBottom:`1px solid ${N.b}22`,background:ee%2===0?N.s2:"transparent"},children:[(0,E.jsx)("td",{style:{padding:"5px 8px",fontWeight:500,color:N.t},children:T}),(0,E.jsx)("td",{style:{padding:"5px 8px"},children:P}),(0,E.jsx)("td",{style:{padding:"5px 8px"},children:H}),(0,E.jsx)("td",{style:{padding:"5px 8px",color:N.cy},children:K})]},T))})]})})}),(0,E.jsxs)(Ei,{title:"7. Confidence & Calibration",children:[(0,E.jsx)("p",{children:"Model accuracy depends on ground truth calibration data:"}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.rd},children:"No calibration (\xB130%):"})," Pure model prediction from vessel parameters and environmental data. Suitable for fleet-level estimates and trend analysis, not individual vessel decisions."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.am},children:"Skipper reports (\xB115-20%):"})," When skippers report actual fuel burn rates, the model detects divergence from predictions and adjusts the growth rate coefficient. 3-5 reports bring meaningful improvement."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.gn},children:"Dive inspection (\xB15-10%):"})," A single Franmarine inspection with FR ratings per zone provides direct ground truth. The model recalibrates all growth parameters to match observed conditions. This is Franmarine's competitive advantage \u2014 pure software companies cannot generate this data."]})]}),(0,E.jsxs)(Ei,{title:"8. 3D Hull Visualisation",children:[(0,E.jsx)("p",{children:"The hull is parametrically generated from vessel dimensions using superellipse cross-sections. The block coefficient (Cb) drives section fullness \u2014 a tug with Cb 0.55 has visibly fuller midship sections than a frigate at Cb 0.48."}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Fouling zones:"})," The colour overlay varies by hull zone. Bottom flat plates (highest multiplier 1.25\xD7), bow/stern niche areas (1.35\xD7 \u2014 these foul fastest due to low flow), waterline (0.85\xD7), keel centreline (1.15\xD7), and above-waterline (0.15\xD7 \u2014 minimal)."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.t},children:"Features:"})," Twin/single propellers with spinning blades, rudder, bulbous bow (where applicable), boot-topping waterline stripe, animated water surface, and underwater particles. Touch-enabled for tablet presentations."]})]}),(0,E.jsxs)(Ei,{title:"9. Cleaning Scenario Simulator",children:[(0,E.jsx)("p",{children:'Click "Simulate Clean" on any timeline day to model a 95% fouling removal event. The system runs a parallel 365-day simulation without cleaning and compares the two trajectories. The resulting delta shows net annual savings after deducting cleaning cost.'}),(0,E.jsx)("p",{children:'This is the key board presentation tool \u2014 it directly answers "what is hull cleaning worth to us in dollars?"'})]}),(0,E.jsxs)(Ei,{title:"10. Known Limitations",children:[(0,E.jsxs)("p",{children:["\u2022 ",(0,E.jsx)("strong",{style:{color:N.t},children:"No stochastic biological events."})," Mass barnacle settlement from spawning events cannot be predicted. Model shows smooth growth; reality has step changes."]}),(0,E.jsxs)("p",{children:["\u2022 ",(0,E.jsx)("strong",{style:{color:N.t},children:"No species composition."})," The FR scale abstracts all fouling into a roughness equivalent. Different species at the same FR have different drag characteristics."]}),(0,E.jsxs)("p",{children:["\u2022 ",(0,E.jsx)("strong",{style:{color:N.t},children:"Niche areas modelled as multipliers, not separately."})," Sea chest fouling, propeller roughness, and rudder fouling contribute disproportionately to performance loss but are approximated, not independently modelled."]}),(0,E.jsxs)("p",{children:["\u2022 ",(0,E.jsx)("strong",{style:{color:N.t},children:"Loading condition not dynamic."})," Ballast vs laden draft changes are not yet simulated day-by-day. The Gold Standard paper showed dramatically different speed-fuel exponents for different loading states."]}),(0,E.jsxs)("p",{children:["\u2022 ",(0,E.jsx)("strong",{style:{color:N.t},children:"AIS data is simulated."})," This MVP generates synthetic voyage data. Production version requires live AIS feed integration (Datalastic, AISStream, or equivalent)."]})]}),(0,E.jsxs)(Ei,{title:"11. Roadmap",children:[(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Phase 2 \u2014 AIS Integration:"})," Connect to live AIS. Map positions to NOAA SST API. Replace simulated voyage profiles with real operational data."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Phase 3 \u2014 Calibration Loop:"})," Integrate Franmarine inspection reports as ground truth. Bayesian parameter update when model predictions diverge from observed FR states."]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{style:{color:N.cy},children:"Phase 4 \u2014 MarineStream Production:"})," Multi-vessel dashboard, automated cleaning schedule optimisation, regulatory compliance reporting (IMO CII), export for client proposals."]})]}),(0,E.jsx)(Ei,{title:"12. References",children:(0,E.jsxs)("p",{style:{fontSize:11,lineHeight:1.8},children:["\u2022 Uzun et al. (2019) \u2014 Time-dependent biofouling growth model, ~32% frictional resistance increase validated over 1 year",(0,E.jsx)("br",{}),"\u2022 Demirel et al. (2017) \u2014 Fouling roughness to drag increment modelling",(0,E.jsx)("br",{}),"\u2022 Floerl et al. (2005) \u2014 Coating age as strongest predictor, classification tree analysis on 783 vessels",(0,E.jsx)("br",{}),"\u2022 Holtrop & Mennen (1982) \u2014 Statistical resistance prediction method",(0,E.jsx)("br",{}),"\u2022 ITTC (1957) \u2014 Friction line for smooth hull baseline",(0,E.jsx)("br",{}),"\u2022 University of Melbourne / AQUAMARS \u2014 FR0-FR5 drag coefficients, validated on Coral Adventurer and Rio Tinto tug",(0,E.jsx)("br",{}),"\u2022 Mittendorf et al. (2023) \u2014 Incremental learning neural network for fouling concept drift (digital twin approach)",(0,E.jsx)("br",{}),"\u2022 Nikolaidis et al. (2024) \u2014 ML regression: ~11.3% power increase at advanced fouling, Extra Trees at 1.1% error",(0,E.jsx)("br",{}),"\u2022 Degiuli et al. (2023) \u2014 Deterministic fouling & cost model, optimal cleaning interval computation"]})})]})]}),(0,E.jsxs)("div",{style:{borderTop:`1px solid ${N.b}`,padding:g?"8px 10px":"10px 20px",display:"flex",justifyContent:"space-between",fontSize:8,color:N.td,flexWrap:"wrap",gap:4},children:[(0,E.jsx)("span",{children:"MarineStream Digital Twin v3.0 \xB7 Franmarine Underwater Services \xB7 Confidential"}),(0,E.jsx)("span",{children:"Holtrop-Mennen WSA \xB7 ITTC-57 \xB7 Logistic growth + SST(SH) \xB7 UoM FR coefficients"})]})]})}(0,vW.createRoot)(document.getElementById("root")).render(gW.default.createElement(tve));})();
/*! Bundled license information:

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim.production.js:
  (**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js:
  (**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

decimal.js-light/decimal.js:
  (*! decimal.js-light v2.5.1 https://github.com/MikeMcl/decimal.js-light/LICENCE *)

react-is/cjs/react-is.production.js:
  (**
   * @license React
   * react-is.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

use-sync-external-store/cjs/use-sync-external-store-with-selector.production.js:
  (**
   * @license React
   * use-sync-external-store-with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

three/build/three.core.js:
three/build/three.module.js:
  (**
   * @license
   * Copyright 2010-2026 Three.js Authors
   * SPDX-License-Identifier: MIT
   *)

lucide-react/dist/esm/shared/src/utils/mergeClasses.js:
lucide-react/dist/esm/shared/src/utils/toKebabCase.js:
lucide-react/dist/esm/shared/src/utils/toCamelCase.js:
lucide-react/dist/esm/shared/src/utils/toPascalCase.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/shared/src/utils/hasA11yProp.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/anchor.js:
lucide-react/dist/esm/icons/book-open.js:
lucide-react/dist/esm/icons/chevron-down.js:
lucide-react/dist/esm/icons/chevron-right.js:
lucide-react/dist/esm/icons/chevron-up.js:
lucide-react/dist/esm/icons/circle-check-big.js:
lucide-react/dist/esm/icons/clock.js:
lucide-react/dist/esm/icons/dollar-sign.js:
lucide-react/dist/esm/icons/eye.js:
lucide-react/dist/esm/icons/flame.js:
lucide-react/dist/esm/icons/gauge.js:
lucide-react/dist/esm/icons/info.js:
lucide-react/dist/esm/icons/layers.js:
lucide-react/dist/esm/icons/map-pin.js:
lucide-react/dist/esm/icons/navigation.js:
lucide-react/dist/esm/icons/pause.js:
lucide-react/dist/esm/icons/play.js:
lucide-react/dist/esm/icons/scissors.js:
lucide-react/dist/esm/icons/send.js:
lucide-react/dist/esm/icons/ship.js:
lucide-react/dist/esm/icons/thermometer.js:
lucide-react/dist/esm/icons/trending-down.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.575.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
</script>
</body>
</html>
